import{d as t,u as e,a as o,S as i,A as a,h as s,l as n,v as l,D as r,_ as c,m as d,b as h,c as u,p as m,P as f,e as g,f as p,J as w,V as b}from"./vendor.esm.min.js";
/**
 * Gantt-Schedule-Timeline-Calendar Time api
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class v{constructor(i,a){this.utcMode=!1,this.unsubs=[],this.currentDateLastCheck=0,this.state=i,this.api=a,this.dayjs=t,this.dayjs.extend(e),this.dayjs.extend(o),this.unsubs.push(i.subscribe("config.utcMode",(t=>{this.utcMode=t}))),this.unsubs.push(i.subscribe("config.locale",(t=>{if(!t.name)throw new Error("Locale must have a name property.");this.locale=t,this.dayjs.locale(this.locale,null,!0)})))}destroy(){for(const t of this.unsubs)t()}date(e=void 0){return this.utcMode?t.utc(e).locale(this.locale.name):e?t(e).locale(this.locale.name):t().locale(this.locale.name)}recalculateTime(){this.api.main.recalculateTimes([{name:"all"}])}recalculateFromTo(t,e=!1){const o=t.period;if((t=Object.assign({},t)).from=+t.from,t.to=+t.to,t.fromDate=this.date(t.from).startOf(o),t.from=t.fromDate.valueOf(),t.toDate=this.date(t.to).endOf(o),t.to=t.toDate.valueOf(),!t.autoExpandTimeFromItems||t.calculatedZoomMode)return t;let i=Number.MAX_SAFE_INTEGER,a=0;const s=this.state.get("config.chart.items");if(Object.keys(s).length>0&&(0===t.from||0===t.to||e)){for(const t in s){const e=s[t];e.time.start<i&&e.time.start&&(i=e.time.start),e.time.end>a&&(a=e.time.end)}i<t.from&&(t.fromDate=this.date(i).startOf(o),t.from=t.fromDate.valueOf()),a>t.to&&(t.toDate=this.date(a).endOf(o),t.to=t.toDate.valueOf())}return t}getCenter(t){return t.leftGlobal+Math.round((t.rightGlobal-t.leftGlobal)/2)}isInCurrentView(t,e=this.state.get("$data.chart.time")){const o=t.valueOf();return!(o<e.leftGlobal||o>e.rightGlobal)}recalculateDatesWidths(t,e=this.state.get("$data.chart.time")){if(!e.timePerPixel)throw new Error("[gantt-schedule-timeline-calendar] No timePerPixel");for(const o of t){if(!o.leftGlobal||!o.rightGlobal)throw new Error("[gantt-schedule-timeline-calendar] No date leftGlobal or rightGlobal.");o.width=(o.rightGlobal+1-o.leftGlobal)/e.timePerPixel}return t}recalculateDatesPositions(t,e=this.state.get("$data.chart.time"),o=!0,i=!1){let a=0;if(o)for(const o of t){if(o.leftGlobal>=e.leftGlobal)break;if(isNaN(o.width))throw new Error("[gantt-schedule-timeline-calendar] NaN date width.");a-=o.width}for(let o of t){if(i&&(o=this.api.mergeDeep({},o)),o.leftPx=a,o.rightPx=a+o.width,isNaN(o.leftPx)||isNaN(o.rightPx))throw new Error("[gantt-schedule-timeline-calendar] Date leftPx or rightPx is a NaN.");o.currentView&&(o.currentView.leftPx=o.leftPx-e.leftPx,o.currentView.rightPx=o.rightPx-e.leftPx,o.currentView.width=o.currentView.rightPx-o.currentView.leftPx),a+=o.width}return t}setDatesCacheLevel(t,e,o=this.state.get("$data.chart.time")){if(!e.length)return;o.datesCache||(o.datesCache={timePerPixel:0,levels:[]}),o.datesCache.timePerPixel=o.timePerPixel,o.datesCache.levels[t]||(o.datesCache.levels[t]={leftTime:0,rightTime:0,dates:[]});const i=o.datesCache.levels[t];i.leftTime=e[0].leftGlobal,i.rightTime=e[e.length-1].rightGlobal,i.dates=[...e]}addDatesToCacheLevel(t,e,o=this.state.get("$data.chart.time")){if(!e.length)return;if(!o.datesCache)return;if(o.datesCache.timePerPixel!==o.timePerPixel)return e;const i=e[0],a=e[e.length-1],s=o.datesCache.levels[t];if(!s)return e;if(s.leftTime<=i.leftGlobal&&s.rightTime>=a.rightGlobal)return s.dates;if(s.dates.length>=1e6)throw new Error("[gantt-schedule-timeline-calendar] To many dates.");const n=[];if(i.leftGlobal<s.leftTime){for(const t of e){if(!(t.leftGlobal<s.leftTime))break;n.push(t)}s.leftTime=n[0].leftGlobal}for(const t of s.dates)n.push(t);if(a.rightGlobal>s.rightTime){for(const t of e)t.rightGlobal>s.rightTime&&n.push(t);s.rightTime=n[n.length-1].rightGlobal}return s.dates=n,s.dates}isLevelDateInCache(t,e,o=this.state.get("$data.chart.time")){if(!o.datesCache)return!1;if(o.datesCache.timePerPixel!==o.timePerPixel)return!1;const i=o.datesCache.levels[t];return!(!i||!i.dates.length)&&(e>=i.leftTime&&e<=i.rightTime)}getLevelDatesFromCache(t,e,o,i=this.state.get("$data.chart.time")){if(i.datesCache.timePerPixel!==i.timePerPixel)return[];const a=i.datesCache.levels[t];if(!a)return[];if(!(e>=a.leftTime&&o<=a.rightTime))return[];let s=0,n=0,l=!1;const r=a.dates.length;for(;n<r;n++){const t=a.dates[n];if(t.rightGlobal>=e&&(l=!0),t.rightGlobal>=o)break;l||s++}return{[Symbol.iterator](){let t=s;return{next:()=>t<=n?{value:a.dates[t++],done:!1}:(t=s,{done:!0})}},length:n-s+1}}getLevelDateFromCache(t,e,o=this.state.get("$data.chart.time")){if(!this.isLevelDateInCache(t,e,o))return null;for(const i of o.datesCache.levels[t].dates)if(i.rightGlobal>=e)return i;return null}getAllLevelDatesFromCache(t,e=this.state.get("$data.chart.time")){return e.datesCache.levels[t].dates}findOrCreateMainDateAtTime(t,e=this.state.get("$data.chart.time")){if(this.isLevelDateInCache(e.level,t,e))return this.getLevelDateFromCache(e.level,t,e);let o=[];e.datesCache.levels[e.level]&&(o=e.datesCache.levels[e.level].dates),o=this.addMissingDates(o,this.date(t),e);for(const e of o)if(e.rightGlobal>=t)return e;return null}addMissingDates(t,e,o=this.state.get("$data.chart.time"),i=!0){if(!t.length)return[];const a=t[0],s=t[t.length-1];if(!(e.valueOf()<a.leftGlobal||e.valueOf()>s.rightGlobal))return t;if(this.isLevelDateInCache(o.level,e.valueOf(),o))return this.getAllLevelDatesFromCache(o.level,o);const n=t.length;let l=t;if(i){l=new Array(n);for(let e=0;e<n;e++)l[e]=this.api.mergeDeep({},t[e])}const r=this.state.get(`config.chart.calendarLevels.${o.level}`),c=this.getCurrentFormatForLevel(r,o);let d=1;if("number"==typeof c.periodIncrement&&(d=c.periodIncrement),e.valueOf()<a.leftGlobal){if("function"==typeof c.periodIncrement)return t;const s=a.leftGlobalDate.subtract(1,"ms");let n=a.leftGlobalDate.subtract(d,o.period).startOf(o.period);for(;e.valueOf()<n.valueOf();)n=n.subtract(d,o.period).startOf(o.period);let r=[];do{r=this.generatePeriodDates({leftDate:n,rightDate:s,period:o.period,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!0,time:o}),n=n.subtract(1,o.period)}while(!r.length||r[0].leftGlobal>e.valueOf());return r=r.filter((t=>!l.find((e=>e.leftGlobal===t.leftGlobal)))),t=[...r,...l],t=this.recalculateDatesWidths(t,o),t=this.recalculateDatesPositions(t,o,!0,i),this.addDatesToCacheLevel(o.level,t,o)}if(e.valueOf()>s.rightGlobal){let a=s.rightGlobalDate.add(d,o.period).endOf(o.period);for(;e.valueOf()>a.valueOf();)a=a.add(d,o.period).endOf(o.period);let n=this.generatePeriodDates({leftDate:s.rightGlobalDate.add(1,"ms"),rightDate:a,period:o.period,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!0,time:o});return n=n.filter((t=>!l.find((e=>e.leftGlobal===t.leftGlobal)))),t=[...l,...n],t=this.recalculateDatesWidths(t,o),t=this.recalculateDatesPositions(t,o,!0,i),this.addDatesToCacheLevel(o.level,t,o)}return l}getGlobalOffsetPxFromDates(t,e=!0,o=this.state.get("$data.chart.time"),i=void 0){const a=t.valueOf();if(!o.allDates||0===o.allDates.length)return-100;if(void 0===i&&(i=o.allDates[o.level]),e&&(i=this.addMissingDates(i,t,o)),!i||0===i.length)return-1;let s;for(let t=0,e=i.length;t<e;t++){const e=i[t];if(a<=e.rightGlobal+1){s=e;break}}return s?a<s.leftGlobal?s.leftPx:s.rightPx-(s.rightGlobal-a)/o.timePerPixel:a<=o.leftGlobal?0:a>=o.rightGlobal?o.totalViewDurationPx+(a-o.rightGlobal+1)/o.timePerPixel:-1}getViewOffsetPxFromDates(t,e=!0,o=this.state.get("$data.chart.time"),i=void 0,a=!0){i||(i=o.allDates[o.level]),a&&(i=this.addMissingDates(i,t,o));const s=this.getDatesDiffPx(o.leftGlobalDate,t,o,!0,i);return e?this.limitOffsetPxToView(s):s}limitOffsetPxToView(t,e=this.state.get("$data.chart.time")){if(t<0)return 0;if(!e.levels.length)return e.width;const o=e.levels[e.level];if(!o.length)return e.width;const i=o[o.length-1];return t>i.currentView.rightPx?i.currentView.rightPx:t}findDateAtViewOffsetPx(t,e){return e.find((e=>e.currentView.rightPx>=t))}findDateIndex(t,e){let o=0;for(const i of e){if(i.rightGlobal>=t)return o;o++}return-1}findDateAtTime(t,e=void 0){if(!e){const t=this.state.get("$data.chart.time");e=t.allDates[t.level]}return e.find((e=>e.rightGlobal>=t))}getMainDateFromRelativePosition(t,e){const o=t.leftPx+e,i=this.state.get("$data.chart.time"),a=i.allDates[i.level];for(const t of a)if(t.rightPx>o)return t}getTimeFromOffsetPx(t,e=!0,o=this.state.get("$data.chart.time"),i=void 0){let a=t;e&&(a+=o.leftPx),i||(i=o.allDates[o.level]);const s=this.state.get(`config.chart.calendarLevels.${o.level}`),n=this.getCurrentFormatForLevel(s,o);let l=1;if("number"==typeof n.periodIncrement&&(l=n.periodIncrement),a<0){if("function"==typeof n.periodIncrement)return o.from;let t,e=o.fromDate.subtract(l,o.period).startOf(o.period),i=0;for(let s=0;s<1e3;s++){const s=this.generatePeriodDates({leftDate:e,rightDate:e.add(l,o.period).subtract(1,"ms"),period:o.period,time:o,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!0,expandIfMissing:!1});if(s.length&&(t=s[0],i-=t.width,i<=a))return t.leftGlobal+(a-i)*o.timePerPixel;e=e.subtract(l,o.period).startOf(o.period)}}else if(a>o.totalViewDurationPx){let t,e=o.toDate.add(1,o.period).startOf(o.period),i=o.totalViewDurationPx;for(let s=0;s<1e3;s++){const s=this.generatePeriodDates({leftDate:e,rightDate:e.add(l,o.period).subtract(1,"ms"),period:o.period,time:o,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!0,expandIfMissing:!1});if(s.length&&(t=s[0],i+=t.width,i>a))return t.rightGlobal+1-(i-a)*o.timePerPixel;e=e.add(l,o.period).startOf(o.period)}}for(let t=0,e=i.length;t<e;t++){const e=i[t];if(e.rightPx>a){const t=(e.rightPx-a)*o.timePerPixel;return e.rightGlobal+1-t}}const r=i[i.length-1];return r.rightGlobal+1-(r.rightPx-a)*o.timePerPixel}getCurrentFormatForLevel(t,e){return t.find((t=>+e.zoom<=+t.zoomTo))}alignLevelToMain(t,e,o=this.state.get("$data.chart.time")){if(t===o.level)return e;if(!this.state.get("config.chart.time.alignLevelsToMain"))return e;const i=o.allDates[o.level];if(!i||!i.length)return e;if(!e||!e.length)return e;const a=e.length;for(let t=0;t<a;t++){const a=e[t];let s,n=!1,l=0;for(const t of i){if(t.rightGlobal>=a.leftGlobal){if(!n)if(t.leftGlobal>=a.leftGlobal)a.leftGlobal=t.leftGlobal,a.leftGlobalDate=this.date(a.leftGlobal),a.leftPx=t.leftPx;else{const e=(t.rightGlobal-a.leftGlobal)/o.timePerPixel;l=-(t.width-e)}n=!0}if(t.leftGlobal>a.rightGlobal)break;n&&(l+=t.width,s=t)}if(s)if(s.rightGlobal<=a.rightGlobal)a.rightGlobal=s.rightGlobal,a.rightGlobalDate=this.date(a.rightGlobal),a.width=l,a.rightPx=a.leftPx+a.width;else{const t=(s.rightGlobal-a.rightGlobal)/o.timePerPixel;a.width=l-t,a.rightPx=a.leftPx+a.width}}return e}stopCheckingCurrentDates(){this.checkCurrentDateTimeoutId&&clearTimeout(this.checkCurrentDateTimeoutId)}checkCurrentDates(t=!1,e=this.state.get("$data.chart.time")){const o=this.date().valueOf(),i=e.checkCurrentDateInterval;if(this.stopCheckingCurrentDates(),t&&(this.checkCurrentDateTimeoutId=setTimeout((()=>{this.checkCurrentDates(t,e)}),i)),o-this.currentDateLastCheck<i)return;const a=e.allDates;let s=!1;for(const t of a){const e=t.length;for(let i=0;i<e;i++){const a=t[i],n=a.current;a.current=!1,a.previous=!1,a.next=!1,a.leftGlobal<=o&&a.rightGlobal>=o&&(!0!==n&&(s=!0),a.current=!0,i>0&&(t[i-1].previous=!0),i+1<e&&(t[i+1].next=!0))}}this.currentDateLastCheck=o,s&&this.state.update("$data.chart.time.levels",(t=>t),{data:"current-time"}),this.api.render()}getDSTDiffForLevel(t,e,o,i=this.state.get("$data.chart.time")){const a=this.api.time.getLevelDatesFromCache(t,e,o,i);let s=0;for(const t of a)t.DST.diffMs&&e<=t.DST.afterTime&&o>t.DST.afterTime&&(s+=t.DST.diffMs);return s}setDatesDST(t){for(const e of t){const t=e.rightGlobal-e.leftGlobal,o=e.rightGlobalDate.utc(!0).valueOf()-e.leftGlobalDate.utc(!0).valueOf();if(t!==o){e.DST={diffMs:t-o,afterTime:0,afterDate:null};for(let t=0;t<9216;t++)if(e.leftGlobalDate.add(t,"hour").hour()!==e.leftGlobalDate.utc(!0).add(t,"hour").hour()){e.DST.afterDate=e.leftGlobalDate.add(t,"hour").subtract(1,"ms"),e.DST.afterTime=e.DST.afterDate.valueOf();break}}}return t}_generatePeriodDates(t){const e=[];t=Object.assign({},t);const{datesCount:o,rightDate:i,period:a,level:s,levelIndex:n,time:l,originalLeftDate:r,format:c}=t;let d=t.leftDate;const h=this.date().valueOf();for(let t=0;t<o;t++){let t=c.periodIncrement||1;"function"==typeof t&&(t=t({currentDates:e,date:d,leftDate:r,rightDate:i,period:a,level:s,levelIndex:n,time:l,vido:this.api.vido,api:this.api}));const o=d.add(t-1,a).endOf(a),u=d.valueOf()<=h&&o.valueOf()>=h,m={id:`gstcid-${d.valueOf()}`,leftGlobal:d.valueOf(),leftGlobalDate:d,rightGlobalDate:o,rightGlobal:o.valueOf(),width:0,leftPx:0,rightPx:0,period:a,formatted:null,current:u,previous:!1,next:!1,periodIncrementedBy:t,DST:{diffMs:0,afterTime:0,afterDate:null}};u&&e.length&&(e[e.length-1].previous=!0),e.length&&e[e.length-1].current&&(m.next=!0);const f=m.rightGlobal+1-m.leftGlobal;m.width=f/l.timePerPixel,e.push(m),d=d.add(t||1,a)}return this.setDatesDST(e)}generatePeriodDates({leftDate:t,rightDate:e,period:o,level:i,levelIndex:a,time:s,callOnDate:n,callOnLevelDates:l,expandIfMissing:r=!0}){if(!s.timePerPixel)return[];const c=this.getCurrentFormatForLevel(i,s);t=t.startOf(o),e=e.endOf(o);const d=Math.ceil(e.diff(t,o,!0)),h=t.clone();let u=this._generatePeriodDates({datesCount:d,leftDate:t,rightDate:e,period:o,level:i,levelIndex:a,time:s,originalLeftDate:h,format:c});if(n){const t=[];for(let e=0;e<u.length;e++){let o=u[e];if(o){for(let t=0,e=s.onDate.length;t<e;t++)o=s.onDate[t]({date:o,format:c,time:s,level:i,levelIndex:a});o&&t.push(o)}}u=t}if(l)for(let t=0,e=s.onLevelDates.length;t<e;t++)u=s.onLevelDates[t]({dates:u,format:c,time:s,level:i,levelIndex:a});if((!u.length||u[u.length-1].rightGlobal<e.valueOf())&&r){let r=this._generatePeriodDates({datesCount:d+100,leftDate:t,rightDate:e,period:o,level:i,levelIndex:a,time:s,originalLeftDate:h,format:c});if(n){const t=[];for(let e=0;e<r.length;e++){let o=r[e];if(o){for(let t=0,e=s.onDate.length;t<e;t++)o=s.onDate[t]({date:o,format:c,time:s,level:i,levelIndex:a});o&&t.push(o)}}r=t}if(l)for(let t=0,e=s.onLevelDates.length;t<e;t++)r=s.onLevelDates[t]({dates:r,format:c,time:s,level:i,levelIndex:a});const u=[];for(const t of r)if(u.push(t),t.rightGlobal>=e.valueOf())return u}this.addDatesToCacheLevel(a,u,s);const m=[];for(const t of u)if(m.push(t),t.rightGlobal>=e.valueOf())return m;return m}getDatesDiffPx(t,e,o,i=!0,a=void 0){let s=e.valueOf(),n=t.valueOf();if(n===s)return 0;let l,r,c=0,d=!1;if(s<n){const o=t;t=e,n=s,s=(e=o).valueOf(),d=!0}if(void 0===a){if(!o.allDates||!o.allDates.length||!o.allDates[o.level])return 0;a=o.allDates[o.level]}if(0===a.length)return 0;if(this.isLevelDateInCache(o.level,n,o)?a=this.getAllLevelDatesFromCache(o.level,o):n<a[0].leftGlobal&&(a=this.addMissingDates(a,t,o)),this.isLevelDateInCache(o.level,s,o))a=this.getAllLevelDatesFromCache(o.level,o);else{s>a[a.length-1].rightGlobalDate.clone().valueOf()&&(a=this.addMissingDates(a,e,o))}this.addDatesToCacheLevel(o.level,a,o);let h=!1,u=0;for(const t of a)if(t.rightGlobal+1>=n&&!h&&(h=!0,r=t),h&&(c+=t.width),t.rightGlobal+1>=s){l=t,u=t.width;break}if(i){let t=n-r.leftGlobal;n<r.leftGlobal&&(t=0);let e=l.rightGlobal+1-s;l.leftGlobal>s&&(e=l.rightGlobal+1-l.leftGlobal);const i=(e+t)/o.timePerPixel;return d?-(c-i):c-i}return c-=u,d?-c:c}getDatesDiffMs(t,e,o,i=!0,a=void 0){if(t.valueOf()===e.valueOf())return 0;let s,n,l=0,r=!1;if(e.valueOf()<t.valueOf()){const o=t;t=e,e=o,r=!0}if(void 0===a){if(!o.allDates||!o.allDates.length||!o.allDates[o.level])return 0;a=o.allDates[o.level]}if(0===a.length)return 0;if(this.isLevelDateInCache(o.level,t.valueOf(),o)?a=this.getAllLevelDatesFromCache(o.level,o):t.valueOf()<a[0].leftGlobal&&(a=this.addMissingDates(a,t,o)),this.isLevelDateInCache(o.level,e.valueOf(),o))a=this.getAllLevelDatesFromCache(o.level,o);else{const t=a[a.length-1].rightGlobalDate.clone();e.valueOf()>t.valueOf()&&(a=this.addMissingDates(a,e,o))}this.addDatesToCacheLevel(o.level,a,o);let c=!1,d=0;for(const o of a)if(o.rightGlobal+1>=t.valueOf()&&!c&&(c=!0,n=o),c&&(l+=o.rightGlobal+1-o.leftGlobal),o.rightGlobal+1>=e.valueOf()){s=o,d=o.rightGlobal+1-o.leftGlobal;break}if(i){let o=t.valueOf()-n.leftGlobal;t.valueOf()<n.leftGlobal&&(o=0);let i=s.rightGlobal+1-e.valueOf();s.leftGlobal>e.valueOf()&&(i=s.rightGlobal+1-s.leftGlobal);const a=i+o;return r?-(l-a):l-a}return l-=d,r?-l:l}addTimeFromDates(t,e,o=this.state.get("$data.chart.time")){if(!o.allDates||!o.allDates.length||!o.allDates[o.level])return t+e;if(!e)return t;let i=this.getAllLevelDatesFromCache(o.level,o);const a=this.date(t);i=this.addMissingDates(i,a,o,!0);let s=this.findDateIndex(t,i),n=t-i[s].leftGlobal;n<0&&(n=0);let l=0;if(e>0){for(;l<e;){const t=i[s];if(l+=t.rightGlobal+1-t.leftGlobal,n&&(l-=n,n=0),l>=e)break;s++,i[s]||(i=this.addMissingDates(i,t.leftGlobalDate.add(1,o.period),o,!0))}return i[s].rightGlobal+1-(l-e)}for(;l>e;){let t=i[s];if(l-=n,n&&(n=0),l<=e)break;if(s--,s<0&&(i=this.addMissingDates(i,t.leftGlobalDate.subtract(1,o.period),o,!0),s=0),t=i[s],l-=t.rightGlobal+1-t.leftGlobal,l<=e)break}return i[s].leftGlobal+(-l+e)}getLeftViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length)return null;const e=t.levels[t.level];return e.length?e[0]:null}getRightViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length||!t.levels[t.level])return null;const e=t.levels[t.level];return e.length?e[e.length-1]:null}getLowerPeriod(t){switch(t){case"year":return"month";case"month":case"week":return"day";case"day":return"hour";case"hour":return"minute";case"minute":return"second";case"second":return"millisecond";default:return t}}getHigherPeriod(t){switch(t){case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second";default:return t}}}
/**
 * Gantt-Schedule-Timeline-Calendar IDApi
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */var D=new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return this.isGSTCID(t)?t:`gstcid-${t}`}isGSTCID(t){return String(t).startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substring(7):t}};
/**
 * Gantt-Schedule-Timeline-Calendar Slots
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class y extends i{constructor(t,e,o){super(e,o),this.subs=[],this.name=t,this.subs.push(e.state.subscribe(`config.slots.${t}`,this.setComponents,{queue:!0}))}destroy(){this.subs.forEach((t=>t())),super.destroy()}getName(){return this.name}}function P(t,e,o){return new y(t,e,o)}
/**
 * Gantt-Schedule-Timeline-Calendar helpers
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */const x="gstc";function W(t,e=""){let o=`${x}__${t}`;return t===x&&(o=x),e?`${o} ${o}--${e.replace(":","-")}`:o}function C(t,e){let o=`${x}__${t}`;return t===x&&(o=x),`${o}--${e}`}
/**
 * Api functions
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */let $=0;const I=new Map;function S(t){return I.get(t.apiId)}class M{constructor(t){this.apiId=0,this.name=x,this.debug=!1,this.plugins={},this.iconsCache={},this.unsubscribes=[],this.mutedMethods=new Set,this.mergeDeep=null,this.generateSlots=P,this.getClass=W,this.getId=C,this.GSTCID=D.GSTCID,this.isGSTCID=D.isGSTCID,this.sourceID=D.sourceID,this.allActions=[],this.keysToKeep=["id","parents","children","allChildren","parentId"],this.apiId=++$,I.set(this.apiId,{rowsDataWithParentsExpanded:[],rowsIdsWithParentsExpanded:[],rowsWithParentsExpanded:[],rowsWithParentsExpandedAsMap:new Map,rowsPositionsMap:{id:"",dataIndex:0,keys:[]},allRowsIds:[],allRowsAsArray:[],rowsWithParentsExpandedDataIndexMap:new Map,itemsAsArray:[],itemsDataAsArray:[]}),this.state=t,this.time=new v(this.state,this),this.unsubscribes.push(this.state.subscribe("config.debug",(t=>this.debug=t))),this.unsubscribes.push(this.state.subscribe("config.chart.items;",(()=>this.resetRowsOverlappingCalculated()))),this.unsubscribes.push(this.state.subscribe("config.chart.items.:itemId.time",(t=>{var e;if(t.length){const o=this.getRowsData();if(!o)return;const i=this.state.get("config.chart.items");for(const a of t)if(null===(e=a.params)||void 0===e?void 0:e.itemId){const t=i[a.params.itemId];if(t){o[t.rowId].overlappingCalculated=!1}}}}),{bulk:!0,bulkValue:!1})),this.debug&&(window.state=t)}schedule(t){let e=0;return function(...o){e||(e=requestAnimationFrame((function(){e=0,t(...o)})))}}render(){return this.vido.update()}getListenerPosition(t){for(const e of this.state.getListeners().values())for(const o of e.listeners)if(o[1].fn===t)return o[0]}setVido(t){this.vido=t}clone(t){return this.mergeDeep({},t)}setMergeDeep(t){this.mergeDeep=t}log(...t){this.debug&&console.log.call(console,...t)}getInitializedPlugins(){return this.state.get("$data.initializedPlugins")}pluginInitialized(t){this.getInitializedPlugins().add(t)}pluginDestroyed(t){this.getInitializedPlugins().delete(t)}clearPluginsPositions(){this.getInitializedPlugins().clear()}isPluginInitialized(t){return this.getInitializedPlugins().has(t)}getPluginPosition(t){return[...this.getInitializedPlugins()].indexOf(t)}getPluginsPositions(){const t={};let e=0;for(const o of this.getInitializedPlugins())t[o]=e++;return t}isPluginInitializedBefore(t,e){return this.getPluginPosition(t)<this.getPluginPosition(e)}getActions(t){this.allActions.includes(t)||this.allActions.push(t);let e=this.state.get("config.actions."+t);return void 0===e&&(e=[]),e.slice()}isItemHorizontallyInViewport(t,e=void 0,o=void 0){if(!e||!o){const t=this.state.get().config.chart.time;e=t.leftGlobal,o=t.rightGlobal}return t.time.start<=o&&t.time.end>=e}getChildrenLinkedItemsIds(t,e,o=[]){const i=e[t];if(i.linkedWith&&i.linkedWith.length){o.includes(t)||o.push(t);for(const t of i.linkedWith){if(o.includes(t))continue;o.push(t);const i=e[t];i.linkedWith&&i.linkedWith.length&&this.getChildrenLinkedItemsIds(t,e,o)}}return o}collectAllLinkedItems(){const t=[],e=new Map,o=this.getAllItemsAsArray(),i=this.getItemsData();for(const e of o){const o=e.id;void 0===i[o]?t.push(o):i[e.id].linkedWith=e.linkedWith||[]}if(t.length)throw new Error(`Items with id [${t.join(", ")}] does not exists in "$data.chart.items". TIP: For performance reasons, state is mutable, so try not to modify items from the "state.get" method before you copy them (with "gstc.api.clone(items)" for example).`);for(const t of o){const o=t.id;if(e.has(o))continue;const a=this.getChildrenLinkedItemsIds(o,i);i[o].linkedWith.splice(i[o].linkedWith.length,0,...a);const s=Array.from(new Set(i[o].linkedWith));i[o].linkedWith=s.filter((t=>t!==o)),e.set(o,!0);for(const t of s)i[t].linkedWith=s.filter((e=>e!==t)),e.set(t,!0)}}getChildrenDependantItemsIds(t,e,o=[]){if(t.dependant&&t.dependant.length)for(const i of t.dependant){if(o.includes(i))continue;o.push(i);const a=e[i];if(!a)throw new Error(`Dependant item not found [id:'${i}'] found in item [id:'${t.id}']`);a.dependant&&a.dependant.length&&this.getChildrenDependantItemsIds(a,e,o)}return o}calculateItemVerticalPosition(t,e=null,o=null,i=null){if(i||(i=this.getItem(t)),e||(e=this.getItemData(t)),o||(o=this.getRowData(i.rowId)),i.gap&&e||(this.prepareItem(i),e=this.getItemData(t)),!o)return e.position;const a=o.position.top+i.gap.top,s=e.position.rowTop+i.gap.top,n=this.getRowViewTop(o.id);let l=n+e.position.actualRowTop;return n===1/0?l=1/0:-1===n&&(l=-1),e.position.top=a,e.position.actualRowTop=s,e.position.viewTop=l,e.position}setItemDataOutOfView(t,e=this.state.get("$data.chart.time")){t.outOfView||(t.outOfView={left:!1,right:!1,whole:!1});const o=t.time.startDate.valueOf(),i=t.time.endDate.valueOf();return t.outOfView.left=o<e.leftGlobal||o>=e.rightGlobal,t.outOfView.right=i>e.rightGlobal||i<=e.leftGlobal,t.outOfView.whole=i<=e.leftGlobal||o>=e.rightGlobal,t}calculateItemHorizontalPosition(t,e=null,o=null,i=this.state.get("$data.chart.time"),a=null){if(a||(a=this.getItem(t)),e||(e=this.getItemData(t)),o||(o=this.getRowData(a.rowId)),!o)return e.position;const s=e.time.startDate.valueOf()===a.time.start?e.time.startDate:this.time.date(a.time.start),n=e.time.endDate.valueOf()===a.time.end?e.time.endDate:this.time.date(a.time.end),l=this.time.getViewOffsetPxFromDates(s,!1,i),r=this.time.getViewOffsetPxFromDates(n.add(1,"ms"),!1,i);e.position.left=l,e.position.actualLeft=this.time.limitOffsetPxToView(l,i),e.position.right=r,e.position.actualRight=this.time.limitOffsetPxToView(r,i),e.width=r-l;let c=this.time.getViewOffsetPxFromDates(n,!1,i);c===r&&(c-=1/i.timePerPixel),e.timeWidth=c-l,e.actualWidth=e.position.actualRight-e.position.actualLeft;const d=this.state.get("config.chart.item.minWidth");return"number"==typeof d&&e.actualWidth<d&&(e.actualWidth=d),this.setItemDataOutOfView(e,i),e.position}calculateItemPosition(t,e=null,o=null,i=this.state.get("$data.chart.time"),a=null){return e||(e=this.state.get(`$data.chart.items.${t}`)),a||(a=this.state.get(`config.chart.items.${t}`)),o||(o=this.state.get(`$data.list.rows.${a.rowId}`)),this.calculateItemHorizontalPosition(t,e,o,i,a),this.calculateItemVerticalPosition(t,e,o,a),e.position}getItemPosition(t,e,o,i,a){var s,n;return void 0===e&&(e=null),void 0===o&&(o=null),void 0===i&&(i=null===(n=null===(s=this.state.get().$data)||void 0===s?void 0:s.chart)||void 0===n?void 0:n.time),void 0===a&&(a=null),a||(a=this.getItem(t)),e||(e=this.getItemData(t)),0===e.position.left&&0===e.position.right&&this.calculateItemPosition(t,e,o,i,a),e.position}getRow(t){return this.state.get().config.list.rows[t]}getRows(t){if(!t.length)return[];const e=this.getAllRows(),o=[];for(const i of t)e[i]&&o.push(e[i]);return o}getAllRows(){var t,e;return null===(e=null===(t=this.state.get().config)||void 0===t?void 0:t.list)||void 0===e?void 0:e.rows}getVisibleRowsId(){var t,e;return null===(e=null===(t=this.state.get().$data)||void 0===t?void 0:t.list)||void 0===e?void 0:e.visibleRows}getRowsData(){var t,e;return null===(e=null===(t=this.state.get().$data)||void 0===t?void 0:t.list)||void 0===e?void 0:e.rows}setRowsData(t){this.state.update("$data.list.rows",t)}getRowData(t){return this.state.get().$data.list.rows[t]}setRowData(t,e){this.state.update(`$data.list.rows.${t}`,e)}getItem(t){return this.state.get().config.chart.items[t]}getItems(t=[],e=this.getAllItems()){const o=[];for(const i of t)e[i]&&o.push(e[i]);return o}getAllItemsAsArray(){return S(this).itemsAsArray}getAllItemsDataAsArray(){return S(this).itemsDataAsArray}getAllItems(){return this.state.get().config.chart.items}getItemData(t){const e=this.state.get();if(e.$data&&e.$data.chart&&e.$data.chart.items)return e.$data.chart.items[t]}getItemsData(){const t=this.state.get();if(t.$data&&t.$data.chart)return t.$data.chart.items}setItemData(t,e){this.state.update(`$data.chart.items.${t}`,(t=>{for(const o in e)t[o]=e[o];return t}))}setItemsData(t){this.state.update("$data.chart.items",t)}prepareDependantItems(t,e){return this.getChildrenDependantItemsIds(t,e).filter((e=>e!==t.id))}prepareItem(t,e=this.state.get().config.chart.item.height,o=this.getItemsData(),i=this.getAllItems(),a=this.getAllRows()){let s=t.id;if(s=String(s),t.id=s,o[t.id]||(o[t.id]={id:t.id,actualHeight:0,outerHeight:0,time:null,position:{left:0,actualLeft:0,right:0,actualRight:0,rowTop:t.rowTop||0,actualRowTop:t.actualRowTop||0,top:0,viewTop:0},outOfView:{left:!1,right:!1,whole:!1},width:-1,actualWidth:-1,timeWidth:-1,detached:!1,linkedWith:[],dependant:this.getChildrenDependantItemsIds(t,i)}),t.time||console.error("There is something wrong with this item.",t),"number"!=typeof t.time.start||"number"!=typeof t.time.end)throw new Error('[gantt-schedule-timeline-calendar] Item "time.start" and "time.end" values should be a number (unix epoch milliseconds).');const n=t.rowId;if("string"!=typeof n)throw new Error('[gantt-schedule-timeline-calendar] Item "rowId" should be a string.');if(!n.startsWith("gstcid-"))throw new Error('[gantt-schedule-timeline-calendar] Item "rowId" should start with "gstcid-".');if(!a[n])throw new Error(`[gantt-schedule-timeline-calendar] Row for item "${t.id}" does not exists ("${n}"). TIP: Try updating the rows first to make sure the rows for the items exist.`);t.time.start=+t.time.start,t.time.end=+t.time.end,t.id=String(t.id);const l=this.state.get().config.chart.item;"number"!=typeof t.height&&(t.height=e),o[t.id].time=function(t,e,o){let i,a;return{get startDate(){return i||(i=o.time.date(t)),i},get endDate(){return a||(a=o.time.date(e)),a},set startDate(e){i=e,t=e.valueOf()},set endDate(t){a=t,e=t.valueOf()}}}(t.time.start,t.time.end,this),o[t.id].actualHeight=t.height,void 0===t.overlap&&(t.overlap=l.overlap),"number"!=typeof t.top&&(t.top=0),t.gap||(t.gap={}),"number"!=typeof t.gap.top&&(t.gap.top=l.gap.top),"number"!=typeof t.gap.bottom&&(t.gap.bottom=l.gap.bottom),"number"!=typeof t.minWidth&&(t.minWidth=l.minWidth),o[t.id].outerHeight=o[t.id].actualHeight+t.gap.top+t.gap.bottom,o[t.id].position.actualRowTop=o[t.id].position.rowTop+t.gap.top}prepareItems(t){const e=this.state.get("config.chart.item.height"),o=this.getItemsData(),i=S(this);i.itemsAsArray.length=0,i.itemsDataAsArray.length=0;for(const a in t){const s=t[a];this.prepareItem(s,e,o,t),i.itemsAsArray.push(t[a]),i.itemsDataAsArray.push(o[a])}return this.collectAllLinkedItems(),t}sortRowsByChildren(t,e={},o=this.state.get("config.list.rows"),i=this.state.get("$data.list.rows")){for(const a of t){const t=o[a],s=i[a],n=t.parentId&&e[t.parentId]||!t.parentId;!e[a]&&n&&(e[a]=t),s.children.length&&this.sortRowsByChildren(s.children,e,o,i)}return e}getSortableValue(t,e){return"string"==typeof t?e[t]:"function"==typeof t?t({row:e,vido:this.vido}):""}sortRowsByColumn(t,e=!0){const o=this.state.get("config.list.sort.compare");let i=this.getAllRows();const a=S(this);if(0===a.allRowsIds.length)return i;const s=a.allRowsAsArray;o?s.sort(o(t)):s.sort(((o,i)=>{const a=this.getSortableValue(t.sortable,o),s=this.getSortableValue(t.sortable,i);return"number"==typeof a?e?a-s:s-a:"string"==typeof a?e?a.localeCompare(s):s.localeCompare(a):void 0}));const n=s.map((t=>t.id)),l=this.getRowsData();for(const t of n){const e=l[t];e.children&&e.children.length&&e.children.sort(((t,e)=>n.indexOf(t)-n.indexOf(e)))}i=this.sortRowsByChildren(n),this.state.update("config.list.rows",i,{data:"sortRowsByColumn"});const r=this.getScrollTop();return this.state.get("config.scroll.vertical.byPixels")?this.setScrollTop(r.absolutePosPx):this.setScrollTop(r.dataIndex,r.preciseOffset),i}fillEmptyRowValues(t){const e=this.state.get("config.list.row.height"),o=this.getRowsData();let i=0;for(let a in t){const s=t[a];let n=o[a];if(a=String(a),s.id=a,"string"!=typeof a)throw new Error('[gantt-schedule-timeline-calendar] Row "id" must be a string.');if(!a.startsWith("gstcid-"))throw new Error(`[gantt-schedule-timeline-calendar] Row "id" should start with "gstcid-" (your row id: "${a}").`);if(a.startsWith("gstcid-gstcid-"))throw new Error(`[gantt-schedule-timeline-calendar] Your row "id" is wrapped more than once. It should look like this "gstcid-something" and it looks like this: "${a}".`);o[a]||(n={id:s.id,parentId:s.parentId,parents:[],children:[],allChildren:[],position:{top:0,bottom:0},items:[],itemsOrder:[],itemsTimeSectors:[],actualHeight:0,outerHeight:0,parentsExpanded:!0,inView:!0,overlappingCalculated:!1}),"number"!=typeof s.height&&(s.height=e),n.actualHeight=s.height,"boolean"!=typeof s.expanded&&(s.expanded=!1),n.position.top=i,"object"!=typeof s.gap&&(s.gap={}),"number"!=typeof s.gap.top&&(s.gap.top=0),"number"!=typeof s.gap.bottom&&(s.gap.bottom=0),void 0===s.visible&&(s.visible=!0),n.outerHeight=n.actualHeight+s.gap.top+s.gap.bottom,o[a]=n,i+=n.outerHeight}return t}itemsOnTheSameLevel(t,e){const o=t.position.rowTop+t.outerHeight,i=e.position.rowTop+e.outerHeight;return e.position.rowTop<=t.position.rowTop&&i>t.position.rowTop||(e.position.rowTop>=t.position.rowTop&&e.position.rowTop<o||e.position.rowTop>=t.position.rowTop&&i<o)}itemsTimeOverlaps(t,e){return e.time.start>=t.time.start&&e.time.start<=t.time.end||(e.time.end>=t.time.start&&e.time.end<=t.time.end||(e.time.start>=t.time.start&&e.time.end<=t.time.end||e.time.start<=t.time.start&&e.time.end>=t.time.end))}itemsOverlaps(t,e,o,i){const a=e.time.start&&t.time.start&&e.time.end&&t.time.end;return t.id!==e.id&&a&&this.itemsOnTheSameLevel(o,i)&&this.itemsTimeOverlaps(t,e)}itemOverlapsWithOthers(t,e,o=0){const i=this.getItemsData();for(let a=o,s=e.length;a<s;a++){const o=e[a];if(this.itemsOverlaps(t,o,i[t.id],i[o.id]))return o}return null}makeChildren(t,e={parents:[]}){if("object"!=typeof t)return[];t.children||(t.children=[]),t.allChildren||(t.allChildren=[]),t.parents||(t.parents=[...e.parents]),t.parentId&&"undefined"!==t.parentId&&t.parents.push(t.parentId);for(const e in t)if("id"!==e&&"parentId"!==e&&"children"!==e&&"allChildren"!==e&&"parents"!==e){"undefined"!==e&&(t.children.push(e),t.allChildren.push(e));const o=t[e];if("object"!=typeof o)continue;const i=this.makeChildren(o,t);t.allChildren.splice(t.allChildren.length,0,...i)}return t.allChildren}clearNested(t){for(const e in t)"object"!=typeof t[e]||Array.isArray(t[e])||this.clearNested(t[e]),this.keysToKeep.includes(e)||delete t[e],"parentId"===e&&"undefined"===t[e]&&(t[e]=void 0);return t}fastTree(t,e=null){var o,i;if(!e){e={undefined:{},id:"undefined"};for(const i in t){const a=t[i];e[a.id]||(e[a.id]={parentId:null!==(o=a.parentId)&&void 0!==o?o:"undefined",id:a.id})}}for(const t in e){const o=e[t];e[null!==(i=o.parentId)&&void 0!==i?i:"undefined"][o.id]=o}this.makeChildren(e[void 0]),delete e[void 0],delete e.id,delete e.parents,delete e.children,delete e.allChildren;for(const t in e)e[t]=this.clearNested(e[t]);return e}updateRowItemsAndItemRowMapForItem(t,e,o,i,a){var s,n,l;if(void 0===o&&(o=null===(s=this.state.get().$data)||void 0===s?void 0:s.itemRowMap),void 0===i&&(i=null===(l=null===(n=this.state.get().$data)||void 0===n?void 0:n.list)||void 0===l?void 0:l.rows),void 0===a&&(a=this.state.get().config.chart.items),!i[e])return;i[e].items||(i[e].items=[]);const r=o[t];r!==e&&(r&&i[r]&&(i[r].items=i[r].items.filter((e=>e!==t)).sort(((t,e)=>a[t].time.start-a[e].time.start))),o[t]=e,i[e].items.includes(t)||(i[e].items.push(t),this.timeSectorsItemsAddOrUpdate([a[t]],i[e].itemsTimeSectors)),r&&e!==r&&(i[r]&&(i[r].overlappingCalculated=!1),i[e]&&(i[e].overlappingCalculated=!1),this.timeSectorsDeleteItems([t],i[r].itemsTimeSectors)))}sortRowItemsInAddOrder(t,e){e.itemsOrder=e.items.slice(),e.itemsOrder.sort(((e,o)=>t[e]-t[o]))}sortRowItemsByTime(t){t.items=t.items.sort(((t,e)=>this.getItem(t).time.start-this.getItem(e).time.start))}makeTreeMap(t,e,o=!1){let i=this.state.get("$data.treeMap");if(!o||!i){i=this.fastTree(t);for(const e in t){const o=t[e],a=i[e];for(const t in a)o[t]=a[t]}}const a=this.state.get("$data.reloading")?{}:this.state.get("$data.itemRowMap"),s={};let n=0;const l=this.getAllItems();for(const t of e){const e=l[t];s[e.id]=n,this.updateRowItemsAndItemRowMapForItem(e.id,e.rowId,a),n++}for(const e in t){const o=t[e];this.sortRowItemsInAddOrder(s,o),o.itemsTimeSectors=this.timeSectorsGenerate(this.getItems(o.items))}return this.state.update("$data.itemRowMap",a),o||this.state.update("$data.treeMap",i),t}_updateRowsWithParentsExpandedCache(t){const e=S(this);e.rowsIdsWithParentsExpanded.length=0,e.rowsIdsWithParentsExpanded.splice(0,0,...t),e.rowsWithParentsExpanded.length=0,e.rowsDataWithParentsExpanded.length=0,e.rowsWithParentsExpandedDataIndexMap.clear();const o=this.state.get("config.list.rows"),i=this.state.get("$data.list.rows");e.rowsWithParentsExpandedAsMap.clear();let a=0;for(const t of e.rowsIdsWithParentsExpanded){const s=o[t];s&&(e.rowsWithParentsExpanded.push(s),e.rowsWithParentsExpandedAsMap.set(t,s),e.rowsDataWithParentsExpanded.push(i[t]),e.rowsWithParentsExpandedDataIndexMap.set(t,a),a++)}}generateRowsWithParentsExpanded(t){const e=[],o=this.getRowsData();t:for(const i in t){if(!o[i]||!o[i].parents)return[];if(this.isRowVisible(i)){for(const e of o[i].parents){const o=t[e];if(!o||!o.expanded)continue t}e.push(i)}}return this._updateRowsWithParentsExpandedCache(e),e}getRowInfoFromTop(t){const e=this.state.get("config.list.rows"),o=this.state.get("$data.list.rows"),i=this.getRowPositionMapNode(t);return{dataIndex:i.dataIndex,row:e[i.id],rowData:o[i.id]}}getRowViewTop(t,e=this.state.get("$data.list.rows"),o=this.state.get("$data.scroll.vertical")){return e[t].position.top-o.absolutePosPx-o.preciseOffset}parentsExpanded(t){return S(this).rowsWithParentsExpandedAsMap.has(t)}setAllRowsIdsCache(t){const e=S(this);e.allRowsIds=t;const o=this.state.get("config.list.rows");e.allRowsAsArray.length=0;for(const i of t)e.allRowsAsArray.push(o[i])}resetRowsOverlappingCalculated(t=this.getRowsData()){for(const e in t)t[e].overlappingCalculated=!1}timeSectorItemFits(t,e){return t.time.start>=e.from&&t.time.start<=e.to||t.time.end>=e.from&&t.time.end<=e.to||t.time.start<=e.from&&t.time.end>=e.to}timeSectorsGenerate(t,e=this.state.get().$data.chart.time,o=10){const i=[];if(e.from===e.to)return i;const a=this,s=Math.ceil((e.to-e.from)/o);for(let n=0;n<o;n++){const o={from:e.from+s*n,to:e.from+s*(n+1)-1,items:[],get fromDate(){return a.time.date(this.from)},get toDate(){return a.time.date(this.to)}};for(const e of t)this.timeSectorItemFits(e,o)&&o.items.push(e.id);i.push(o)}return i}timeSectorsItemsAddOrUpdate(t,e){for(const o of e)for(const e of t)if(this.timeSectorItemFits(e,o)){if(o.items.includes(e.id))continue;o.items.push(e.id)}else o.items=o.items.filter((t=>t!==e.id));return e}timeSectorsDeleteItems(t,e){for(const o of e)o.items=o.items.filter((e=>!t.includes(e)));return e}timeSectorsGenerateForRows(t=!1,e=this.getRowsData(),o=this.state.get().$data.chart.time,i=10){if(o.from===o.to)return e;const a=this.state.get().$data.list.rowsIds;for(const s of a){const a=e[s];!t&&a.itemsTimeSectors&&0!==a.itemsTimeSectors.length||(a.itemsTimeSectors=this.timeSectorsGenerate(this.getItems(a.itemsOrder),o,i))}return e}fixOverlappedItemsByTimeSectors(t){if(t.overlappingCalculated)return;if(this.isMutedMethod("fixOverlapped"))return;const e=this.getItemsData(),o=t.itemsTimeSectors=this.timeSectorsGenerate(this.getItems(t.itemsOrder)),i=this.getItems(t.items);for(const t of i){if(t.overlap)continue;const o=e[t.id];o&&(o.position.rowTop=t.top)}for(const t of o){const o=t.items,i=this.getItems(o);let a=0;for(const t of i){if(t.overlap)continue;const o=e[t.id];if(!o)continue;o.position.actualRowTop=o.position.rowTop+t.gap.top;let s=this.itemOverlapsWithOthers(t,i,a);if(s)for(;s;){const e=this.getItemData(s.id),n=i.findIndex((t=>t.id===s.id));n<a?(o.position.rowTop+=e.outerHeight,o.position.actualRowTop=o.position.rowTop+t.gap.top):(e.position.rowTop+=o.outerHeight,e.position.actualRowTop=e.position.rowTop+s.gap.top),s=this.itemOverlapsWithOthers(t,i)}a++}}o.length>0&&(t.overlappingCalculated=!0)}recalculateRowHeight(t,e){if(!e||!t||!t.gap)return 0;let o=0;const i=this.getItemsData();if(!i)return 0;if(!1===t.visible)return e.actualHeight=0,e.outerHeight=0,0;const a=this.getItems(e.itemsOrder);this.fixOverlappedItemsByTimeSectors(e);for(const t of a){const e=i[t.id];o=Math.max(o,e.position.rowTop+e.outerHeight)}return o<t.height&&(o=t.height),e.actualHeight=o,e.outerHeight=e.actualHeight+t.gap.top+t.gap.bottom,e.outerHeight}calculateVisibleRowsHeights(){var t;if(this.isMutedMethod("calculateVisibleRowsHeights"))return!1;const e=this.state.get("$data.list.visibleRows");let o=0;const i=this.getAllRows(),a=this.getRowsData();let s=!1;for(const n of e){const e=(null===(t=a[n])||void 0===t?void 0:t.outerHeight)||0,l=this.recalculateRowHeight(i[n],a[n]);e!==l&&(s=!0),o+=l}return this.state.update("$data.list.visibleRowsHeight",o),s&&this.measureRows(),s}getRealChartHeight(t=!0){const e=this.state.get("$data.scroll.vertical.preciseOffset")||0,o=t?this.state.get("config.innerHeight"):this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),i=this.state.get("config.additionalSpace");return o-i.top-i.bottom+-1*e}getLastRowId(t=S(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t[this.getLastRowIndex(t,e)]}getLastRowIndex(t=S(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t.length-e.lastPageCount}generateRowsPositionsMap(t,e=0,o={id:"",dataIndex:0,keys:[]}){if(0===t.length)return o;if(1===t.length)return o[t[0].position.top]={id:t[0].id,dataIndex:e,keys:[]},o.keys=[t[0].position.top],o;const i=Math.floor(t.length/2),a=e,s=e+i,n=t.slice(1,i),l=t.slice(i+1);o.keys.push(t[0].position.top),o.keys.push(t[i].position.top);const r=o[t[0].position.top]={id:t[0].id,dataIndex:a,keys:[]},c=o[t[i].position.top]={id:t[i].id,dataIndex:s,keys:[]};return this.generateRowsPositionsMap(n,a+1,r),this.generateRowsPositionsMap(l,s+1,c),o}getRowPositionMapNode(t,e=S(this).rowsPositionsMap){return t>=e.keys[1]?this.getRowPositionMapNode(t,e[e.keys[1]]):t>=e.keys[0]?this.getRowPositionMapNode(t,e[e.keys[0]]):e}measureRows(t=!1){if(this.isMutedMethod("measureRows"))return;const e=this.state.get("$data.scroll.vertical"),o=this.state.get("config.list.rows"),i=this.getRealChartHeight(),a=this.getRowsData(),s=S(this);if(void 0===e.dataIndex)return[];const n=this.state.get("$data.list.rowsIds");let l=0;if(e.data&&(l=s.rowsWithParentsExpandedDataIndexMap.get(e.data.id),-1===l)){const t=this.getLastRowId(s.rowsIdsWithParentsExpanded,e);l=s.rowsWithParentsExpandedDataIndexMap.get(t)}let r=0,c=0,d=0;for(let h=n.length;d<h;d++){const h=n[d],u=s.rowsWithParentsExpandedAsMap.has(h),m=this.getRowViewTop(h,a,e),f=d>=l&&m<=i,g=a[h];if(!g)return[];t&&(g.overlappingCalculated=!1),this.recalculateRowHeight(o[h],g),g.inView=f,g.parentsExpanded=u,g.position.top=r,c=r+g.outerHeight,g.position.bottom=c,u&&(r+=g.outerHeight)}return s.rowsPositionsMap=this.generateRowsPositionsMap(s.rowsDataWithParentsExpanded),this.state.update("$data.list.rows",a,{data:"measureRows"}),this.state.update("$data.list.rowsHeight",c),this.state.update("$data.scroll.vertical.absoluteSize",c),c}isRowVisible(t,e=this.getAllRows(),o=this.getRowsData()){if(!e[t])return!1;if(!1===e[t].visible)return!1;if(!o[t])return!1;const i=o[t].parents;for(const t of i)if(!e[t]||!1===e[t].visible)return!1;return!0}getVisibleRows(){const t=this.state.get("$data.scroll.vertical"),e=S(this),o=e.rowsIdsWithParentsExpanded,i=this.getRowsData();if(!t.data)return[];const a=this.getRealChartHeight();if(!a)return[];let s=e.rowsWithParentsExpandedDataIndexMap.get(t.data.id);-1!==s&&void 0!==s||(s=t.dataIndex>e.rowsDataWithParentsExpanded.length-1?o.length-t.lastPageCount:t.dataIndex);const n=[];let l,r;for(let e=s,c=o.length;e<c;e++){const s=o[e];if(i[s]&&(r=i[s],l=this.getRowViewTop(s,i,t),l>=0&&l<=a?(n.push(s),r.parentsExpanded=!0):r.parentsExpanded=!1,l>a))break}return n}normalizeMouseWheelEvent(t){let e=t.deltaX||0,o=t.deltaY||0,i=t.deltaZ||0;const a=t.deltaMode,s=this.state.get("config.list.rowHeight");let n=1;switch(a){case 1:s&&(n=s);break;case 2:n=window.height}return e*=n,o*=n,i*=n,{x:e,y:o,z:i,event:t}}resetHorizontalScroll(t=this.state.get("$data.scroll.horizontal")){t.data=null,t.dataId="",t.dataIndex=0,t.handlePosPx=0,t.absolutePosPx=0,t.preciseOffset=0;const e=this.state.get("$data.chart.time");if(!e.allDates||!e.allDates.length)return;const o=e.allDates[e.level];if(!o||!o.length)return;const i=o[0];return t.data=Object.assign({},i),t.dataId=i.id,t}resetVerticalScroll(t=this.state.get("$data.scroll.vertical")){return t.data=null,t.dataId="",t.dataIndex=0,t.handlePosPx=0,t.absolutePosPx=0,t.preciseOffset=0,t.data=null,t.dataId=null,t}limitHorizontalScrollToView(t=this.state.get("$data.chart.time")){const e=this.state.get("$data.scroll.horizontal");if(!t.allDates||!t.allDates.length)return;const o=t.allDates[t.level].length-e.lastPageCount;e.dataIndex>o&&this.setScrollLeft(o,0,t)}calculateHorizontalScrollPosPxFromDates(t,e=0,o=this.state.get("$data.scroll.horizontal"),i=this.state.get("$data.chart.time")){if(i.calculatedZoomMode)return 0;if(void 0===t&&(t=0),!i.allDates||!i.allDates.length)return;const a=i.allDates[i.level];if(!a||!a.length)return;let s,n=0,l=0;if("number"==typeof t||""===t){""===t&&(t=0),l=t,s=a[l],s||(l=0,s=a[l]);const e=i.allDates[i.level].length-o.lastPageCount;l>e&&e>=0&&(l=e,s=a[l])}else if("string"==typeof t)for(let e=0;e<a.length;e++){const o=a[e];if(o.id===t){s=o,l=e;break}}if(!s&&o.data)for(let t=0;t<a.length;t++){const e=a[t];if(e.leftGlobal>=o.data.leftGlobal){s=e,l=t;break}}if(s||(l>0?(l=a.length-1,s=a[l]):(s=a[0],l=0)),l>a.length-o.lastPageCount&&(l=a.length-o.lastPageCount,s=a[l]),o.data=Object.assign({},s),n=s.leftPx-e,o.dataIndex=l,o.dataId=s.id,n){const t=n/o.absoluteSizeWithoutLastPage*o.maxHandlePosPx;o.handlePosPx=Math.max(t,0)}else o.handlePosPx=0;return o.handlePosPx>o.maxHandlePosPx&&(o.handlePosPx=Math.max(o.maxHandlePosPx,0)),o.preciseOffset=e,o.maxHandlePosPx>0?o.percent=o.handlePosPx/o.maxHandlePosPx*100:o.percent=0,o.absolutePosPx=Math.max(n,0),o}setScrollLeftByPixels(t){const e=this.state.get("$data.chart.time"),o=e.allDates[e.level];return o&&o.length?(t<0&&(t=0),this.state.update("$data.scroll.horizontal",(i=>{t>i.absoluteSizeWithoutLastPage&&(t=i.absoluteSizeWithoutLastPage);let a=0;const s=Math.round(t);let n;for(n of o){if(Math.round(n.rightPx)>s)break;a++}return i.dataIndex=a,i.dataId=n.id,i.preciseOffset=n.leftPx-t,this.calculateHorizontalScrollSizeAndPosFromDates(e.totalViewDurationPx,e,i,!1),t=i.absolutePosPx,i}),{data:"set-scroll-left"}),t):0}setScrollLeft(t,e=0,o=this.state.get("$data.chart.time")){if(o.calculatedZoomMode)return 0;if(this.state.get("config.scroll.horizontal.byPixels")){if("number"!=typeof t)throw new Error("When 'config.scroll.horizontal.byPixels' is true, 'dataIndexOrDateId' must be a number.");return t<0&&(t=0),this.setScrollLeftByPixels(t)}let i=0;const a=o.allDates[o.level];return a&&a.length?(this.state.update("$data.scroll.horizontal",(s=>{let n,l;if("number"==typeof t||""===t)n=t,l=a[n];else if("string"==typeof t)for(let e=0;e<a.length;e++)if(a[e].id===t){l=a[e],n=e;break}return l||(n>0?(n=a.length-1,l=a[n]):(n=0,l=a[0])),s.dataIndex=n,s.dataId=l.id,s.preciseOffset=e,this.calculateHorizontalScrollSizeAndPosFromDates(o.totalViewDurationPx,o,s,!1),i=s.absolutePosPx,s}),{data:"set-scroll-left"}),i):0}scrollToTime(t,e=!0){const o=this.state.get("$data.chart.time");if(o.calculatedZoomMode)return 0;if(!o.allDates)return 0;const i=this.time.findDateAtTime(t,o.allDates[o.level]);if(!i)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;let a,s=0,n=0;if(e){const e=this.getChartWidth(!0)/2;n=(t-i.leftGlobal)/o.timePerPixel,i.rightPx<e&&(n=0);const l=-(e-n);if(a=this.time.getMainDateFromRelativePosition(i,l),!a)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;s=o.allDates[o.level].indexOf(a)}else s=o.allDates[o.level].indexOf(i),n=(t-i.leftGlobal)/o.timePerPixel,a=i;if(-1===s)return 0;return this.state.get("config.scroll.horizontal").byPixels?this.setScrollLeft(a.leftPx+(e?a.width/2:0)):this.setScrollLeft(s,-n)}getScrollLeft(){return this.state.get("$data.scroll.horizontal")}getScrollSize(t){const e=this.state.get("$data.scroll.vertical.visible")?this.state.get("$data.chart.dimensions.widthWithoutScrollBar"):this.state.get("$data.chart.dimensions.width"),o=this.state.get("$data.scroll.horizontal.visible")?this.state.get("$data.chart.dimensions.heightWithoutScrollBar"):this.state.get("$data.chart.dimensions.innerHeight"),i=this.state.get("config.additionalSpace");return"horizontal"===t?e:o-i.top-i.bottom}getLastPageDatesWidth(t,e){let o=0,i=0;if(0===e.length)return{lastPageSize:o,lastPageCount:i};const a=this.state.get("config.scroll.horizontal"),s=a.byPixels||a.precise;for(let a=e.length-1;a>=0;a--){const s=e[a];if(o+=s.width,o>=t){o-=s.width;break}i++}return 0===o&&(o=t),s&&(o=t),{lastPageSize:o,lastPageCount:i}}calculateInitialChartWidth(t=!1){const e=this.state.get("config.initialWidth"),o=this.state.get("config.list.columns.data");let i=0;for(const t in o){i+=o[t].width}let a=e-i;return t&&(a-=this.state.get("config.scroll.horizontal.width")||0),a}getChartWidth(t=!1){let e=t?this.state.get("$data.chart.dimensions.widthWithoutScrollBar"):this.state.get("$data.chart.dimensions.width");return e||(e=this.calculateInitialChartWidth(t)),e}isHorizontalScrollVisible(t){const e=this.state.get("$data.scroll.horizontal");if(null!==e.data)return e.visible;const o=this.state.get("config.scroll.horizontal"),i=this.state.get("$data.chart.time"),a=i.totalViewDurationPx,s=this.getChartWidth(t),n=i.allDates[i.level];if(!n||!n.length)return!1;const{lastPageSize:l,lastPageCount:r}=this.getLastPageDatesWidth(s,n),c=this.getScrollSize("horizontal");let d=l/a*c;d<o.minInnerSize&&(d=o.minInnerSize);return!(r===n.length||c===d)}calculateHorizontalScrollSizeAndPosFromDates(t,e=this.state.get("$data.chart.time"),o=this.state.get("$data.scroll.horizontal"),i=!0){if(!e.allDates.length)return;const a=e.allDates[e.level],s=this.state.get("$data.scroll.vertical.visible"),n=this.getChartWidth(s),l=t,{lastPageSize:r,lastPageCount:c}=this.getLastPageDatesWidth(n,a),d=l-r,h=this.state.get("config.scroll.horizontal"),u=this.getScrollSize("horizontal");let m=r/l*u;m<h.minInnerSize&&(m=h.minInnerSize);const f=o.visible,g=!(c===a.length||u===m),p=Math.max(u?u-m:0,0);return o.absoluteSize=l,o.absoluteSizeWithoutLastPage=Math.max(d,0),o.innerHandleSize=m,o.maxHandlePosPx=p,o.scrollSize=g?u:0,o.lastPageCount=c,o.lastPageSize=r,o.visible=g,this.calculateHorizontalScrollPosPxFromDates(o.dataId,o.preciseOffset,o,e),i&&this.state.update("$data.scroll.horizontal",o),f!==g&&this.calculateVerticalScrollSize(),o}getLastPageRowsHeight(t,e){let o=0,i=0;const a=this.state.get("config.additionalSpace"),s=t-a.top-a.bottom;if(0===e.length)return{lastPageSize:o,lastPageCount:i};const n=this.getRowsData();for(let t=e.length-1;t>=0;t--){const a=n[e[t]];if(o+=a.outerHeight,o>=s){o-=a.outerHeight;break}i++}0===o&&(o=t);const l=this.state.get("config.scroll.vertical");return(l.byPixels||l.precise)&&(o=t),{lastPageSize:o,lastPageCount:i}}calculateVerticalScrollSize(){const t=this.state.get("$data.list.rowsWithParentsExpanded"),e=this.state.get("$data.list.rowsHeight"),o=this.isHorizontalScrollVisible(!0)?this.state.get("$data.chart.dimensions.heightWithoutScrollBar"):this.state.get("$data.chart.dimensions.innerHeight"),{lastPageSize:i,lastPageCount:a}=this.getLastPageRowsHeight(o,t),s=this.state.get("config.scroll.vertical"),n=o;let l=i/e*n;l<s.minInnerSize&&(l=s.minInnerSize);const r=!(a===t.length||n===l),c=n-l;this.state.update("$data.scroll.vertical",(o=>{if(o.absoluteSize=e,o.absoluteSizeWithoutLastPage=e-i,o.innerHandleSize=l,o.maxHandlePosPx=c,o.scrollSize=r?n:0,o.lastPageCount=a,o.lastPageSize=i,o.handlePosPx>c&&(o.handlePosPx=c),o.dataIndex>t.length-a){const e=this.getAllRows(),i=this.getRowsData();o.dataIndex=t.length-a;const s=t[o.dataIndex];e&&s?(o.data=e[s],o.dataId=o.data.id,o.absolutePosPx=i[s].position.top):(o.dataIndex=0,o.dataId="",o.data=null,o.handlePosPx=0,o.absolutePosPx=0),o.preciseOffset=0}else{const e=this.getRowsData(),i=t[o.dataIndex];e[i]&&(o.data=e[i],o.dataId=i,o.absolutePosPx=o.data.position.top-o.preciseOffset)}return o.visible=r,o}))}setScrollTopByPixels(t){const e=S(this),o=this.state.get("$data.scroll.vertical.absoluteSizeWithoutLastPage");t>o&&(t=o);let{dataIndex:i,row:a,rowData:s}=this.getRowInfoFromTop(t);if(!s)return;const n=s.position.top-t;return this.state.update("$data.scroll.vertical",(o=>{const l=e.rowsWithParentsExpanded.length-o.lastPageCount;if(i>l){if(i=l,a=e.rowsWithParentsExpanded[i],!a&&(i=0,a=e.rowsWithParentsExpanded[i],!a))return t=0,this.resetVerticalScroll(o);s=this.getRowData(a.id)}return o.data=e.rowsWithParentsExpanded[i],o.dataId=o.data.id,o.preciseOffset=n,o.handlePosPx=t?Math.round(t/o.absoluteSizeWithoutLastPage*o.maxHandlePosPx):0,o.handlePosPx>o.maxHandlePosPx&&(o.handlePosPx=o.maxHandlePosPx),o.percent=o.handlePosPx/o.maxHandlePosPx*100,o.dataIndex=i,o.absolutePosPx=t,o}),{data:"set-scroll-top"}),t}setScrollTop(t=0,e=0){if(this.state.get("config.scroll.vertical.byPixels")){if("number"!=typeof t)throw new Error("When 'config.scroll.vertical.byPixels' is true, 'dataIndexOrRowId' must be a number.");return t<0&&(t=0),this.setScrollTopByPixels(t)}const o=S(this),i=o.rowsIdsWithParentsExpanded;let a,s,n=0;if("string"==typeof t){const e=t;if(a=this.getRow(e),s=this.getRowData(a.id),this.parentsExpanded(e))n=i.indexOf(e);else for(const t of s.parents)this.parentsExpanded(t)&&(n=i.indexOf(t));if(!a)throw new Error(`Row with id: '${e}' not found. Maybe use GSTC.api.GSTCID(id) or check if row exists.`)}else{if("number"!=typeof t)throw new Error("[gstc.api.setScrollTop] Wrong dataIndex value. Must be `string` (for `rowId`) or `number` (for array index) only.");if(n=t,o.rowsWithParentsExpanded[n]||0===n||(n=0),!o.rowsWithParentsExpanded[n])return;a=o.rowsWithParentsExpanded[n],s=this.getRowData(a.id)}let l=0;return this.state.update("$data.scroll.vertical",(t=>{const i=o.rowsWithParentsExpanded.length-t.lastPageCount;if(n>i){if(n=i,a=o.rowsWithParentsExpanded[n],!a&&(n=0,a=o.rowsWithParentsExpanded[n],!a))return l=0,this.resetVerticalScroll(t);s=this.getRowData(a.id)}return l=s.position.top-e,t.data=o.rowsWithParentsExpanded[n],t.dataId=t.data.id,t.preciseOffset=e,t.handlePosPx=l?Math.round(l/t.absoluteSizeWithoutLastPage*t.maxHandlePosPx):0,t.handlePosPx>t.maxHandlePosPx&&(t.handlePosPx=t.maxHandlePosPx),t.percent=t.handlePosPx/t.maxHandlePosPx*100,t.dataIndex=n,t.absolutePosPx=l,t}),{data:"set-scroll-top"}),l}getScrollTop(){return this.state.get("$data.scroll.vertical")}getCurrentCalendarLevels(){return this.state.get("$data.chart.time.levels")}getGridCells(t=void 0){const e=this.state.get("$data.chart.grid.cells");if(!e)return[];if(void 0!==t){const o=t.length,i=new Array(o);for(let a=0;a<o;a++)i[a]=e[t[a]];return i}return Object.values(e)}getAllGridCells(){return this.state.get("$data.chart.grid.cells")}getGridRows(t=void 0){const e=this.state.get("$data.chart.grid.rows");return void 0!==t?e?Object.values(e).filter((e=>t.includes(e.row.id))):[]:e?Object.values(e):[]}getAllGridRows(){return this.state.get("$data.chart.grid.rows")}getGridCell(t){return this.state.get(`$data.chart.grid.cells.${t}`)}getGridRow(t){return this.state.get(`$data.chart.grid.rows.${t}`)}muteMethod(t){this.mutedMethods.add(t)}unmuteMethod(t){this.mutedMethods.delete(t)}isMutedMethod(t){return this.mutedMethods.has(t)}getSVGIconSrc(t){return"string"==typeof this.iconsCache[t]||(this.iconsCache[t]="data:image/svg+xml;base64,"+btoa(t)),this.iconsCache[t]}destroy(){for(const t of this.unsubscribes)t();this.unsubscribes=[],this.debug&&delete window.state}}
/**
 * ScrollBar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function G(t,e){const{onDestroy:o,state:i,cache:s,api:n,html:l,StyleMap:r,Actions:c,update:d}=t,h="scroll-bar";let u,m,f="",g="";o(i.subscribe("config.classNames",(()=>{u=n.getClass(h),m=n.getClass(h+"-inner")})));const p="horizontal"===e.type?"height":"width",w="height"===p?"width":"height",b="horizontal"===e.type?"left":"top",v=new r({}),D=new r({}),y={maxPosPx:0,innerHandleSize:0,scrollSize:0,dataId:""};o(i.subscribeAll("horizontal"===e.type?[`config.scroll.${e.type}`,`$data.scroll.${e.type}`]:[`config.scroll.${e.type}`,`$data.scroll.${e.type}`,"$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsWithParentsExpanded","$data.list.rowsHeight","config.additionalSpace"],(function(t,o){const a=i.get(`config.scroll.${e.type}`),s=i.get(`$data.scroll.${e.type}`),l=n.getScrollSize(e.type),r=s.innerHandleSize,c=s.maxHandlePosPx,h=s.dataId,u=i.get("config.additionalSpace"),m=i.get("$data.chart.time");if(!m.allDates||!m.allDates.length||!m.allDates[m.level])return;if(s.visible?v.style.display="flex":v.style.display="none",v.style[p]=a.width+"px",v.style[w]=l+"px","vertical"===e.type&&(v.style.top=i.get("config.headerHeight")+u.top+"px"),!s.lastPageSize||!s.absoluteSize||!l)return;D.style[p]="100%",D.style[w]=r+"px";!("set-scroll-top"===o.options.data||"set-scroll-left"===o.options.data)&&function(t,e,o,i){const a=y.maxPosPx!==t||y.innerHandleSize!==e||y.scrollSize!==o||y.dataId!==i;return a&&(y.maxPosPx=t,y.innerHandleSize=e,y.scrollSize=o,y.dataId=i),a}(c,r,l,h)&&("horizontal"===e.type?a.byPixels?n.setScrollLeft(s.absolutePosPx):n.setScrollLeft(s.dataIndex,s.preciseOffset):a.byPixels?n.setScrollTop(s.absolutePosPx):n.setScrollTop(s.dataIndex,s.preciseOffset)),d()}),{group:!0,bulkValue:!1}));const P=n.getActions(h);P.push(class extends a{constructor(t){super();const o=`$data.elements.scroll-bar--${e.type}`;i.get(o)||i.update(o,t,{only:null})}update(){}destroy(){}});const x={api:n,state:i,props:e,componentName:h},W=c.create(P,x),C=[class extends a{constructor(t){super(),this.moving=!1,this.initialPointerPos=0,this.initialHandlePos=0,this.currentPos=0,this.currentPointerPos=0,this.lastDataIndex=0,this.lastOffset=0,this.dataIndex=0,this.previousRowId="",i.update(`$data.elements.scroll-bar-inner--${e.type}`,t,{only:null}),this.bodyClassName=i.get("config.scroll.bodyClassName"),this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this);const o=this.pointerMove.bind(this);this.pointerMove=o,this.unsubscribe=i.subscribe(`$data.scroll.${e.type}`,this.dataChanged.bind(this)),this.destroy=this.destroy.bind(this),t.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove),document.addEventListener("pointerup",this.pointerUp)}destroy(t){this.unsubscribe(),t.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}dataChanged(){const t=i.get(`$data.scroll.${e.type}`),o=i.get("$data.chart.time");if(!o.allDates.length)return;const a=o.allDates[o.level],s=t.dataIndex;if(this.lastDataIndex=s,"horizontal"===e.type&&a&&a.length)this.currentPos=t.handlePosPx,D.style[b]=this.currentPos+"px",d();else if("vertical"===e.type){if(!i.get("$data.list.rowsWithParentsExpanded").length)return;this.currentPos=t.handlePosPx,D.style[b]=this.currentPos+"px",d()}}limitPosition(t){return Math.max(Math.min(t,i.get(`$data.scroll.${e.type}.maxHandlePosPx`)),0)}pointerDown(t){t.stopPropagation(),t.preventDefault(),n.muteMethod("calculateRowsHeight"),document.body.classList.add(this.bodyClassName),requestAnimationFrame((()=>{this.moving=!0,this.initialPointerPos="horizontal"===e.type?t.pageX:t.pageY,this.initialHandlePos=i.get(`$data.scroll.${e.type}.handlePosPx`),g=" "+n.getClass(h)+"-inner--active",f=" "+n.getClass(h)+"--active",d()}))}pointerUp(t){this.moving&&(n.unmuteMethod("calculateRowsHeight"),t.preventDefault(),t.stopPropagation(),document.body.classList.remove(this.bodyClassName)),this.moving=!1,g="",f="",d()}pointerMoveRead(t){this.currentPointerPos="horizontal"===e.type?t.pageX:t.pageY}pointerMoveWrite(){const t=i.get(`config.scroll.${e.type}`),o=i.get(`$data.scroll.${e.type}`),a=this.currentPointerPos-this.initialPointerPos;this.currentPos=this.limitPosition(this.initialHandlePos+a);const s=i.get("$data.chart.time");if(!s.allDates.length)return;const l=s.allDates[s.level],r=this.currentPos/o.maxHandlePosPx*o.absoluteSizeWithoutLastPage,c=Math.round(r);if("horizontal"===e.type){let e,o=0,i=0,a=0;for(let t=l.length;o<t&&(e=l[o],a=Math.round(e.rightPx),!(a>c));o++);t.precise&&a!==c&&(i=e.leftPx-r),o||(o=0),e||(e=l[0]),this.dataIndex=o,this.lastDate=l[o],t.byPixels?n.setScrollLeft(r):n.setScrollLeft(e.id,i),this.lastDataIndex=o,this.lastOffset=i}else{const{dataIndex:e,row:o,rowData:i}=n.getRowInfoFromTop(r);let a=0;t.precise&&i.position.top!==r&&(a=i.position.top-r),this.dataIndex=e,this.previousRowId=o.id,t.byPixels?n.setScrollTop(r):n.setScrollTop(e,a),this.lastDataIndex=e,this.lastOffset=a}}pointerMove(t){this.moving&&(t.stopPropagation(),t.preventDefault(),requestAnimationFrame((()=>{this.pointerMoveRead(t)})),requestAnimationFrame((()=>{this.pointerMoveWrite()})))}}],$=c.create(C,x),I=n.generateSlots(h,t,e);function S({classNameOuter:t,classNameOuterActive:e,classNameInner:o,classNameInnerActive:i,styleMapInner:a,styleMapOuter:s,innerActions:n,outerActions:l,slots:r,cache:c,html:d,vido:h,props:u}){return c(!u||!u.type?null:r.html("outer",d`
              <div
                data-actions=${l()}
                class=${t+" "+t+"--"+u.type+e}
                style=${s.directive()}
              >
                ${r.html("inner",d`
                    <div
                      data-actions=${n()}
                      class=${o+" "+o+"--"+u.type+i}
                      style=${a.directive()}
                    >
                      ${r.html("content")}
                    </div>
                  `)}
              </div>
            `))}let M=S;return o(i.subscribe(`config.templates.${h}`,(t=>{M=null!=t?t:S,d()}))),()=>M({innerActions:$,outerActions:W,classNameOuter:u,classNameOuterActive:f,classNameInner:m,classNameInnerActive:g,cache:s,styleMapInner:D,styleMapOuter:v,slots:I,html:l,vido:t,props:e})}
/**
 * List component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function z(t,e={}){const{api:o,state:i,onDestroy:a,Actions:s,update:n,reuseComponents:l,html:r,StyleMap:c,cache:d}=t,h="list",u=o.getActions(h);let m,f;const g=Object.assign(Object.assign({},e),{list:m,percent:f,api:o,state:i,componentName:h});let p;const w=i.subscribe("config.components.ListColumn",(t=>p=t));!function(){const t=i.get("config.list.expander.icons"),e={};for(const i in t){const a=t[i];e[i]=o.getSVGIconSrc(a)}i.update("$data.list.expander.icons",e)}(),function(){const t={open:"",close:""},e=i.get("config.list.toggle.icons");for(const i in e){const a=e[i];t[i]=o.getSVGIconSrc(a)}i.update("$data.list.toggle.icons",t)}();const b=o.getClass(h),v=o.generateSlots(h,t,e);a(i.subscribe("config.list",(function(){m=i.get("config.list"),f=m.columns.percent,g.list=m,g.percent=f,n()})));const D=[];a(i.subscribe("config.list.columns.data",(function(t){const e=Object.values(t).filter((t=>!t.hidden)).sort(((t,e)=>"number"==typeof t.position&&"number"==typeof e.position?t.position-e.position:0));l(D,e,(t=>({column:t})),p,!0),n()})));const y=new c({height:"","--expander-padding-width":"","--expander-size":""});let P;function x(t){P||(P=t.offsetWidth,0===f&&(P=0),i.update("$data.list.width",P))}a(i.subscribeAll(["$data.height","config.list.expander"],(()=>{const t=i.get("config.list.expander");y.style.height=i.get("$data.height")+"px",y.style["--expander-padding-width"]=t.padding+"px",y.style["--expander-size"]=t.size+"px",n()}),{group:!0})),a((()=>{D.forEach((t=>t.destroy())),w()}));u.push(class{constructor(t,e){e.state.update("$data.elements.list",t),x(t)}update(t){return x(t)}});const W=s.create(u,g);function C({className:t,styleMap:e,list:o,listColumns:i,actions:a,slots:s,html:n,cache:l,vido:r,props:c}){return s.html("outer",l(o.columns.percent>0?n`
              <div class=${t} data-actions=${a()} style=${e.directive()}>
                ${s.html("content",i.map((t=>t.html())))}
              </div>
            `:""))}let $=C;return a(i.subscribe(`config.templates.${h}`,(t=>{$=null!=t?t:C,n()}))),()=>$({list:m,className:b,actions:W,styleMap:y,listColumns:D,slots:v,cache:d,html:r,vido:t,props:e})}
/**
 * ListColumn component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class k{constructor(t,e){let o=!1,i=e.state.get("$data.elements.list-columns");void 0===i&&(i=[],o=!0),i.includes(t)||(i.push(t),o=!0),o&&e.state.update("$data.elements.list-columns",i,{only:null})}destroy(t,e){e.state.update("$data.elements.list-columns",(e=>e.filter((e=>e!==t))),{only:null})}}function L(t,e){const{api:o,state:i,onDestroy:a,onChange:s,cache:n,Actions:l,update:r,createComponent:c,reuseComponents:d,html:h,StyleMap:u}=t,m=[];let f,g;m.push(i.subscribe("config.components.ListColumnRow",(t=>f=t))),m.push(i.subscribe("config.components.ListColumnHeader",(t=>g=t)));const p=Object.assign(Object.assign({},e),{api:o,state:i,componentName:"list-column"}),w={column:e.column,state:i,api:o,componentName:"list-column-headers"},b={api:o,state:i,componentName:"list-column-rows"},v="list-column",D=v+"-rows",y=v+"-rows-offset",P=o.getActions(v),x=o.getActions(D),W=o.getClass(v,e.column.id),C=o.getClass(y,e.column.id),$=o.getClass(D,e.column.id);let I,S=o.getId(v,e&&e.column?e.column.id:"");const M=new u({width:"","--width":""}),G=new u({height:""}),z=new u({"margin-top":"0px"});let L=i.get("config.additionalSpace");const R=o.generateSlots(v,t,e);let T;function O(){if(!e||!e.column)return;const t=i.get("config.list");if(!t.columns.data[e.column.id])return;I=t.columns.data[e.column.id].width*t.columns.percent*.01,T=I;const a=Math.round(o.getRealChartHeight());M.style.width=T+"px",M.style["--width"]=T+"px",z.style.height=a+"px",G.style.top=i.get("config.headerHeight")+L.top+"px"}a(i.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar","$data.list.width","$data.list.visibleRowsHeight","config.additionalSpace.top"],O,{group:!0}));const A=c(g,e);a(A.destroy);const V=[],H={};function _(){var t;if(!e||!e.column)return;i.mute(_);const a=i.get("$data.list.visibleRows")||[],s=o.getRows(a),n=o.getRowsData();for(const o of s){const i=H[o.id]=null!==(t=H[o.id])&&void 0!==t?t:{};i.column=e.column,i.row=o,i.rowData=n[o.id],i.width=T}for(const t in H)a.includes(t)||delete H[t];d(V,s,(t=>t&&H[t.id]),f,!0),R.change(e),i.unmute(_)}s((t=>{if((e=t)&&e.column&&e.column.id){S=o.getId(v,e&&e.column?e.column.id:"");for(const t in e)p[t]=e[t];O(),A.change(e),_()}})),a(i.subscribeAll(["$data.list.visibleRows","$data.list.visibleRowsHeight","$data.list.rows","config.list.rows","config.chart.items.*.height","config.chart.items.*.rowId","config.chart.items.*.time"],_,{group:!0,bulkValue:!1})),a(i.subscribe("$data.scroll.vertical.preciseOffset",(t=>{z.style.transform=`translateY(${Math.round(t)||0}px)`,r()}))),a(i.subscribe("config.additionalSpace",(t=>{L=t}))),a((()=>{V.forEach((t=>t.destroy())),m.forEach((t=>t()))})),P.push(k);const N=l.create(P,w),E=l.create(x,b);function B({className:t,classNameOffset:e,classNameContainer:o,containerStyleMap:i,offsetStyleMap:a,widthStyleMap:s,visibleRows:n,rowActions:l,elId:r,headerActions:c,ListColumnHeader:d,html:h,cache:u,vido:m,props:f}){return u(f&&f.column?R.html("outer",h`
              <div
                class=${t}
                data-gstcid=${f.column.id}
                data-actions=${c()}
                style=${s.directive()}
              >
                ${R.html("inner",h` ${d.html()}${R.html("container-outer",h`
        <div
          class=${o}
          data-gstcid=${f.column.id}
          data-actions=${l()}
          style=${i.directive()}
        >
          ${R.html("container-inner",h`
        <div class=${e} data-gstcid=${f.column.id} style=${a.directive()}>
          ${R.html("content",n.map((t=>t.html())))}
        </div>
      `)}
        </div>
      `)} `)}
              </div>
            `):null)}let j=B;return a(i.subscribe(`config.templates.${v}`,(t=>{j=null!=t?t:B,r()}))),()=>j({classNameOffset:C,offsetStyleMap:z,visibleRows:V,classNameContainer:$,containerStyleMap:G,rowActions:E,className:W,elId:S,headerActions:N,widthStyleMap:M,ListColumnHeader:A,html:h,cache:n,vido:t,props:e})}
/**
 * ListColumnHeader component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function R(t,e){const{api:o,state:i,onDestroy:a,cache:s,onChange:n,Actions:l,update:r,createComponent:c,html:d,StyleMap:h}=t,u="list-column-header",m=Object.assign(Object.assign({},e),{api:o,state:i,componentName:u}),f=o.getActions(u),g=[];let p;g.push(i.subscribe("config.components.ListColumnHeaderResizer",(t=>p=t)));const w=c(p,e);let b;g.push(i.subscribe("config.components.ListColumnRowExpander",(t=>b=t)));const v=c(b,e);a((()=>{w.destroy(),v.destroy(),g.forEach((t=>t()))}));const D=o.generateSlots(u,t,e),y=o.getClass(u),P=o.getClass(u+"-content");let x=o.getId(u,e.column.id);n((t=>{e=t;for(const t in e)m[t]=e[t];x=o.getId(u,e.column.id),w.change(e),v.change(e),D.change(t)}));const W=new h({height:"","--height":"","--paddings-count":""});a(i.subscribe("config.headerHeight",(()=>{const t=i.get("config");W.style.height=t.headerHeight+"px",W.style["--height"]=t.headerHeight+"px",W.style["--paddings-count"]="1",r()})));const C=l.create(f,m);function $({className:t,contentClass:e,styleMap:o,elId:i,cache:a,ListColumnRowExpander:s,ListColumnHeaderResizer:n,actions:l,slots:r,html:c,vido:d,props:h}){return a(!h||!h.column?null:r.html("outer",c`
              <div
                class=${t}
                data-gstcid=${h.column.id}
                style=${o.directive()}
                data-actions=${l()}
              >
                ${r.html("content",h.column.expander?c`
        <div class=${e}>
          ${s.html(h.column)}${n.html(h.column)}
        </div>
      `:c` <div class=${e}>${n.html(h.column)}</div> `)}
              </div>
            `))}let I=$;return a(i.subscribe(`config.templates.${u}`,(t=>{I=null!=t?t:$,r()}))),()=>I({className:y,contentClass:P,cache:s,styleMap:W,elId:x,ListColumnRowExpander:v,ListColumnHeaderResizer:w,actions:C,slots:D,html:d,vido:t,props:e})}
/**
 * ListColumnHeaderResizer component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function T(t,e){const{api:o,state:i,onDestroy:a,cache:s,update:n,html:l,Actions:r,onChange:c,PointerAction:d,StyleMap:h,unsafeHTML:u}=t,m="list-column-header-resizer",f=o.getActions(m),g=o.getActions(m+"-dots"),p={up:"",down:""};let w,b,v,D;a(i.subscribe("config.list.sort.icons",(t=>{p.up=o.getSVGIconSrc(t.up),p.down=o.getSVGIconSrc(t.down)}))),w=o.getClass(m),b=o.getClass(m+"-container"),v=o.getClass(m+"-dots"),D=o.getClass(m+"-dots-dot");const y=o.getClass(m+"-sort-icon");let P;const x=new h({});let W=!1;const C=o.generateSlots(m,t,e);let $=!0,I=0;const S={componentName:m,column:e.column,api:o,state:i,pointerOptions:{axis:"x",onMove:function({movementX:t,event:o}){if(!$)return;t&&(o.preventDefault(),o.stopPropagation());let a=i.get("config.list.columns.minWidth");"number"==typeof e.column.minWidth&&(a=e.column.minWidth),I+=t,I<a&&(I=a),W&&i.update(`config.list.columns.data.${e.column.id}.width`,I)}}};function M(){if(!e||!e.column||!e.column.id)return;S.column=e.column,w=o.getClass(m,e.column.id),b=o.getClass(m+"-container",e.column.id),v=o.getClass(m+"-dots",e.column.id),D=o.getClass(m+"-dots-dot",e.column.id),$=!("resizer"in e.column)||e.column.resizer;const t=i.get("config.list");P=I=e.column.width*t.columns.percent*.01,x.style["--width"]=t.columns.resizer.width+"px",W=t.columns.resizer.inRealTime,i.update("$data.list.width",P),C.change(e),n()}c((t=>{e=t,M()})),a(i.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","config.list.columns.resizer.inRealTime"],M,{group:!0}));let G=[1,2,3,4,5,6,7,8];a(i.subscribe("config.list.columns.resizer.dots",(t=>{G=[];for(let e=0;e<t;e++)G.push(e);n()})));let z=!0;function k(){e.column.sortable&&(z=!z,i.update("config.list.sort",(t=>(t.activeColumnId=e.column.id,t.asc=z,t))))}let L=!1;a(i.subscribe("config.list.sort",(t=>{if(t.activeColumnId===e.column.id)return z=t.asc,void(L=!0);L=!1}))),g.push(d);const R=r.create(f,S),T=r.create(g,S);function O({className:t,containerClass:e,iconClass:o,dotsClass:i,dotClass:a,dotsStyleMap:s,dots:n,onLabelClick:l,dotsActions:r,resizer:c,icons:d,sortActive:h,cache:u,asc:m,actions:f,slots:g,html:p,unsafeHTML:w,vido:b,props:v}){const D=!v||!v.column;function y(){return v.column.sortable&&h?m?p` <img src="${d.down}" class=${o} /> `:p` <img src="${d.up}" class=${o} /> `:null}function P(){return D?null:"function"==typeof v.column.header.content?v.column.header.content({column:v.column,vido:b}):v.column.header.content}return u(D?null:g.html("outer",p`
              <div class=${t} data-gstcid=${v.column.id} data-actions=${f()}>
                ${g.html("container-outer",c?D?null:p`
        <div class=${e} @click=${l}>
          ${g.html("content",v.column.header.html?w(v.column.header.html):P())}
          ${y()}
        </div>
        <div class=${i} style=${s.directive()} data-actions=${r()}>
          ${n.map((()=>p` <div class=${a} /> `))}
        </div>
      `:D?null:p`
        <div class=${e} @click=${l}>
          ${g.html("content",v.column.header.html?w(v.column.header.html):P())}
          ${y()}
        </div>
      `)}
              </div>
            `))}let A=O;return a(i.subscribe(`config.templates.${m}`,(t=>{A=null!=t?t:O,n()}))),()=>A({className:w,containerClass:b,onLabelClick:k,iconClass:y,cache:s,dotsClass:v,dotsStyleMap:x,dotsActions:T,dots:G,dotClass:D,resizer:$,icons:p,sortActive:L,asc:z,actions:R,slots:C,html:l,unsafeHTML:u,vido:t,props:e})}
/**
 * ListColumnRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class O{constructor(t,e){let o=e.state.get("$data.elements.list-column-rows"),i=!1;void 0===o&&(i=!0,o=[]),o.includes(t)||(o.push(t),i=!0),i&&e.state.update("$data.elements.list-column-rows",o,{only:null})}destroy(t,e){e.state.update("$data.elements.list-column-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function A(t,e){const{api:o,state:i,onDestroy:a,cache:s,Actions:n,update:l,html:r,createComponent:c,onChange:d,StyleMap:h,unsafeHTML:u}=t,m="list-column-row",f=Object.assign(Object.assign({},e),{api:o,state:i,componentName:m});let g,p=!1;a(i.subscribe("config.components.ListColumnRowExpander",(t=>g=t)));const w=new h(e.column.expander?{height:"",top:"","--height":"","--expander-padding-width":"","--expander-size":""}:{height:"",top:"","--height":""}),b=c(g,{row:e.row}),v=o.getClass(m),D=o.getClass(m+"-content");let y=o.getClass(m);const P=o.generateSlots(m,t,e);let x;d((function(a,s){var n;if(s.leave||!a||void 0===a.row||void 0===a.column)return p=!0,P.change(a,s),void l();p=!1,e=a;for(const t in e)f[t]=e[t];if(!e.column||!e.row||!e.rowData)return p=!0,P.change(a,s),void l();if(void 0===e.column||void 0===e.row)return;x=e.column.isHTML?void 0===e.row?null:"function"==typeof e.column.data?u(e.column.data({row:e.row,vido:t})):"function"==typeof e.row[e.column.data]?u(e.row[e.column.data]({row:e.row,vido:t})):"string"==typeof e.row[e.column.data]?u(e.row[e.column.data]):null:void 0===e.row?null:"function"==typeof e.column.data?e.column.data({row:e.row,vido:t}):"function"==typeof e.row[e.column.data]?e.row[e.column.data]({row:e.row,vido:t}):e.row[e.column.data];const r=i.get("config.list.expander");for(const t in w.style)delete w.style[t];w.style.height=e.rowData.outerHeight+"px",w.style["--height"]=e.rowData.outerHeight+"px",e.column.expander&&(w.style["--expander-padding-width"]=r.padding*(e.rowData.parents.length+1)+"px");const c=i.get("config.list.rows");for(const t of e.rowData.parents){const e=c[t];if("object"==typeof e.style&&"Object"===e.style.constructor.name&&"object"==typeof e.style.children){const t=e.style.children;for(const e in t)w.style[e]=t[e]}}if(null===(n=null==e?void 0:e.row)||void 0===n?void 0:n.style)for(const t in e.row.style)w.style[t]=e.row.style[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)y=o.getClass(m)+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const i=e.row.classNames({row:e.row,vido:t});Array.isArray(i)&&i.length&&(y=o.getClass(m)+" "+i.join(" "))}}else y=v;b&&b.change(e),P.change(e,s),l()})),a((()=>{b&&b.destroy()}));const W=o.getActions(m);W.includes(O)||W.push(O);const C=n.create(W,f);function $({classNameCurrent:t,classNameContent:e,styleMap:o,cache:i,shouldDetach:a,content:s,ListColumnRowExpander:n,slots:l,actions:r,html:c,vido:d,props:h}){return i(a||!h||!h.column||!h.row?null:l.html("outer",c`
              <div
                class=${t}
                data-gstcid=${h.row.id}
                style=${o.directive()}
                data-actions=${r()}
              >
                ${l.html("inner",c`
                    ${h.column.expander?n.html():null}
                    <div class=${e}>${l.html("content",s)}</div>
                  `)}
              </div>
            `))}let I=$;return a(i.subscribe(`config.templates.${m}`,(t=>{I=null!=t?t:$,l()}))),()=>I({classNameCurrent:y,cache:s,shouldDetach:p,styleMap:w,ListColumnRowExpander:b,classNameContent:D,slots:P,actions:C,content:x,html:r,vido:t,props:e})}
/**
 * ListColumnRowExpander component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function V(t,e){const{api:o,state:i,onDestroy:a,Actions:s,html:n,cache:l,createComponent:r,onChange:c,update:d}=t,h="list-column-row-expander",u=o.getActions(h),m=Object.assign(Object.assign({},e),{api:o,state:i,componentName:h}),f=o.getClass(h);let g;const p=i.subscribe("config.components.ListColumnRowExpanderToggle",(t=>g=t)),w=r(g,e);a((()=>{w.destroy(),p()}));const b=o.generateSlots(h,t,e);e.row&&c((function(t){if((e=t)&&e.row&&e.rowData){for(const t in e)m[t]=e[t];w.change(e),b.change(t),d()}}));const v=s.create(u,m);function D({className:t,ListColumnRowExpanderToggle:e,slots:o,actions:i,html:a,cache:s,vido:n,props:l}){return s(!l?null:o.html("outer",a`
              <div class=${t} data-gstcid=${l.row?l.row.id:""} data-action=${i()}>
                ${o.html("content",e.html())}
              </div>
            `))}let y=D;return a(i.subscribe(`config.templates.${h}`,(t=>{y=null!=t?t:D,d()}))),()=>y({className:f,ListColumnRowExpanderToggle:w,slots:b,actions:v,html:n,cache:l,vido:t,props:e})}
/**
 * ListColumnRowExpanderToggle component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function H(t,e){const{api:o,state:i,cache:a,onDestroy:s,Actions:n,update:l,html:r,onChange:c}=t,d="list-column-row-expander-toggle",h=Object.assign(Object.assign({},e),{api:o,state:i,componentName:d}),u=o.getActions(d),m=o.getClass(d),f=o.getClass(d+"-child"),g=o.getClass(d+"-open"),p=o.getClass(d+"-closed");let w,b,v,D=!1;s(i.subscribe("$data.list.expander.icons",(t=>{t&&(w=t.child,b=t.open,v=t.closed),l()})));const y=o.generateSlots(d,t,e);e.row?(c((function(t){if(e&&e.row){e=t;for(const t in e)h[t]=e[t];D=e.row.expanded,y.change(t),l()}})),s((function(){}))):s(i.subscribe("config.list.rows.*.expanded",(function(t){for(const e of t)if(e.value){D=!0;break}l()}),{bulk:!0}));const P=n.create(u,h);function x(){D=!D,e.row?i.update(`config.list.rows.${e.row.id}.expanded`,D,{data:{name:"expanded",rowId:e.row.id,expanded:D}}):i.update("config.list.rows",(t=>{for(const e in t)t[e].expanded=D;return t}),{only:["*.expanded"],data:{name:"expanded"}})}function W({className:t,classNameChild:e,classNameOpen:o,classNameClosed:i,expanded:a,iconChild:s,iconOpen:n,iconClosed:l,toggle:r,cache:c,slots:d,actions:h,html:u,vido:m,props:f}){return c(!f?null:d.html("outer",u`
              <div
                class=${t}
                data-gstcid=${f.row?f.row.id:""}
                data-action=${h()}
                @click=${r}
              >
                ${d.html("content",s?0===(null===(p=null===(g=f.rowData)||void 0===g?void 0:g.children)||void 0===p?void 0:p.length)?u` <img width="16" height="16" class=${e} src=${s} /> `:a?u` <img width="16" height="16" class=${o} src=${n} /> `:u` <img width="16" height="16" class=${i} src=${l} /> `:"")}
              </div>
            `));var g,p}let C=W;return s(i.subscribe(`config.templates.${d}`,(t=>{C=null!=t?t:W,l()}))),()=>C({className:m,classNameChild:f,iconChild:w,expanded:D,cache:a,classNameOpen:g,classNameClosed:p,iconOpen:b,iconClosed:v,toggle:x,slots:y,actions:P,html:r,vido:t,props:e})}
/**
 * ListToggle component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function _(t,e={}){const{html:o,onDestroy:i,api:a,state:s,update:n,StyleMap:l,Actions:r,onChange:c}=t,d="list-toggle",h=a.getClass(d),u=Object.assign(Object.assign({},e),{api:a,state:s,componentName:d});let m={open:"",close:""};i(s.subscribe("$data.list.toggle.icons",(t=>{t&&(m=t,n())})));const f=new l({top:"0px"});i(s.subscribe("$data.scroll.vertical.preciseOffset",(t=>{f.style.top=(-1*Math.round(t)||0)+"px"})));let g=!0;i(s.subscribe("config.list.columns.percent",(t=>g=0!==t)));let p=!1;function w(){p=!0}function b(){p&&(p=!1,s.update("config.list.columns.percent",(t=>0===t?100:0)))}c((t=>{e=t;for(const o in t)u[o]=e[o]}));const v=a.getActions(d),D=r.create(v,u),y=a.generateSlots(d,t,e);function P({className:t,styleMap:e,pointerDown:o,pointerUp:i,open:a,toggleIconsSrc:s,actions:n,slots:l,html:r,vido:c,props:d}){return l.html("outer",r`
        <div
          class=${t}
          style=${e.directive()}
          @pointerdown=${o}
          @pointerup=${i}
          actions=${n()}
        >
          ${l.html("content",r` <img src=${a?s.close:s.open} /> `)}
        </div>
      `)}let x=P;return i(s.subscribe(`config.templates.${d}`,(t=>{x=null!=t?t:P,n()}))),()=>x({className:h,styleMap:f,pointerDown:w,pointerUp:b,open:g,toggleIconsSrc:m,actions:D,slots:y,html:o,vido:t,props:e})}
/**
 * Chart component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function N(t,e={}){const{api:o,state:i,onDestroy:a,Actions:s,html:n,createComponent:l,update:r}=t,c="chart",d=[];let h,u,m;d.push(i.subscribe("config.components.ChartCalendar",(t=>h=t))),d.push(i.subscribe("config.components.ChartTimeline",(t=>u=t))),d.push(i.subscribe("config.components.ScrollBar",(t=>m=t)));const f=l(h);a(f.destroy);const g=l(u);a(g.destroy);const p=l(m,{type:"horizontal"});a(p.destroy);const w=l(m,{type:"vertical"});a(w.destroy),a((()=>{d.forEach((t=>t()))}));const b=o.getClass(c),v=o.getActions(c);let D=!1;a(i.subscribe("config.chart.time.calculatedZoomMode",(t=>{D=t,r()})));const y={handleEvent:function(t){t.type},passive:!1,capture:!1};let P,x=0;v.push((function(t){P||(P=new ResizeObserver((()=>{const e=t.offsetWidth,o=t.offsetHeight,a=e-i.get("config.scroll.horizontal.width"),s=i.get("config.headerHeight");x!==e&&(x=e,i.update("$data.chart.dimensions",(t=>(t.width=e,t.widthWithoutScrollBar=a,t.height=o,t.innerHeight=o-s,t))))})),P.observe(t),i.update("$data.elements.chart",t))})),a((()=>{P.disconnect()}));const W={api:o,state:i,componentName:c},C=s.create(v,W),$=o.generateSlots(c,t,e);function I({className:t,onWheel:e,ChartCalendar:o,ChartTimeline:i,ScrollBarVertical:a,calculatedZoomMode:s,ScrollBarHorizontal:n,actions:l,slots:r,html:c,vido:d,props:h}){return r.html("outer",c`
        <div class=${t} data-actions=${l()} @wheel=${e}>
          ${r.html("content",c`
              ${o.html()}${i.html()}${a.html()}
              ${s?null:n.html()}
            `)}
        </div>
      `)}let S=I;return a(i.subscribe(`config.templates.${c}`,(t=>{S=null!=t?t:I,r()}))),()=>S({className:b,onWheel:y,ChartCalendar:f,ChartTimeline:g,ScrollBarVertical:w,calculatedZoomMode:D,ScrollBarHorizontal:p,actions:C,slots:$,html:n,vido:t,props:e})}
/**
 * ChartCalendar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function E(t,e){const{api:o,state:i,onDestroy:a,Actions:s,update:n,reuseComponents:l,html:r,StyleMap:c}=t,d="chart-calendar",h=o.getActions(d),u=Object.assign(Object.assign({},e),{api:o,state:i,componentName:d}),m=i.get("config.components.ChartCalendarDate"),f=o.getClass(d);let g;const p=new c({height:"","--headerHeight":"","margin-left":""});a(i.subscribe("config.headerHeight",(t=>{g=t,p.style.height=g+"px",p.style["--calendar-height"]=g+"px",n()})));let w=[],b=0;a(i.subscribeAll(["$data.chart.time.levels","config.chart.time","$data.chart.time","config.chart.calendarLevels"],(()=>{const t=i.get("$data.chart.time.levels");let e=0;if(t.length!==b){b=t.length,w.forEach((t=>t.forEach((t=>t.destroy())))),w=[];for(let t=0;t<b;t++)w.push([])}for(const i of t){if(!i.length)continue;let t="YYYY-MM-DD HH";switch(i[0].period){case"day":t="YYYY-MM-DD";break;case"week":t="YYYY-MM-ww";break;case"month":t="YYYY-MM";break;case"year":t="YYYY"}const a=o.time.date().format(t);l(w[e],i,(o=>o&&{level:e,date:o,currentDate:a,currentDateFormat:t}),m,!0),e++}n()}),{bulk:!0,bulkValue:!1})),a((()=>{w.forEach((t=>t.forEach((t=>t.destroy()))))})),h.push((t=>{i.update("$data.elements.chart-calendar",t)}));const v=s.create(h,u),D=o.generateSlots(d,t,e);function y({className:t,styleMap:e,components:o,actions:i,slots:a,html:s,vido:n,props:l}){return a.html("outer",s`
        <div class=${t} data-actions=${i()} style=${e.directive()}>
          ${a.html("inner",o.length?o.map(((e,o)=>e&&e.length?s`
                        <div class=${t+"-dates "+t+`-dates--level-${o}`}>
                          ${a.html("content",e.map((t=>t.html())))}
                        </div>
                      `:null)):null)}
        </div>
      `)}let P=y;return a(i.subscribe(`config.templates.${d}`,(t=>{P=null!=t?t:y,n()}))),()=>P({className:f,styleMap:p,components:w,actions:v,slots:D,html:r,vido:t,props:e})}
/**
 * ChartCalendarDate component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class B extends a{constructor(t,e){super(),e.state.update("$data.elements.chart-calendar-dates",(e=>(void 0===e&&(e=[]),e.includes(t)||e.push(t),e)))}}function j(t,e){const{api:o,state:i,onDestroy:a,Actions:s,update:n,onChange:l,html:r,StyleMap:c,cache:d}=t,h="chart-calendar-date",u=o.getActions(h),m=o.getClass(h);let f,g="",p="";l((()=>{f=i.get("config.chart.time")}));const w=new c({width:"0px"},{schedule:!1});let b="";let v=!1;const D=o.generateSlots(h,t,e);let y,P;const x={date:e.date,period:e.period,api:o,state:i,componentName:h};l(((t,o)=>{if(o.leave)return v=!0,D.change(t,o),n();v=!1,y=e.level===f.level,P=y?m+"--main-date ":m+"--non-main-date ",e=t,x.date=e.date,x.period=e.period,function(){if(!e||!e.date)return;const t=i.get(`config.chart.calendarLevels.${e.level}`);w.style.width=e.date.currentView.width+"px",w.style.left=e.date.currentView.leftPx+"px";const o=t.find((t=>+f.zoom<=+t.zoomTo));g=e.date.current?" gstc-current":e.date.next?" gstc-next":e.date.previous?" gstc-previous":"",p=m+"-content "+m+`-content--${e.date.period}`+g,o.classNames&&Array.isArray(o.classNames)?(p+=" "+o.classNames.join(" "),b=" "+o.classNames.join(" ")):b="",n()}(),D.change(t,o)})),u.includes(B)||u.push(B);const W=s.create(u,x);function C({className:t,mainClass:e,additionalClass:o,formatClassName:i,finalClassName:a,styleMap:s,cache:n,shouldDetach:l,actions:r,slots:c,html:d,vido:h,props:u}){return n(l||!u||!u.date?null:c.html("outer",d`
              <div
                class=${t+" "+t+`--${u.date.period} `+e+t+`--level-${u.level}`+o+i}
                data-gstcid=${u.date.id}
                style=${s.directive()}
                data-actions=${r()}
              >
                ${c.html("content",d`<div class=${a.trim()}>${u.date.formatted}</div>`)}
              </div>
            `))}let $=C;return a(i.subscribe(`config.templates.${h}`,(t=>{$=null!=t?t:C,n()}))),()=>$({className:m,mainClass:P,additionalClass:g,formatClassName:b,styleMap:w,finalClassName:p,cache:d,shouldDetach:v,actions:W,slots:D,html:r,vido:t,props:e})}
/**
 * ChartTimeline component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function F(t,e){const{api:o,state:i,onDestroy:a,Action:s,Actions:n,update:l,html:r,createComponent:c,StyleMap:d}=t,h="chart-timeline",u=Object.assign(Object.assign({},e),{api:o,state:i,componentName:h});let m,f,g;a(i.subscribe("config.components.ChartTimelineGrid",(t=>{m&&m.destroy(),m=c(t)}))),a((()=>{m&&m.destroy()})),a(i.subscribe("config.components.ChartTimelineItems",(t=>{f&&f.destroy(),f=c(t)}))),a((()=>{f&&f.destroy()})),a(i.subscribe("config.components.ListToggle",(t=>{g&&g.destroy(),g=c(t)}))),a((()=>{g&&g.destroy()}));const p=o.generateSlots(h,t,e),w=o.getClass(h),b=o.getClass(h+"-inner");let v;a(i.subscribe("config.list.toggle.display",(t=>v=t)));const D=new d({}),y=new d({});let P,x;a(i.subscribe("config.additionalSpace",(t=>{P=t,l()}))),a(i.subscribe("config.headerHeight",(t=>{x=t,l()}))),a(i.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.scroll.vertical.offset","$data.chart.dimensions.width","$data.list.visibleRowsHeight","$data.chart.time.dates.day","config.headerHeight","config.additionalSpace"],(function(){const t=i.get("$data.chart.dimensions.width"),e=Math.round(o.getRealChartHeight(!0));D.style.height=i.get("config.innerHeight")+"px",D.style["--height"]=D.style.height,D.style.top=P.top+x+"px",t?(D.style.width=t+"px",D.style["--width"]=t+"px"):(D.style.width="0px",D.style["--width"]="0px"),y.style.height=e+"px",y.style.width=t?t+"px":"0px";const a=i.get("$data.scroll.vertical.preciseOffset")||0;y.style.transform=`translateY(${Math.round(a)}px)`,l()}),{group:!0,bulkValue:!1}));let W=[];a(i.subscribe("config.actions.chart-timeline",(t=>{W=t}))),W.push(class extends s{constructor(t){super();i.get("$data.elements.chart-timeline")!==t&&i.update("$data.elements.chart-timeline",t)}});const C=n.create(W,u);function $({className:t,classNameInner:e,styleMap:o,innerStyleMap:i,Grid:a,Items:s,showToggle:n,ListToggle:l,actions:r,slots:c,html:d,vido:h,props:u}){return c.html("outer",d`
        <div class=${t} style=${o.directive()} data-actions=${r()}>
          ${c.html("inner",d`
              <div class=${e} style=${i.directive()}>
                ${c.html("content",d` ${a.html()}${s.html()}${n?l.html():""} `)}
              </div>
            `)}
        </div>
      `)}let I=$;return a(i.subscribe(`config.templates.${h}`,(t=>{I=null!=t?t:$,l()}))),()=>I({className:w,styleMap:D,classNameInner:b,Grid:m,innerStyleMap:y,Items:f,showToggle:v,ListToggle:g,actions:C,slots:p,html:r,vido:t,props:e})}
/**
 * ChartTimelineGrid component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class Y{constructor(t,e){e.state.get("$data.elements.chart-timeline-grid")!==t&&e.state.update("$data.elements.chart-timeline-grid",t,{only:null})}destroy(t,e){e.state.update("$data.elements",(t=>(delete t["chart-timeline-grid"],t)),{only:null})}}function K(t,e){const{api:o,state:i,onDestroy:a,Actions:s,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-grid",h=o.getActions(d),u={api:o,state:i,componentName:d},m=i.get("config.components.ChartTimelineGridRow"),f=o.getClass(d);let g;a(i.subscribe("config.chart.grid.cell.onCreate",(t=>g=t)));const p=[],w={},b=new Map,v=new c({});function D(t){let e=t.month()+1;e<10&&(e="0"+e);let o=t.date();o<10&&(o="0"+o);let i=t.hour();i<10&&(i="0"+i);let a=t.minute();a<10&&(a="0"+a);let s=t.second();return s<10&&(s="0"+s),`${t.year()}-${e}-${o}T${i}-${a}-${s}`}a(i.subscribeAll(["$data.scroll.vertical.preciseOffset","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar"],(function(){const t=i.get("$data.chart.dimensions.width"),e=o.getRealChartHeight();v.style.height=Math.round(e)+"px",v.style.width=t+"px"}),{group:!0}));let y="",P=0,x=0,W="",C=0,$="",I=0,S=0;function M(){const t=o.getGridRows();r(p,t||[],(t=>t),m,!0),n()}a(i.subscribeAll(["$data.list.rowsHeight","$data.list.visibleRows","$data.list.visibleRowsHeight","$data.chart.time.levels","$data.scroll","config.list.rows;","config.list.rows.*;"],(function(e,a){const s=i.get("$data.chart.time"),n=i.get(`$data.chart.time.levels.${s.level}`),l=s.levels[s.level];if(!l||!l.length)return;const r=s.levels[s.level].map((t=>t.currentView.width)).join(",");if(!n||0===n.length)return void i.update("$data.chart.grid",{rows:{},cells:{}});const c=o.getRowsData(),d=i.get("$data.list.visibleRows"),h=d.map((t=>c[t].outerHeight)).join("|"),u=d.join("|"),m=i.get("$data.scroll");if(u===y&&P===s.leftGlobal&&x===s.rightGlobal&&h===W&&C===n.length&&$===r&&m.horizontal.handlePosPx===I&&m.vertical.handlePosPx===S)return"$data.chart.time.levels"===a.path.listener?M():void 0;I=m.horizontal.handlePosPx,S=m.vertical.handlePosPx,P=s.leftGlobal,x=s.rightGlobal,$=r,W=h;let f=0;if(u!==y)for(const t in w)delete w[t];else if(C!==n.length)for(const t in w)w[t].cells.length=0;C=n.length;const p=o.getAllRows(),v=i.get("$data.chart.grid.cells");for(const t in v)delete v[t];for(const e of d){const o=p[e],i=c[e];if(!o||!i)continue;let a,s;u!==y?a=[]:(a=w[e].cells,a.length=0);for(const e of n){let s;b.has(e.leftGlobal)?s=b.get(e.leftGlobal):(s=D(e.leftGlobalDate),b.set(e.leftGlobal,s));const n=o.id+"-"+s;let l;if(v[n])l=v[n],l.id=n,l.time=e,l.row=o,l.rowData=i,l.top=f,l.vido=t,l.content=null;else{const a=Object.create(null);a.id=n,a.time=e,a.row=o,a.rowData=i,a.top=f,a.vido=t,a.content=null,l=a}for(const t of g)l.content=t(l);v[l.id]=l,a.push(l.id)}w[e]?(s=w[e],s.row=o,s.rowData=i,s.cells=a,s.top=f):s={row:o,rowData:i,cells:a,top:f},w[e]=s,f+=i.outerHeight}y=u,i.update("$data.chart.grid",{rows:w,cells:v})}),{group:!0,bulkValue:!1})),a(i.subscribe("$data.chart.grid",M,{group:!0})),a((()=>{p.forEach((t=>t.destroy()))})),h.push(Y);const G=s.create(h,u),z=o.generateSlots(d,t,e);function k({className:t,styleMap:e,rowsComponents:o,actions:i,slots:a,html:s,vido:n,props:l}){return a.html("outer",s`
        <div class=${t} data-actions=${i()} style=${e.directive()}>
          ${a.html("content",o.map((t=>t.html())))}
        </div>
      `)}let L=k;return a(i.subscribe(`config.templates.${d}`,(t=>{L=null!=t?t:k,n()}))),()=>L({className:f,styleMap:v,rowsComponents:p,actions:G,slots:z,html:l,vido:t,props:e})}
/**
 * ChartTimelineGridRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class Z{constructor(t,e){let o=!1,i=e.state.get("$data.elements.chart-timeline-grid-rows");void 0===i&&(i=[],o=!0),i.includes(t)||(i.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-grid-rows",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function J(t,e){const{api:o,state:i,onDestroy:a,cache:s,Actions:n,update:l,html:r,reuseComponents:c,onChange:d,StyleMap:h}=t,u="chart-timeline-grid-row",m=Object.assign(Object.assign({},e),{api:o,state:i,componentName:u});let f;a(i.subscribe("config.components.ChartTimelineGridRowCell",(t=>f=t)));const g=o.getActions(u),p=o.getClass(u),w=new h({height:e.row.height+"px"});let b=!1;const v=o.generateSlots(u,t,e),D=[];d((function(t,i){if(!t||i.leave||void 0===t.row)return b=!0,c(D,[],(t=>t),f,!0),v.change(t,i),void l();b=!1,e=t;const a=o.getGridCells(e.cells);if(c(D,a,(t=>t),f,!0),w.setStyle({}),w.style.height=e.rowData.outerHeight+"px",e.row.style)for(const t in e.row.style)w.style[t]=e.row.style[t];for(const t in e)m[t]=e[t];v.change(t,i)})),a((function(){D.forEach((t=>t.destroy()))})),-1===g.indexOf(Z)&&g.push(Z);const y=n.create(g,m);function P({className:t,styleMap:e,rowsCellsComponents:o,cache:i,shouldDetach:a,actions:s,slots:n,html:l,vido:r,props:c}){return i(a||!c||!c.row?null:n.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${s()}
                style=${e.directive()}
              >
                ${n.html("content",o.map((t=>t.html())))}
              </div>
            `))}let x=P;return a(i.subscribe(`config.templates.${u}`,(t=>{x=null!=t?t:P,l()}))),()=>x({className:p,styleMap:w,rowsCellsComponents:D,cache:s,shouldDetach:b,actions:y,slots:v,html:r,vido:t,props:e})}
/**
 * ChartTimelineGridRowCell component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class Q{constructor(t,e){let o=!1,i=e.state.get("$data.elements.chart-timeline-grid-row-cells");void 0===i&&(i=[],o=!0),i.includes(t)||(i.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-grid-row-cells",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-row-cells",(e=>e.filter((e=>e!==t))),{only:[""]})}}function q(t,e){const{api:o,state:i,cache:a,Actions:s,html:n,onChange:l,onDestroy:r,StyleMap:c,update:d}=t,h="chart-timeline-grid-row-cell",u=Object.assign(Object.assign({},e),{api:o,state:i,componentName:h});let m=!1;const f=o.getActions(h),g=o.generateSlots(h,t,e);let p;function w(t){p=o.getClass(h),t&&t.time&&t.time.current&&(p+=" current")}w(e);const b=new c({width:"",height:""});l((function(t,o){var i,a;if(!t||o.leave||void 0===t.row)return m=!0,g.change(t,o),void d();m=!1,e=t;for(const t in e)u[t]=e[t];if(w(e),b.setStyle({}),e&&e.row){if(b.style.width=((null===(a=null===(i=null==e?void 0:e.time)||void 0===i?void 0:i.currentView)||void 0===a?void 0:a.width)||0)+"px",e.row.style)for(const t in e.row.style)b.style[t]=e.row.style[t];g.change(e,o),d()}})),f.push(Q);const v=s.create(f,u);function D({className:t,styleMap:e,cache:o,shouldDetach:i,actions:a,slots:s,html:n,vido:l,props:r}){var c;return o(i||!r||!r.id?null:s.html("outer",n`
              <div class=${t} data-gstcid=${r.id} data-actions=${a()} style=${e.directive()}>
                ${s.html("content",null!==(c=r&&r.content)&&void 0!==c?c:null)}
              </div>
            `))}let y=D;return r(i.subscribe(`config.templates.${h}`,(t=>{y=null!=t?t:D,d()}))),()=>y({className:p,styleMap:b,cache:a,shouldDetach:m,actions:v,slots:g,html:n,vido:t,props:e})}
/**
 * ChartTimelineItems component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function U(t,e={}){const{api:o,state:i,onDestroy:a,Actions:s,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-items";let h,u;a(i.subscribe(`config.actions.${d}`,(t=>h=t))),a(i.subscribe("config.components.ChartTimelineItemsRow",(t=>u=t)));const m=o.getClass(d),f=new c({});let g;a(i.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.chart.dimensions.width","$data.scroll.vertical.preciseOffset"],(function(){const t=i.get("$data.chart.dimensions.width"),e=o.getRealChartHeight();f.style.width=t+"px",f.style.height=e+"px"}),{group:!0})),a(i.subscribe("config.debug",(t=>g=t)));const p=[],w={};a(i.subscribeAll(["$data.list.visibleRows","config.list.rows","config.components.ChartTimelineItemsRow","config.chart.items","$data.chart.items","$data.chart.time","$data.chart.viewPortVisibleItems","config.templates"],(function t(e,a){i.mute(t),g&&console.log("[items.ts] Updating item & rows components.");const s=i.get("$data.list.visibleRows")||[],l=o.getRows(s),c=o.getRowsData();for(const t of l)w[t.id]||(w[t.id]={}),w[t.id].row=t,w[t.id].rowData=c[t.id];for(const t in w)s.includes(t)||delete w[t];r(p,l,(t=>t?w[t.id]:null),u,!0),n(),i.unmute(t)}),{group:!0,bulkValue:!1})),a((()=>{p.forEach((t=>t.destroy()))}));const b={api:o,state:i,componentName:d},v=s.create(h,b),D=o.generateSlots(d,t,e);function y({className:t,styleMap:e,rowsComponents:o,actions:i,slots:a,html:s,vido:n,props:l}){return a.html("outer",s`
        <div class=${t} style=${e.directive()} data-actions=${i()}>
          ${a.html("content",o.map((t=>t.html())))}
        </div>
      `)}let P=y;return a(i.subscribe(`config.templates.${d}`,(t=>{P=null!=t?t:y,n()}))),()=>P({className:m,styleMap:f,rowsComponents:p,actions:v,slots:D,html:l,vido:t,props:e})}
/**
 * ChartTimelineItemsRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class X{constructor(t,e){let o=!1,i=e.state.get("$data.elements.chart-timeline-items-rows");void 0===i&&(i=[],o=!0),i.includes(t)||(i.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-items-rows",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function tt(t,e){const{api:o,state:i,onDestroy:a,cache:s,Actions:n,update:l,html:r,onChange:c,reuseComponents:d,StyleMap:h}=t,u="chart-timeline-items-row",m=Object.assign(Object.assign({},e),{api:o,state:i,componentName:u});let f;a(i.subscribe("config.components.ChartTimelineItemsRowItem",(t=>f=t)));let g="";const p=[],w=new h({width:"",height:""});let b=!1;function v(t=e.rowData,o=null){const a=i.get("$data.chart");b=!1,w.style.width=a.dimensions.width+"px",e?(w.style.height=t.outerHeight+"px",w.style["--row-height"]=t.outerHeight+"px",l()):b=!0}function D(t,e){if(!t||!e)return b=!0,d(p,[],(()=>null),f,!0),l();const i=e.items;if(void 0===i)return b=!0,d(p,[],(()=>null),f,!0),v(),l();const a=o.getItems(i).filter((t=>o.isItemHorizontallyInViewport(t)));d(p,a,(e=>({row:t,item:e,itemData:e?o.getItemData(e.id):null})),f,!0),v(),l()}const y=o.getClass(u),P=o.generateSlots(u,t,e);c((function(o,i){if(i.leave||!o||void 0===o.row)return b=!0,d(p,[],(()=>null),f,!0),P.change(o,i),l();e=o;for(const t in e)m[t]=e[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)g=y+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const o=e.row.classNames({row:e.row,vido:t});Array.isArray(o)&&o.length&&(g=y+" "+o.join(" "))}}else g=y;D(e.row,e.rowData),P.change(o,i),l()})),a(i.subscribe("$data.chart.dimensions.width",(()=>D(e.row,e.rowData)))),a((()=>{p.forEach((t=>t.destroy()))}));const x=o.getActions(u);x.push(X);const W=n.create(x,m);function C({classNameCurrent:t,styleMap:e,shouldDetach:o,itemComponents:i,actions:a,slots:s,cache:n,html:l,vido:r,props:c}){return n(o||!c||!c.row?null:s.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${a()}
                style=${e.directive()}
              >
                ${s.html("content",i.map((t=>t.html())))}
              </div>
            `))}let $=C;return a(i.subscribe(`config.templates.${u}`,(t=>{$=null!=t?t:C,l()}))),()=>$({cache:s,shouldDetach:b,classNameCurrent:g,styleMap:w,itemComponents:p,actions:W,slots:P,html:r,vido:t,props:e})}
/**
 * ChartTimelineItemsRowItem component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */class et{constructor(t,e){let o=!1,i=e.state.get("$data.elements.chart-timeline-items-row-items");void 0===i&&(i=[],o=!0),i.includes(t)||(i.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-items-row-items",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-row-items",(e=>e.filter((e=>e!==t))),{only:null})}}function ot(t,e){const{api:o,state:i,cache:a,onDestroy:s,Actions:n,update:l,html:r,onChange:c,unsafeHTML:d,StyleMap:h}=t;let u,m,f=0,g=0;s(i.subscribe("config.chart.spacing",(t=>{"number"==typeof t?(g=t,f=0):("number"==typeof t.left&&(f=t.left),"number"==typeof t.right&&(g=t.right)),l()})));const p="chart-timeline-items-row-item";let w=0,b=0,v=!1,D="";const y=new h({width:"",height:"",left:"",top:""}),P=new h({}),x=new h({}),W={item:e.item,itemData:e.itemData,row:e.row,left:w,width:b,api:o,state:i,componentName:p},C=o.getClass(p),$=o.getClass(p+"-label"),I=o.generateSlots(p,t,e);let S,M=!1;s(i.subscribe("config.chart.item.cutIcons",(t=>{S={left:o.getSVGIconSrc(t.left),right:o.getSVGIconSrc(t.right)}})));const G=o.getClass(`${p}-cut`)+" "+o.getClass(`${p}--left-cut-icon`),z=o.getClass(`${p}-cut-image`),k=()=>r`
    <div class=${G} style=${P.directive()}>
      <img src="${S.left}" width="18" height="18" class=${z} />
    </div>
  `,L=o.getClass(`${p}-cut`)+" "+o.getClass(`${p}--right-cut-icon`),R=o.getClass(`${p}-cut-image`),T=()=>r`
    <div class=${L} style=${x.directive()}>
      <img src="${S.right}" width="18" height="18" class=${R} />
    </div>
  `;c((function(a,s){if(s.leave||void 0===a.row||void 0===a.item)return v=!0,M=!0,I.change(a,s),l();M=!1,v=!1,(e=a).item.id===u&&e.row.id===m||(u=e.item.id,m=e.row.id),W.item=e.item,W.itemData=e.itemData,W.row=e.row,function(){var a;if(M)return l();const s=i.get("$data.chart.time");if(v||0===s.levels.length||!s.levels[s.level]||0===s.levels[s.level].length)return M=!0,l();if(!e.item||!e.itemData)return M=!0,l();if(!i.get().$data.chart.verticallyVisibleItems.includes(e.item.id))return M=!0,l();const n=e.itemData;if(w=n.position.actualLeft+f,b=n.actualWidth-g-f,e.item.time.end<s.leftGlobal||e.item.time.start>s.rightGlobal||b<=0)return M=!0,n.detached=M,l();if(D=C,e.item.time.start<s.leftGlobal?(P.style.display="flex",D+=" "+o.getClass(p+"--left-cut")):P.style.display="none",e.item.time.end>s.rightGlobal?(x.style.display="flex",D+=" "+o.getClass(p+"--right-cut")):x.style.display="none",e.item.classNames)if(Array.isArray(e.item.classNames)&&e.item.classNames.length)D+=" "+e.item.classNames.join(" ");else if("function"==typeof e.item.classNames){const o=e.item.classNames({item:e.item,vido:t});Array.isArray(o)&&(D+=" "+o.join(" "))}const r=y.style.width,c=y.style.left,d=y.style.top,h=y.style.height;y.setStyle({});const u=o.isItemHorizontallyInViewport(e.item,s.leftGlobal,s.rightGlobal);if(M=!u,n.detached=M,u?(y.style.width=b+"px",y.style.left=w+"px",y.style.top=n.position.actualRowTop+"px",y.style.height=n.actualHeight+"px"):(y.style.width=r,y.style.left=c,y.style.top=d,y.style.height=h),null===(a=null==e?void 0:e.item)||void 0===a?void 0:a.style)for(const t in e.item.style)y.style[t]=e.item.style[t];W.left=w,W.width=b,l()}(),I.change(a,s),l()}));const O=o.getActions(p);O.push(et);const A=n.create(O,W);function V(){return e.item?e.item.isHTML?e.item&&e.item.label?"function"==typeof e.item.label?d(e.item.label({item:e.item,vido:t})):"string"==typeof e.item.label?d(e.item.label):null:null:e.item&&e.item.label?"function"==typeof e.item.label?e.item.label({item:e.item,vido:t}):e.item.label:null:null}function H({className:t,labelClassName:e,styleMap:o,cache:i,shouldDetach:a,cutterLeft:s,cutterRight:n,getContent:l,actions:r,slots:c,html:d,vido:h,props:u}){return i(a||!u||!u.item?null:c.html("outer",d`
              <div
                class=${t}
                data-gstcid=${u.item.id}
                data-actions=${r()}
                style=${o.directive()}
              >
                ${c.html("inner",d`
                    ${s()}
                    <div class=${e}>${c.html("content",l())}</div>
                    ${n()}
                  `)}
              </div>
            `))}let _=H;return c((()=>{const t=i.get(`config.templates.${p}`);_=null!=t?t:H,l()})),()=>_({className:D,labelClassName:$,cache:a,shouldDetach:M,styleMap:y,cutterLeft:k,cutterRight:T,getContent:V,actions:A,slots:I,html:r,vido:t,props:e})}
/**
 * Gantt-Schedule-Timeline-Calendar default configuration
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */const it=["main","scroll-bar","list","list-column","list-column-header","list-column-header-resizer","list-column-row","list-column-row-expander","list-column-row-expander-toggle","list-toggle","chart","chart-calendar","chart-calendar-date","chart-timeline","chart-timeline-grid","chart-timeline-grid-row","chart-timeline-grid-row-cell","chart-timeline-items","chart-timeline-items-row","chart-timeline-items-row-item"];function at(){const t={};return it.forEach((e=>t[e]=[])),t}function st(){const t={};return it.forEach((e=>t[e]=null)),t}function nt(){const t={};return it.forEach((e=>{t[e]={outer:[],inner:[],"container-outer":[],"container-inner":[],content:[]}})),t}function lt(){const t=[{zoomTo:17,period:"day",periodIncrement:1,classNames:["gstc-date-medium gstc-date-left"],format:({timeStart:t})=>t.format("DD MMMM YYYY (dddd)")},{zoomTo:23,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM YYYY")},{zoomTo:24,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM 'YY")},{zoomTo:25,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMM YYYY")},{zoomTo:27,period:"year",periodIncrement:1,format:({timeStart:t})=>t.format("YYYY")},{zoomTo:100,period:"year",periodIncrement:1,format:()=>null}],e=[{zoomTo:9,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:11,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:5,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:12,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:15,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:13,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:30,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:16,period:"hour",classNames:["gstc-date-medium"],main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:17,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH")},{zoomTo:19,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t,className:e,vido:o})=>o.html`<span class="${e}-content gstc-date-bold">${t.format("DD")}</span> <span class="${e}-content gstc-date-thin">${t.format("dddd")}</span>`},{zoomTo:20,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("DD")}</div><div class="${o}-content gstc-date-small">${t.format("dddd")}</div>`},{zoomTo:21,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("DD")}</div><div class="${o}-content gstc-date-small">${t.format("ddd")}</div>`},{zoomTo:22,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:o})=>o.html`<div class="${e}-content gstc-date-top">${t.format("DD")}</div><div class="${e}-content gstc-date-extra-small">${t.format("ddd")}</div>`},{zoomTo:23,period:"week",main:!0,periodIncrement:1,format:({timeStart:t,timeEnd:e,className:o,vido:i})=>i.html`<div class="${o}-content gstc-date-top">${t.format("DD")} - ${e.format("DD")}</div><div class="${o}-content gstc-date-small gstc-date-thin">${t.format("ddd")} - ${e.format("dd")}</div>`},{zoomTo:25,period:"week",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,timeEnd:e,className:o,vido:i})=>i.html`<div class="${o}-content gstc-date-top gstc-date-small gstc-date-normal">${t.format("DD")}</div><div class="gstc-dash gstc-date-small">-</div><div class="${o}-content gstc-date-small gstc-date-normal">${e.format("DD")}</div>`},{zoomTo:26,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-month-level-1"],format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("MMM")}</div><div class="${o}-content gstc-date-small gstc-date-bottom">${t.format("MM")}</div>`},{zoomTo:27,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:o})=>o.html`<div class="${e}-content gstc-date-top">${t.format("MM")}</div><div class="${e}-content gstc-date-extra-small">${t.format("MMM")}</div>`},{zoomTo:28,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-big"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:29,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:30,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YY")},{zoomTo:100,period:"year",main:!0,periodIncrement:1,format:()=>null}];return{licenseKey:"",debug:!1,plugins:[],plugin:{},innerHeight:428,initialWidth:1024,additionalSpace:{top:0,bottom:0},headerHeight:72,autoInnerHeight:!1,components:{ScrollBar:G,List:z,ListColumn:L,ListColumnHeader:R,ListColumnHeaderResizer:T,ListColumnRow:A,ListColumnRowExpander:V,ListColumnRowExpanderToggle:H,ListToggle:_,Chart:N,ChartCalendar:E,ChartCalendarDate:j,ChartTimeline:F,ChartTimelineGrid:K,ChartTimelineGridRow:J,ChartTimelineGridRowCell:q,ChartTimelineItems:U,ChartTimelineItemsRow:tt,ChartTimelineItemsRowItem:ot},slots:nt(),list:{rows:{},row:{height:40,gap:{top:0,bottom:0}},columns:{percent:100,resizer:{width:10,inRealTime:!0,dots:6},minWidth:50,data:{}},expander:{padding:18,size:20,icon:{width:16,height:16},icons:{child:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><ellipse ry="4" rx="4" id="svg_1" cy="12" cx="12" fill="#000000B0"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',closed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>'}},toggle:{display:!0,icons:{open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path stroke="null" d="m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path transform="rotate(-180 4.392796516418457,12) " stroke="null" d="m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>'}},sort:{compare:null,asc:!0,activeColumnId:null,icons:{up:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>'}}},scroll:{bodyClassName:"gstc-scrolling",horizontal:{width:20,minInnerSize:40,multiplier:1,precise:!0,byPixels:!0},vertical:{width:20,minInnerSize:40,multiplier:1,precise:!0,byPixels:!0}},chart:{time:{period:"day",from:0,to:0,zoom:20,leftGlobal:0,centerGlobal:0,rightGlobal:0,calculatedZoomMode:!1,onLevelDates:[],onCurrentViewLevelDates:[],onDate:[],allDates:[],autoExpandTimeFromItems:!1,alignLevelsToMain:!0,timePerPixel:0,checkCurrentDateInterval:3e5,datesCache:{timePerPixel:0,levels:[]}},calendarLevels:[t,e],grid:{cell:{onCreate:[]}},item:{gap:{top:4,bottom:4},rowTop:0,height:32,minWidth:10,overlap:!1,cutIcons:{left:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M20 9v6h-8v4.84L4.16 12L12 4.16V9h8z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12L12 19.84V15H4z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>'}},items:{},spacing:4},actions:at(),templates:st(),locale:{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:0,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:t=>{const e=["th","st","nd","rd"],o=t%100;return`[${t}${e[(o-20)%10]||e[o]||e[0]}]`}},utcMode:!1,merge:(t,e)=>s.mergeDeep({},t,e),useLast:!0,Promise:Promise,mute:[],version:"3.40.4"}}const rt=s.mergeDeep;function ct(t){const e=lt();let o=function(t,e){return s.mergeDeep(t,e)};"function"==typeof t.merge&&(o=t.merge);const i=function(t,e,o){const i=o({},e.actions),a=o({},t.actions||{});let s=[...Object.keys(i),...Object.keys(a)];s=s.filter((t=>s.includes(t)));const n={};for(const t of s)n[t]=[],void 0!==i[t]&&Array.isArray(i[t])&&(n[t]=[...i[t]]),void 0!==a[t]&&Array.isArray(a[t])&&(n[t]=[...n[t],...a[t]]);return delete t.actions,delete e.actions,n}(t,e,o),a={config:o(e,t)};return a.config.actions=i,a}t.extend(e),t.extend(o);const dt=!0;const ht=lt().locale,ut={name:"gstc",GSTCID:D.GSTCID,isGSTCID:D.isGSTCID,sourceID:D.sourceID,fromArray(t){const e=this.GSTCID,o={};for(const i of t)i.id=e(i.id),"rowId"in i&&(i.rowId=e(i.rowId)),"parentId"in i&&(i.parentId=e(i.parentId)),"dependant"in i&&(i.dependant=i.dependant.map((t=>e(t)))),"linkedWith"in i&&(i.linkedWith=i.linkedWith.map((t=>e(t)))),o[i.id]=i;return o},stateFromConfig:function(t){return this.state=new r(ct(t),{delimiter:".",useMute:dt,maxSimultaneousJobs:1e3,Promise:t.Promise,debug:!!t.debug,useCache:!1,useSplitCache:!0,useIndicesCache:!1,defaultBulkValue:!1})},wasmStateFromConfig:function(t,e="./wildcard_matcher_bg.wasm"){return c(this,void 0,void 0,(function*(){return this.state=new r(ct(t),{delimiter:".",useMute:dt,maxSimultaneousJobs:1e3}),yield this.state.loadWasmMatcher(e),this.state}))},merge:rt,mergeDeep:rt,clone:function(t){return rt({},t)},lithtml:n,html:n,vido:l,date:(e,o=!1,i=rt({},ht))=>(t.locale(i,null,!0),o?e?t.utc(e).locale(i.name):t.utc().locale(i.name):e?t(e).locale(i.name):t().locale(i.name)),setPeriod(t){return this.state.update("config.chart.time.period",t),this.state.get("config.chart.time.zoom")},dayjs:t};
/**
 * Main api
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */
function mt(t,e){const{api:o,onDestroy:i,state:a,update:s,StyleMap:n}=t,l=o.name,r=new Map;let c;i(a.subscribe("config.debug",(t=>c=t)));let d=!1;function h(t,e){"fullReload"!==e.options.data&&g.fullReload(e,t)}function u(t,e){var o;["config","config.chart.items"].includes(e.path.update)||"config.list.rows"===e.path.update&&"expanded"!==(null===(o=e.options.data)||void 0===o?void 0:o.name)||(["config.list.rows.*.parentId"].includes(e.path.listener)?function(t,e){"subscribe"!==e.type&&"sortRowsByColumn"!==e.options.data&&"fullReload"!==e.options.data&&g.partialReload(!0,e,t)}(t,e):function(t,e){"subscribe"!==e.type&&"fullReload"!==e.options.data&&g.partialReload(!1,e,t)}(t,e))}function m(t=null,e){e&&"subscribe"===e.type||e&&e.options.data&&"update-vertically-visible-items"===e.options.data||g.minimalReload(e,t)}function f(){r.forEach((t=>t())),r.clear(),c&&console.log("Plugins destroyed.")}var g={className:W(l),styleMap:new n({}),initializePlugins(){i(a.subscribe("config.plugins",(e=>{if(void 0!==e&&Array.isArray(e)){r.forEach(((t,o)=>{e.includes(o)||(t(),r.delete(o))}));for(const o of e){if(r.has(o))continue;let e=o(t);"function"!=typeof e&&Object.prototype.hasOwnProperty.call(e,"destroy")?e=e.destroy.bind(e):"function"!=typeof e&&(e=()=>{}),r.set(o,e)}}c&&console.log("Plugins initialized.")}))),i(f)},heightChange(){if(o.isMutedMethod("heightChange"))return;const t=a.get("config"),e=a.get("config.scroll.horizontal.width"),i=t.innerHeight-e;a.multi(!0).update("$data.chart.dimensions.heightWithoutScrollBar",i).update("$data.chart.dimensions.innerHeight",t.innerHeight).update("$data.chart.dimensions.height",t.innerHeight+t.headerHeight).update("$data.height",t.innerHeight+t.headerHeight).done(),g.styleMap.style["--height"]=i+"px",g.styleMap.style.height=t.innerHeight+t.headerHeight+"px",o.calculateVerticalScrollSize(),s()},resizerActiveChange(t){d=t,g.className=W(o.name),d&&(g.className+=` ${o.name}__list-column-header-resizer--active`),s()},generateTreeFromVisibleRows(){if(o.isMutedMethod("generateTreeFromVisibleRows"))return;const t=o.getVisibleRowsId(),e=o.getAllRows(),i=o.getRowsData(),a={},n=[];for(const o of t){e[o];const t=i[o];a[o]=t;for(const e of t.items)n.push(e)}o.makeTreeMap(a,n,!0),s()},generateTree(t=!0){let e=a.get("$data.list.rowsIds");if(!e)return;e=e.slice();const i=a.get("config.list.rows");if(!t)return g.generateTreeFromVisibleRows();o.fillEmptyRowValues(i);let s=o.getAllRows();const n=o.getRowsData(),l=a.get("config.chart.items");o.prepareItems(l),o.makeTreeMap(n,Object.keys(l)),s=o.sortRowsByChildren(Object.values(s).map((t=>t.id)));a.get("config").list.rows=s;const r=Object.keys(s);a.update("$data.list.rowsIds",r),o.setAllRowsIdsCache(r)},prepareExpanded(){if(o.isMutedMethod("prepareExpanded"))return;const t=o.getAllRows();if(!t)return;const e=o.generateRowsWithParentsExpanded(t);a.update("$data.list.rowsWithParentsExpanded",e)},generateVisibleRowsAndItems(){if(o.isMutedMethod("generateVisibleRowsAndItems"))return;const t=o.getVisibleRows(),e=a.get("$data.list.visibleRows")||[];let i=!0;t.length!==e.length?i=!0:t.length&&(i=t.join("|")!==e.join("|"));let n=a.multi(!0);i&&(n=n.update("$data.list.visibleRows",t));const l=[],r=[],c=o.getRowsData(),d=a.get("config.chart.items");for(const e of t){const t=c[e];for(const e of t.items){l.push(e);const t=d[e];t&&o.isItemHorizontallyInViewport(t)&&r.push(e)}}n=n.update("$data.chart.verticallyVisibleItems",l),n=n.update("$data.chart.viewPortVisibleItems",r),n.done(),s()},updateItemsVerticalPositionsOfVisibleRows(){const t=o.getAllItems(),e=o.getItemsData(),i=o.getRowsData(),a=o.getVisibleRows();let s=[];for(const t of a){const e=i[t];e&&(s=s.concat(e.items))}for(const a of s){const s=t[a];s&&o.calculateItemVerticalPosition(a,e[a],i[s.rowId])}},getMutedListeners(){const t=[];return a.isMutedListener(h)&&t.push(h),a.isMutedListener(u)&&t.push(u),a.isMutedListener(m)&&t.push(m),t},triggerLoadedEvent(){Promise.resolve().then((()=>{const t=a.get("$data.elements.main");if(!t)return;const e=t.parentNode;if(!e)return;const o=new Event("gstc-loaded");t.dispatchEvent(o),e.dispatchEvent(o)}))},getLastPageDatesWidth(t,e){if(0===e.length)return 0;let o=0,i=0;if(e.length){if(Math.ceil(e[e.length-1].rightPx)>t)for(let a=e.length-1;a>=0;a--){const s=e[a];if(o+=s.width,o>=t){o-=s.width;break}i++}}return a.update("$data.scroll.horizontal",(t=>(t.lastPageSize=o,t.lastPageCount=i,t))),o},formatDate(e,o,i){const a=W("chart-calendar-date");return e.format({timeStart:o.leftGlobalDate.locale(i),timeEnd:o.rightGlobalDate.locale(i),vido:t,className:a,props:{date:o}})},generatePeriodDates(t,e,i,s){const n=t.period,l=e.fromDate,r=e.toDate,c=a.get("config.locale.name");let d=o.time.generatePeriodDates({leftDate:l,rightDate:r,level:i,levelIndex:s,period:n,time:e,callOnDate:!1,callOnLevelDates:!0});d=o.time.recalculateDatesWidths(d,e),s!==e.level&&(d=o.time.alignLevelToMain(s,d,e)),d=o.time.recalculateDatesPositions(d,e,!1,!1);for(const e of d)e.formatted=g.formatDate(t,e,c);return d},limitGlobal:t=>(t.leftGlobal<t.from&&(t.leftGlobal=t.from,t.leftGlobalDate=o.time.date(t.leftGlobal),t.leftGlobal=t.leftGlobalDate.valueOf()),t.rightGlobal>t.to&&(t.rightGlobal=t.to,t.rightGlobalDate=o.time.date(t.rightGlobal),t.rightGlobal=t.rightGlobalDate.valueOf()),t),setCenter(t){let e=Math.floor(t.rightGlobalDate.diff(t.leftGlobalDate,"millisecond",!0)/2);const i=o.time.getRightViewDate(t);i&&(i.width!==i.currentView.width&&(e-=(i.width-i.currentView.width)*t.timePerPixel),t.centerGlobalDate=t.leftGlobalDate.add(e,"millisecond"),t.centerGlobal=t.centerGlobalDate.valueOf())},guessPeriod(t,e){if(!t.zoom)return t;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));e&&e.main&&(t.period=e.period)}return t},getFormatAndLevelIndexForZoom(t,e=a.get("config.chart.calendarLevels")){let o=0,i=0;for(const a of e){for(const e of a)if(e.main&&t<=e.zoomTo)return i=o,{levelIndex:i,format:e};o++}if(!i)throw new Error(`There is no main date format for zoom ${t}.`)},generateAllDates(t,e){if(!t.zoom)return[];t.allDates=new Array(e.length),o.time.stopCheckingCurrentDates();const{format:i,levelIndex:a}=g.getFormatAndLevelIndexForZoom(t.zoom,e);t.level=a,t.allDates[t.level]=g.generatePeriodDates(i,t,e[a],t.level);let s=0;for(const i of e){const e=i.find((e=>+t.zoom<=+e.zoomTo));s!==t.level&&(t.allDates[s]=g.generatePeriodDates(e,t,i,s)),o.time.setDatesCacheLevel(s,t.allDates[s],t),s++}return o.time.checkCurrentDates(!0,t),t.allDates},getPeriodDatesAndCalculateViewOffsetFromAllDates(t,e){if(!t.length)return[];const i=t.filter((t=>t.leftGlobal<e.rightGlobal&&t.rightGlobal>=e.rightGlobal||t.leftGlobal<=e.leftGlobal&&t.rightGlobal>e.leftGlobal||t.leftGlobal>=e.leftGlobal&&t.rightGlobal<=e.rightGlobal));if(!i.length)return[];let a=0;e.leftGlobal>i[0].leftGlobal&&(a=o.time.getDatesDiffPx(e.leftGlobalDate,i[0].leftGlobalDate,e,!0));let s=a;const n=i.length-1;return i.map(((t,i)=>{if(t.currentView={leftPx:s,rightPx:s+t.width,width:t.width+a,leftGlobalDate:o.time.date(t.leftGlobal-a*e.timePerPixel),rightGlobalDate:o.time.date(t.rightGlobal),durationMs:0},t.currentView.durationMs=t.currentView.rightGlobalDate.valueOf()-t.currentView.leftGlobalDate.valueOf(),a=0,s+=t.width,i===n&&t.rightGlobal>e.rightGlobal){let i=0;t.currentView.leftPx<0&&(i=t.currentView.leftPx,t.currentView.leftPx=0),t.currentView.width=(e.rightGlobal+1-t.leftGlobal)/e.timePerPixel+i,t.currentView.rightPx=t.currentView.leftPx+t.currentView.width,t.currentView.rightGlobalDate=o.time.date(t.leftGlobal+t.currentView.width*e.timePerPixel)}return t}))},updateLevels(t,e){t.levels=[],t.currentZoomLevelFormatting=[];let o=0;for(const i of e){const e=i.find((e=>+t.zoom<=+e.zoomTo));if(t.currentZoomLevelFormatting[o]=e,e.main&&(t.format=e,t.level=o),e){let a=g.getPeriodDatesAndCalculateViewOffsetFromAllDates(t.allDates[o],t);t.onCurrentViewLevelDates.forEach((s=>{a=s({dates:a,format:e,time:t,level:i,levelIndex:o})})),t.levels.push(a)}o++}},updateLocale(){const t=a.get("$data.chart.time"),e=a.get("config.locale.name");let o=0;for(const i of t.allDates){const a=t.currentZoomLevelFormatting[o];for(const t of i)t.formatted=g.formatDate(a,t,e);o++}o=0;for(const i of t.levels){const a=t.currentZoomLevelFormatting[o];for(const t of i)t.formatted=g.formatDate(a,t,e);o++}s()},calculateTotalViewDurationFromDates(t){let e=0,o=0;for(const i of t.allDates[t.level])e+=i.width,o+=i.rightGlobal+1-i.leftGlobal;t.totalViewDurationPx=e,t.totalViewDurationMs=o},calculateRightGlobal(t,e,i,s,n){const l=a.get("$data.chart.time"),r=t.endOf(l.period).valueOf(),c=o.time.findDateAtTime(r,i);if(!c)return t.valueOf();let d=i.indexOf(c),h=c.leftGlobal,u=0;for(let t=i.length;d<t;d++){const t=i[d];if(h=t.rightGlobal,u+=t.width,u+s>=e)break}return h+n},updateViewPortVisibleItems(t=!1,e=a.get("$data.chart.time")){const i=a.get("$data.chart.verticallyVisibleItems"),s=o.getItems(i);if(!s)return[];const n=[];for(const t of s)o.isItemHorizontallyInViewport(t,e.leftGlobal,e.rightGlobal)&&n.push(t.id);if(t){a.get("$data.chart").viewPortVisibleItems=n}else a.update("$data.chart.viewPortVisibleItems",n);return s},updateViewPortVisibleItemsPositions(t=a.get("$data.chart.time"),e=a.multi(!0)){const i=a.get("$data.chart.viewPortVisibleItems"),s=o.getItems(i);if(!s)return e;const n=o.getAllRows(),l=o.getRowsData(),r=o.getItemsData();if(!n)return e;if(!t.levels||!t.levels[t.level])return e;let c=!1;for(const i of s){if(!i)return e;const a=n[i.rowId],s=l[i.rowId];if(!a||!s)continue;const d=o.mergeDeep({},r[i.id]),h=d.position,u=o.calculateItemPosition(i.id,r[i.id],s,t,i);for(const t in h)if(u[t]!==h[t]){c=!0;break}if(!c)for(const t in d)if(r[i.id][t]!==d[t]){c=!0;break}}return c&&(e=e.update("$data.chart.items",(t=>t),{data:"update-vertically-visible-items"})),e},calculateLeftAndRightGlobalNormally(t,e){const i=t.allDates[t.level],a=e.preciseOffset*t.timePerPixel;let s=i[e.dataIndex];if(!s&&i.length)s=i[i.length-1];else if(!i.length)return;t.leftGlobal=s.leftGlobal-a,t.leftGlobalDate=o.time.date(t.leftGlobal);let n=e.preciseOffset;const l=o.getChartWidth(!1);let r;for(let o=e.dataIndex;o<i.length;o++){const e=i[o];if(n+=e.width,n>=l){const o=(n-l)*t.timePerPixel;r=e.rightGlobal-o;break}}if(!r){r=i[i.length-1].rightGlobal}t.rightGlobal=r,t.rightGlobalDate=o.time.date(t.rightGlobal)},calculateLeftAndRightGlobalFromCenter(t,e,i){const a=o.getChartWidth(!1),s=t.allDates[t.level];if(s.length||(t.leftGlobal=t.from,t.leftGlobalDate=o.time.date(t.leftGlobal),t.rightGlobal=null,t.rightGlobalDate=null),0===i.handlePosPx){t.leftGlobal=t.fromDate.valueOf(),t.leftGlobalDate=o.time.date(t.leftGlobal),t.rightGlobal=o.time.getTimeFromOffsetPx(a,!1,t),t.rightGlobalDate=o.time.date(t.rightGlobal);const e=s[0];return i.dataId=e.id,i.dataIndex=0,i.preciseOffset=0,t}if(i.handlePosPx===i.maxHandlePosPx){t.rightGlobal=t.toDate.valueOf(),t.rightGlobalDate=o.time.date(t.rightGlobal);let e=s[s.length-1];let n=0,l=s.length-1;for(;l>=0;l--){const t=s[l];if(n+=t.width,n>=a){e=t;break}}const r=(n-a)/t.timePerPixel;t.leftGlobal=e.leftGlobal+r,t.leftGlobalDate=o.time.date(t.leftGlobal);const c=s[s.length-1];return i.dataId=c.id,i.dataIndex=s.length-1,i.preciseOffset=0,t}const n=Math.round(a/2);let l=0;for(const e of s){if(e.rightGlobal>t.centerGlobal)break;l++}if(l>=s.length||t.centerGlobal<s[0].leftGlobal||t.centerGlobal>s[s.length-1].rightGlobal)return g.calculateLeftAndRightGlobalNormally(t,i);const r=e.centerGlobal-s[l].leftGlobal;let c,d=-Math.round(r/t.timePerPixel),h=0;for(let t=l;t>=0;t--){const e=s[t];if(d+=e.width,d>=n){c=e,h=t;break}}c||(c=s[0],d=n);const u=d-n,m=Math.round(u*t.timePerPixel);t.leftGlobal=c.leftGlobal+m,t.leftGlobalDate=o.time.date(t.leftGlobal);let f,p=-u;const w=s.length;for(let t=0;t<w;t++){const e=s[t];if(p+=e.width,p>=a){f=e;break}}f||(f=s[s.length-1],p=a);const b=p-a,v=Math.round(b*t.timePerPixel);return t.rightGlobal=f.rightGlobal-v,t.rightGlobalDate=o.time.date(t.rightGlobal),i.dataId=c.id,i.dataIndex=h,i.preciseOffset=-u,t},updateFromToBasedOnDates(t){const e=t.allDates[t.level];e.length&&(t.from=e[0].leftGlobal,t.fromDate=o.time.date(t.from),t.to=e[e.length-1].rightGlobal,t.toDate=o.time.date(t.to))},recalculateTimes(t){if(o.isMutedMethod("recalculateTimes"))return;const i=a.get("config.chart.time"),n=e({},i),l=a.get("$data.chart.time");n.allDates=l.allDates||new Array(n.levels.length),n.datesCache=l.datesCache||{timePerPixel:0,levels:[]};const r=a.get("config.chart.items");if(!(n.from&&n.to||Object.keys(r).length))return;if("number"!=typeof n.from&&void 0!==n.from||"number"!=typeof n.to&&void 0!==n.to)throw new Error("[gantt-schedule-timeline-calendar] 'config.chart.time.from' and 'config.chart.time.to' must be a number (unix epoch milliseconds).");if(!n.from){let t=1/0;for(const e in r){const o=r[e];t>o.time.start&&(t=o.time.start)}n.from=t}if(!n.to){let t=0;for(const e in r){const o=r[e];t<o.time.end&&(t=o.time.end)}n.to=t}n.fromDate||(n.fromDate=o.time.date(n.from)),n.toDate||(n.toDate=o.time.date(n.to));const c=a.get("$data.scroll.vertical.visible"),d=o.getChartWidth(c),h=a.get("config.chart.calendarLevels"),u=a.get("$data.scroll.horizontal");n.calculatedZoomMode||o.time.recalculateFromTo(n),n.leftGlobal||(n.leftGlobal=n.from);const m=t.filter((t=>"items-out-of-view"===t.name));let f=1/0,p=0;if(m.length)for(const t of m)f>t.from&&(f=t.from),p<t.to&&(p=t.to);let w=!1;if((t.find((t=>"reload"===t.name))||t.find((t=>"all"===t.name))||t.find((t=>"from"===t.name))||t.find((t=>"to"===t.name))||t.find((t=>"zoom"===t.name))||t.find((t=>"calculated-zoom-mode"===t.name))||t.find((t=>"align-levels"===t.name))||t.find((t=>"auto-expand-time"===t.name))||t.find((t=>"locale"===t.name)))&&(w=!0),n.calculatedZoomMode&&d){n.totalViewDurationMs=o.time.date(n.to).add(1,n.period).startOf(n.period).diff(n.from,"millisecond"),n.timePerPixel=n.totalViewDurationMs/d,n.totalViewDurationPx=n.totalViewDurationMs/n.timePerPixel,n.zoom=Math.log(n.timePerPixel)/Math.log(2),o.resetHorizontalScroll(),w&&g.generateAllDates(n,h),g.calculateTotalViewDurationFromDates(n),n.timePerPixel=n.totalViewDurationMs/d,n.zoom=Math.log(n.timePerPixel)/Math.log(2);for(let t=0;t<n.allDates.length;t++)o.time.recalculateDatesWidths(n.allDates[t],n),o.time.recalculateDatesPositions(n.allDates[t],n),o.time.setDatesCacheLevel(t,n.allDates[t],n);g.calculateTotalViewDurationFromDates(n),n.leftGlobal=n.from,n.leftGlobalDate=o.time.date(n.leftGlobal),n.rightGlobal=n.to,n.rightGlobalDate=o.time.date(n.rightGlobal)}else{n.timePerPixel=Math.pow(2,n.zoom),m.length&&n.autoExpandTimeFromItems&&(n.from=f,n.to=p),n.fromDate=o.time.date(n.from).startOf(n.period),n.from=n.fromDate.valueOf(),n.toDate=o.time.date(n.to).endOf(n.period),n.to=n.toDate.valueOf(),w&&g.generateAllDates(n,h),m.length&&n.autoExpandTimeFromItems||g.updateFromToBasedOnDates(n),g.calculateTotalViewDurationFromDates(n);const e=a.get("$data.chart.time");t.find((t=>"zoom"===t.name))&&!t.find((t=>"all"===t.name))&&e.centerGlobalDate?(g.calculateLeftAndRightGlobalFromCenter(n,e,u),o.calculateHorizontalScrollSizeAndPosFromDates(n.totalViewDurationPx,n,u,!1)):(o.calculateHorizontalScrollSizeAndPosFromDates(n.totalViewDurationPx,n,u,!1),g.calculateLeftAndRightGlobalNormally(n,u))}g.updateLevels(n,h),g.limitGlobal(n),n.leftPx=0,n.rightPx=d,n.width=d;const b=n.levels[n.level];if(b&&b.length){const t=b[b.length-1];n.leftPx=b[0].leftPx-u.preciseOffset,n.rightPx=t.rightPx,n.width=n.rightPx}g.setCenter(n);let v=a.multi(!0);v=v.update("config.chart.time",(t=>((t=Object.assign({},t)).zoom=n.zoom,t.level=n.level,t.period=n.format.period,t.leftGlobal=n.leftGlobal,t.leftGlobalDate=n.leftGlobalDate.clone(),t.centerGlobal=n.centerGlobal,t.rightGlobal=n.rightGlobal,t.rightGlobalDate=n.rightGlobalDate.clone(),t.from=n.from,t.to=n.to,t.autoExpandTimeFromItems=n.autoExpandTimeFromItems,t.timePerPixel=n.timePerPixel,t))),v=v.update("$data.chart.time",n),g.updateViewPortVisibleItems(!0,n),v=g.updateViewPortVisibleItemsPositions(n,v),v=v.update("$data.chart.time.recalculateTimesLastReason",t);const D=t.find((t=>"set-scroll-left"===t.name));v=v.update("$data.scroll.horizontal",u,{data:D?"set-scroll-left":void 0}),v.done();const y=t.find((t=>"from"===t.name)),P=t.find((t=>"to"===t.name));(y||P)&&(o.timeSectorsGenerateForRows(!0),o.measureRows(!0)),s();const x=t.find((t=>"chart-width"===t.name));x&&0===x.oldValue&&0!==x.newValue&&setTimeout(g.triggerLoadedEvent,0)},minimalReload(t,e){if(o.isMutedMethod("minimalReload"))return;o.muteMethod("minimalReload");const i=g.getMutedListeners();a.mute(h),a.mute(u),a.mute(m),a.collect(),o.calculateVisibleRowsHeights(),g.generateVisibleRowsAndItems(),g.updateViewPortVisibleItemsPositions().done(),a.executeCollected(),i.includes(h)||a.unmute(h),i.includes(u)||a.unmute(u),i.includes(m)||a.unmute(m),o.unmuteMethod("minimalReload"),s()},partialReload(t=!0,e,i){if(o.isMutedMethod("partialReload"))return;o.muteMethod("partialReload");const n=g.getMutedListeners();if(a.mute(h),a.mute(u),a.mute(m),t){const t=a.get("$data");t.list.rows={},t.chart.items={}}a.collect(),g.generateTree(t),g.prepareExpanded(),o.measureRows(),o.calculateVerticalScrollSize(),g.minimalReload(e,i),a.executeCollected(),n.includes(h)||a.unmute(h),n.includes(u)||a.unmute(u),n.includes(m)||a.unmute(m),o.unmuteMethod("partialReload"),s()},fullReload(t,e){if(o.isMutedMethod("fullReload"))return;a.update("$data.reloading",!0),o.muteMethod("fullReload");const i=g.getMutedListeners();a.mute(h),a.mute(u),a.mute(m),a.collect(),g.partialReload(!0,t,e),g.recalculateTimes([{name:"reload"}]),a.executeCollected(),i.includes(h)||a.unmute(h),i.includes(u)||a.unmute(u),i.includes(m)||a.unmute(m),o.unmuteMethod("fullReload"),a.update("$data.reloading",!1),s()}};i(a.subscribe("config.chart.items.:itemId.time",(function(t,e){var i;if("subscribe"!==e.type&&!a.get().$data.reloading&&(null===(i=e.params)||void 0===i?void 0:i.itemId)){const t=o.getItem(e.params.itemId);if(!t)return;const i=o.getRowData(t.rowId);if(!i||!i.itemsTimeSectors)return;o.timeSectorsItemsAddOrUpdate([t],i.itemsTimeSectors)}})));const p={};i(a.subscribe("config.chart.items.:itemId.rowId",(function(t,e){var i,s;if("subscribe"===e.type)return;if(a.get().$data.reloading)return;if(!(null===(i=e.params)||void 0===i?void 0:i.itemId))return;if(o.isMutedMethod("updateRowItems"))return;const n={},l=[];for(const e of t){const i=e.value;if(!i)continue;const a=null===(s=e.params)||void 0===s?void 0:s.itemId;if(!a)continue;l.push(a);const r=p[a];if(r===t)return;p[a]=t,n[r]=o.getRowData(r),n[i]=o.getRowData(i)}o.makeTreeMap(n,l,!0)}),{group:!0,bulk:!0,bulkValue:!1})),i(a.subscribe("config.chart.items;",(()=>{const t=a.get().config.chart.items;for(const e in t){const o=t[e];o.rowId&&(p[e]=o.rowId)}}))),i(a.subscribeAll(["config.innerHeight","config.headerHeight","config.scroll.vertical.width"],g.heightChange,{group:!0,bulkValue:!1})),i(a.subscribe("$data.list.columns.resizer.active",g.resizerActiveChange));i(a.subscribeAll(["config;","config.chart.items;","config.list.rows;","config.list.rows.*;","config.chart.items.*;"],h,{group:"reload",bulkValue:!1}));i(a.subscribeAll(["config.list.rows.*.parentId","config.chart.items.*.rowId","config.list.rows.*.expanded"],u,{group:"reload",bulkValue:!1}));i(a.subscribeAll(["config.chart.items.*.time","config.chart.items.*.height","config.chart.items.*.top","$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsHeight","config.chart.item"],m,{group:"reload",bulkValue:!1})),i(a.subscribeAll(["$data.scroll.vertical.dataIndex","$data.scroll.vertical.preciseOffset"],(function(){a.collect(),g.generateVisibleRowsAndItems(),o.calculateVisibleRowsHeights(),g.updateItemsVerticalPositionsOfVisibleRows(),g.updateViewPortVisibleItemsPositions().done(),a.executeCollected()}),{group:!0,bulkValue:!1})),i(a.subscribe("config.list.sort",(t=>{const e=a.get(`config.list.columns.data.${t.activeColumnId}`);e&&o.sortRowsByColumn(e,t.asc)}))),i(a.subscribeAll(["config.chart.items.*.time","config.chart.items.*;","config.chart.items.*.rowId"],(function(t,e){e.options.data&&"updateViewPortVisibleItems"===e.options.data||o.isMutedMethod("updateViewPortVisibleItemsListener")||(g.updateViewPortVisibleItems(),g.updateViewPortVisibleItemsPositions().done())}),{group:!0,bulkValue:!1}));let w=a.get("config.locale.weekStart");i(a.subscribe("config.locale",((t,e)=>{"subscribe"!==e.type&&(t.weekStart===w?g.updateLocale():(w=t.weekStart,g.recalculateTimes([{name:"locale"}])))})));const b={utcMode:!1,initialized:!1,zoom:0,period:"",scrollAbsolutePosPx:0,scrollTime:0,chartWidth:0,from:0,to:0,dataFrom:0,dataTo:0,calculatedZoomMode:!1,alignLevels:!0,autoExpandTime:!0};return i(a.subscribeAll(["config.utcMode","config.chart.time","$data.chart.time","config.chart.calendarLevels","$data.scroll.horizontal","$data.chart.dimensions.width","config.chart.items.*.time"],((t,e)=>{const o=function(t){const e=a.get("config.utcMode"),o=a.get("config.chart.time"),i=a.get("$data.chart.time"),s=a.get("$data.scroll.horizontal"),n=a.get("$data.chart.dimensions.width"),l=a.get("config.chart.time.calculatedZoomMode"),r=Object.assign({},b);b.utcMode=e,b.zoom=o.zoom,b.period=o.period,b.from=o.from,b.to=o.to,b.dataFrom=i.from,b.dataTo=i.to,b.scrollAbsolutePosPx=s.absolutePosPx,s.data&&(b.scrollTime=s.data.leftGlobal),b.chartWidth=n,b.calculatedZoomMode=l,b.alignLevels=o.alignLevelsToMain,b.autoExpandTime=o.autoExpandTimeFromItems;const c=[];return b.initialized||(b.initialized=!0,c.push({name:"all"})),e!==r.utcMode&&c.push({name:"utc-mode",oldValue:r.utcMode,newValue:e}),l!==r.calculatedZoomMode&&c.push({name:"calculated-zoom-mode",oldValue:r.calculatedZoomMode,newValue:l}),o.zoom!==r.zoom&&c.push({name:"zoom",oldValue:r.zoom,newValue:o.zoom}),o.period!==r.period&&c.push({name:"period",oldValue:r.period,newValue:o.period}),o.from!==r.from&&c.push({name:"from",oldValue:r.from,newValue:o.from}),o.to!==r.to&&c.push({name:"to",oldValue:r.to,newValue:o.to}),i.from!==r.dataFrom&&c.push({name:"from",oldValue:r.dataFrom,newValue:i.from}),i.to!==r.dataTo&&c.push({name:"to",oldValue:r.dataTo,newValue:i.to}),"set-scroll-left"===t.options.data&&c.push({name:"set-scroll-left"}),s.absolutePosPx!==r.scrollAbsolutePosPx&&c.push({name:"scroll-pos",oldValue:r.scrollAbsolutePosPx,newValue:s.absolutePosPx}),b.scrollTime!==r.scrollTime&&c.push({name:"scroll-time",oldValue:r.scrollTime,newValue:b.scrollTime}),n!==r.chartWidth&&c.push({name:"chart-width",oldValue:r.chartWidth,newValue:n}),b.alignLevels!==r.alignLevels&&c.push({name:"align-levels",oldValue:r.alignLevels,newValue:b.alignLevels}),b.autoExpandTime!==r.autoExpandTime&&c.push({name:"auto-expand-time",oldValue:r.autoExpandTime,newValue:b.autoExpandTime}),c}(e);o.length&&g.recalculateTimes(o)}),{group:!0,bulkValue:!1})),i(a.subscribe("config.chart.items.:itemId.time",(t=>{const e=a.get("$data.chart.time"),i=o.getAllItems();let s=1/0,n=0;for(const o of t){const t=i[o.params.itemId];if(!t)return;if(t.time.start<e.from||t.time.end>e.to){let o=e.from,i=e.to;return t.time.start<e.from&&(o=t.time.start),t.time.end>e.to&&(i=t.time.end),g.recalculateTimes([{name:"items-out-of-view",from:o,to:i}])}t.time.start<s&&(s=t.time.start),t.time.end>n&&(n=t.time.end)}if(0===e.leftGlobal&&0===e.rightGlobal)return g.recalculateTimes([{name:"items",from:s,to:n}])}),{bulk:!0,bulkValue:!1})),i(a.subscribe("config.chart.time.checkCurrentDateInterval",(t=>{a.get("$data.chart.time").checkCurrentDateInterval!==t&&(a.update("$data.chart.time.checkCurrentDateInterval",t),o.time.stopCheckingCurrentDates(),o.time.checkCurrentDates(!0))}))),t.api.main=g,g}
/**
 * Main component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */function ft(t,e){const o=gt();return ft=function(e,i){let a=o[e-=382];if(void 0===ft.mqHmxe){ft.MWVpzw=function(t){let e="",o="";for(let o,i,a=0,s=0;i=t.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?e+=String.fromCharCode(255&o>>(-2*a&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let t=0,i=e.length;t<i;t++)o+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(o)},t=arguments,ft.mqHmxe=!0}const s=e+o[0],n=t[s];return n?a=n:(a=ft.MWVpzw(a),t[s]=a),a},ft(t,e)}function gt(){const t=["DxnLCL9Hz2vUDa","BwfPBG","r0ydedVcRmkSoKTFwg3dMLmizsFdK8omgCoWemkVWOzuwHuxW7VdGCkoWRC8","eSkAWObmW4CXdLpcMCoAEmkuDCoXCSokW6f+Cv5RzG","WQO+fbBdRcmxWRFdPW","gCoQlCkbWPddNxq1","gSkkWPSTW73cMmkMds55","W7ebF8kkWRbpWOi","W7NcKCkugh3cOW","BY3dQgOKW4xdGaRcKSk+WP8XjG","bmolgxi","yw5Jzxn0B3jpCMLNAw5Z","FCoVfW","W6xcL8kpfNRcQG","cLddIqT/B8oydCkmvK3dQW","WPJcHmodWQyPCHxdKs/dTgPjW67dV8kxxvVdTmo/ACk6W6WMyCkTkK3cTJBcNSo9ECoLW4lcMWn+WQxcKSoxWRWdWQjwlCk4y8klW5lcKGRdO8oXuCk2WRPwW6CXrJ5mW5hcN25oeSoGxKpdIahcMmoJuGNdJq3cLSkvtK/cPrXdWOn9","icFdOg4FW5W","WRygAqi8WPxdLmkdFW","B2jZzxj2zq","jfxdNJ4jEh/cGCk0W4i","WRBdRwuiW7BcJCkRW6C8","vmkHWOxcMCkMAmkCWPxcJdSqCmoHWOKLwSoNBSk5WPrTWQK5WQ8Kd8kqWRrNhgutWOaAW7a6c01NW6eelmoXre4tW5fLkxbLF1eVWPVdTdmWt2apWQinWQ1NW4pcL8oVrmkJhwGRWOZdIcFcICk9WPqRxmoUWQu6W7ZdVxnvcCkYc8o8B8k9kwtdP8k3W7dcJ8oxDGNcR8kHqmorsmo8sCkxW6a","pSoSpmkNWQuLW40","fmkEW4/dS0ZcG8o6WOe9ftzj","fComWQewWPuyWRRdVtD7nbuz","tgLJzw5ZzsbRzxKGy2HLy2SGBwvJAgfUAxnTig5VDcbSB2fKzwqUifrOzsbdB250zw50lvnLy3vYAxr5lvbVBgLJEsbOzwfKzxiGzg9LCYbUB3qGywXSB3CGDgHLihDHC20GzMLSzsb0BYbIzsbJB21WAwXLzc4Gvhj5ihrVigfKzcaND2fZBs11BNnHzMuTzxzHBcCGAgvHzgvYCYb0BYb5B3vYienVBNrLBNqTu2vJDxjPDhKTug9SAwn5ihj1BgvZlG","r0y6WOtcSYnTW55EWQWPmIdcHSosaSoAWOz2kCkaW7ZdGSoqW5eUWRddS0dcPmkPWRTSWR4VtSka","C2X1zW","W6zRemkLW5Ho","oIZdS8k1W5/dM8o8W6VdSL3cImofW7PKW4tdRSkaWRmam8oLqmo6oCkCWQxcI3yonCoajgddKePADSk4W4yDmSk1WP7dHMKCpSkDumk1W7/cNSogzx/cPSkLk0uLWQr9W65eDWpcSbOxW5JdVSkBAZLWBh46sJ13W6JdJCkaW4O/s03cL8kAECk6omooWPTQWPHkWPdcVSoYiuZcJIfmxdpdJmkVwgtdUSkzW4nKfSkVWR5zW7bMWROIW5NcRZddQSk2rKNdUHBdUSoAW6nThSk7WQ5NW7X1WP10tSkWuhldVs0Dsdi2W5uBi8oYCSkMWO9nW7rWmmkAuJyCWPuOxSkdl1KUW5bLj8kDtZddJSoRySkyfZlcL8k0W70oyCoHe8o3W7eGWO59W4FdTmonxKldHxpdTSkYf8kGjwZdS8kpWQ4PWPWHi14Sm8kiwCo2WOtdPYW7WQ8UW7KCzmoYoSobWPvptgyTqmoNfCo6W6pdPw/cNdNcOthdP0pcQdVdTCkeWOrthx/cKJdcR0fEW6O","WPCjWROLWOC","DgvZDa","kdfb","oSk4WPxcGmosjCkc","CgfYzw50rwXLBwvUDa","W6nvjvDbW4RcHSoFDmoLW7ZdSWCj","WODqdK0FC0VdTZTZ","hHtdUmk0WOi","zgvJCNLWDa","iCo0W6lcVulcI8o1W6C","y10GWPhcTJPLWPDxWRC","W5DTWR3dN3C","pg3dOSo5CSklW7/cKCo6amkArmoKptFdLSkzW45IBtaPW4ldKvRdUCkCi8osxCksDmoeW63dVee","hCkFWO8GW6JcNG","mY40mc40","rsZdSg0HW4VcILNcHCkJWPS4jeG","WQyiBs8qWO3dLCkkq8oEW6JdHaGHlW","ruSEgt7cVSo2lhHcrfhdJG","kCkYu8kPWRpcMbHJWOpdLgK","WQpdLSkTkH0/sCo+kCorW60VWRC9WRJcImk1WP3cUCoIDw7dNwtcO1xdSCkMdXtcN8kqlCkzz8kbW5BcG1yQAmodDHtcH8kPW5RdLMCSr0Cplcz5WQxdOCkAyNSsWPuPwsKyW57dOmkHWOXxW73cIvZcVSoGWOHEWPddOHTfoGfAW5BcMY/dJmk/WPz+W5TjACoVm8oQW5lcLIBdGWyVqCoiW4/dVCk/D8k7veBcVYK2WRiXj1W","DgLTzq","wcRdR39TW4BcGrtcKmkLWP59iXuHisxdU3fyc8k9hgdcKCoCiIKgfv8","zw5KC1DPDgG","hSk8WRRcVCoT","FZBdP345W5hcUrdcHCkK","cSkCgNtcM1PWWQudW4C","jgrHDgeUzwXLBwvUDhmUBwfPBG","W6KuAmkyWQvn","hmk8WQxcSa","zadcH2iHzv/cKCk6W7q","W6SbEeS9yG","W7GlyCkyWRHgWPq","v0WzjthcUCoTjurHuMFdGG","Dgy+iG","r8kaFvLZW5ldIa","C3bSAxq","hSosWOZcSxVdMSo0W5JcQuSyW7hdNCo3W6dcImk9kfdcHW","jcpdUN0+W4BdNWnKEq4","uKGbhZBcNSoSpufb","tCoFf1vPAK1jy38UWRm","W50AgJy","bSkOzSkvW4zwWOSOhW","jgrHDgeUzwXLBwvUDhmUCgfYzw50","y2XHC3noyw1L","wSoFkKDYza1k","mZGWmdHuv0vfvu8","DxnLCKfNzw50","B3v0zxi","DMfSAwrvBNrPBa","dZ02W7FdQYKAWQRdUNpdK8klWQVdLt1yse/dUIBdGCkrWQW","B2zMC2v0sgvPz2H0","FJFdQMK+","W7ZcHmkkghFcKqVcLbH7","C3vWCg9YDa","WQ7dNuz+WR4","aCkUuSkpW5vlWPa9","y8kVW70Vw8oLW6OXW4SLW4ZcJhVcPmoEW4a","WPtdQGhdPmk2f8ozDmkqW6q5a8kUsMVdTCkfhmkOW4FcR3Hg","Ahr0CdOVlW","zgf0yuLUzgv4","WRXBW6BcL1CBh0xcPeG4f1OwDa","WQlcISocWRDH","fmogWQCaWPCjWR0","mtzSDKTfzuS","ChvZAa","BM9YBwfSAxPLtw91C2vxAgvLBev2zw50","WPnbgfaSz1JdTWvOlw4T","WQ9vW7JcM3CBbq","r8knwsPLftrjt8oL","CgfYzw50","jSoRj8kcWORdPxrSi8o3ztfZF2H0W4ZdNL9ZW69Bo8kKWOVdUrukW4tcHu1XW7b0WR/dVa","ps7dVwaAW4NdJWmXwqzJmxPbzCkr","y2f0y2G","y29UzMLNlMLUBMvYsgvPz2H0","gGddUmkKWPq","suWEbtpcRmoN","WQBdT2KDW6VcMmoSW6GUB2xcKw/cTSkcW4n7Cd/dUmotW6q","ue9tva","zmoMhmks","mZm5CLfPt01s","nduWmZm1C0H5y21e","WQJcHCovWRH8EHNdGq","WQxcHmoBWRvGCa","BCoJb8oTW6m","W6GmACkx","Ag9YAxPVBNrHBa","Dg9W","aCk4CCkE","C2fHCW","cSkDgxxcM1ToWQiq","pLhdNdazrq","zg9TywLU","zgLZy29UBMvJDa","r1nuqZO","qSoNWRWVumoJW4mBWPb0","d1tdKs15uSor","C3rYAw5N","y29UzMLNlMXPy2vUC2vlzxK","CMvWBgfJzq","lJuL","C2v0uhvIBgLJs2v5","W6Kky8kBWQjnWPuGW60","Ahr0Chm6lY8","mteLW77dPdKA","tgLJzw5ZzsbOyxmGzxHWAxjLzc4","Dw5ZywzLlwv2ywW","WRVdKf50WRWFrw/dQxezW6pcUG","zgf0zq","ChjVzhvJDa","zw50CMLLCW","jgrHDgeUzgLTzw5ZAw9UC1bHCMvUDa","BwvZC2fNzq","FCkKWPVcK8kL","D8oVemoQW6RcQYO","BgvUz3rO","CMvNAxn0zxjLzerVBwfPBNm","yNq8jLzGlZLUndy1AgGSkG","zgvZy3jPChrPB24","zgLYzwn0AxzL","C2LNBMf0DxjL","xmkeyL93W7RdIW","gCo3nmkxWOVdPgu","CwJcSSo9W4G","AM9PBG","jCozWPZcTwxdGCo1WOO","sSordvi","b8okc25Qna","gCo3jSkuWPddPa","nSkLWPlcGCoslmoFzH7cSw1AC8kQW5RcTZXIlW","W7RcPCkmWQBdOmknWQVcUIu","sw52ywXPzcbSAwnLBNnLigTLEsbBD3jVBMCGC2LNBMf0DxjLxs4","WPpdNfT6WRWdvsRdLxCjW5BcRgzBW4RcMt3dGthcIX3dNSo7WP7dSd1nW7C8bmkMWRJdLuddP8o6WQz4xG","y27cTCo9WPZdHSooW43dIa","WOrhiWtcNSkYwJm","pgjYic8+","i8kqWOLdW50IrulcK8otkmkFDmo5FCoxW7WJcbzrnmkk","C2HPzNq","gCkGCSkpW65mWPO/aLJcMW","WQxcJSofWQb7Cqu","DLddKYmma3xcNmkWW4T6icn+pxK","A0y4WPFcTI96","zg9JDw1LBNq","lMuVyxyVE20+vxrlAfmTwfDLpwrKltKZrtD5sZLmzYO","cCo3n8ktWOVdU3q+","CgDMWQldVWGjW63dVK4","WOu9kCoOBX7dKKJcT8opWP1JWPFcMSoPW5f5WPOlWQBcTmkLFLNdP8kKx8oRW5FcKCkMWQ1bcdPJeqdcVrFdHCkOWRVdUGJcJmk7n0/cUbG5W7e/xfvaj8oTW6nVWP4OW5rjWO1BACogW7HQA8owWPxcImoVW5yha3hcPuFcQmkUWQX0W47dM8olW6T+W7OeW6RcPCogWQhdHxZdImoiWR9Ydq","zgvZDhjVEq","pMBdQrSMlSkn","z8kLWPRcMG","Dg9Rzw4","zg9TywLUCW","sCkkyeX7W5lcG3ddHSogW4Hkn8o6usXgbSkoEf7dLa","zxtcSSo9WOe","hWtdOmkcWPi+WQ7dImkRW60TkLu","zxjYB3i","k8k1WPBcGSk3nCkLW5ZcRtCDzSoMWPuUcCoCASkYW5fGWRu","xSkxz0T+","icKU","WRSHjSoOCG","mti4ndqXnJLZvhLwzKy","iNZdPmo6AmoEWR4","p8o7W7lcVh7cGCo5W6bhWOfcWRNcIZzm","sCoeW6xcUG","vhjPywW","ywjZB2X1DgvqB3nqEa","WODtd140D18","tgLJzw5ZzsbRzxKGy2HLy2SGBwvJAgfUAxnTig5VDcbSB2fKzwqGkhrYEsbNyw50Dc1Zy2HLzhvSzs10Aw1LBgLUzs1JywXLBMrHCI9KAxn0l2DZDgmUD2fZBs5LC20UBwLUlMPZks4","DxbKyxrLCW","y29UzMLNlMHLywrLCKHLAwDODa","D2LKDgG","CMv2zxjZzq","W73cVSkpWQhdOa","rCkhFu9GW4pdIa","Dg9Wtgv2zwXeB21HAw5Z","ruCoeYhcV8oTo2DFxMBdNXmt","AhjLzG","W5zmWQqwWRTqWQVdGq","AgvPz2H0","WR7dL15VWQifsa","bCkNWR/cRmo3W6W3WPlcMxncWRdcJSoYB8kTsG","B8oMaCkaWOifWRasCGpcMs8goGa6hSkKW41rWQ/dGmk3WPhdJSognSoFFaPYW6Ho","hmoJkmksWOe","z2v0","C3rYAw5NAwz5","WPmDWROPWPb1WRBdRhZcQG","ANnVBG","zNvUy3rPB24","W4ybec7cRmkzxWO","W7qqEmkjWQisW4H5W6/dLSobWQPtcrfmhw/cJCoKaCo9nSkvaMJcUfVcNfxdKehdUCo/rGhcUCovDSoHACkD","gmkMWQBcLmo7W7S+WPFcP3L/WR3cKSo7Dq","E3BcVt5oWPdcIdD1qsPqxq","WPNdJmkWkG44","y29UzMLNlMrLyNvN","oLVdGsm","mCkLWP/cKSowlSkFCW","WRddObS","DxbKyxrL","CNvSzxm","oCkVWPlcGmopiW","BwfW","W5enEq","WQe7oCo5","WRFdL15OWRenva","z3n0yY1LCNjVCG","zw5JCNLWDa","AK0/WOBcRsn5WOPBWQOK","WQrCW7pcIxSbpLtcPe48cG","W7/cLCkcegFcOq","tmo6WQSGcmoIW5qA","WQesFXawWONdMCkeyG","b8oJlSkiWPy","oIFdUwuwW4VdNIDWwG","C2v0u2nYB2XSvg9W","tgLJzw5ZzsbRzxKGBM90igzVDw5KifTJB25MAwCUBgLJzw5ZzuTLEv0","qeyafZVcPq","WR3cRSkWWOxdNCkVWOO","WRhcNSofWRW","C2v0u2nYB2XStgvMDa","y3vZDg9Tzxi","FmoVf8o6W6m","DMvY","WQpdT2SxW63cIa","seWdesBcOW","sSoCtZhdLHeuWP0EW5HleSkB","n2VdS8oODCou","DMvYDgLJywW","DwX0Aw1HDgu","WRK1omo+zdldMWhcV8opWOOWWPhcRCoNW5DR","CgtcQSolWPhdQ8owW4ddL0FdH8oL","WPfmbvKPDqldOtz1mvi5W4vZW4HArerfeaTeWPPEA8oZW7K3cIm","W68bEmkQWRjAWOG6W6tdQCoqWQ8j","pCk4WPNcGq","z2vUzxjHDgvtBg90CW","BgfZDeLUzgv4t2y","W45RemkYW5jeWQJcK3pdGq","Fmo4dmo0W47cOJTuWQ/dPfu","WOZdHSkZjG","z2v0vgLTzq","zSoMbSki","DMvYAwz5","W5zTWRpdIxdcUa","W6zRamk0W5nzWQpdLNJdLmkxW78hv2aYW4vhESop","W4ODz0SXDSkUW5BdJua","DMfSDwvFBNvT","WODtW7BcN3ageXhcQ0yMxKqADNXPW6/cVhjGWR8cEHeuW5fRhGHqvxDEWQ9QWQ4IAmknWP53W63dVLbzev0","A8kWWOpcKW","hmkhWO4V","WPWiu8o4WOrmvW","mZe1mZK2ouvivgreAq","WQHvW7VcJNSBaG","wmkqyK9H","hHj1W5tcOmo3","o8o/W7xcGLtcNCo/W7HcWRrbWQa","zNjVBuvUDhjPzxm","smoFWPlcRa","mJyWnJyXnujsyLrzDW","CgfYC2u","AhrTBa","vSonWRqXWPDeWRhdUdzspWaeWRNcKSkXzCksWQFdN0ji","pxFdTCoLDmovWRxdJq","W40hyLe","WRyJeGJdMcaxWQO","C3vIC2nYAwjL","WPmSW6tcJ0JcGSo3WRhcQSos","Dg9ju09tDhjPBMC","yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK","W4VcJSo2CfbGeCoxcmo/W6GFWRC","m8kwWOblW5uXhLpcMq","WQ1FW6hcMxy","y29UzMLNlNnJCM9SBc52zxj0AwnHBc5IEvbPEgvSCW","Aw5JBhvKzxm","B2zMC2v0v2LKDgG","baCbW5e","smonW7hcVK/cKa","n8kEWPriW70RaLxcLCoFnmkzymo5DW","vgHPCYbKB21HAw4GAxmGBM90ihjLz2LZDgvYzwqGkca","hCkKAmkCW49w","C3vIC2nYAwjLqwXS","jfxdNIii","smoEf3dcPgXcWOC","emoBgw5TkdS","W5LYd8k4W4K","yxnZAwDU","ACo7hCkjWPK","BgLJzw5Zzq","y29UzMLNlMf1Dg9jBM5LCKHLAwDODa","sw52ywXPzcbSAwnLBNnLigTLEs4","WP3dKCk3mqaZwW","c8kaWOuNW7xcNmoToIDNWOibb8kc","DhLWzq","WRSOaHddNYSl","j8kVWPRcGSojoCkuDq","WRlcN8oxWQz9BsVdMZ7dSG","zM9SBg93","DMfSDwu","mmozWO4","q8klBuzNW5hdIga","DgHLBG","W4qhzvKXyCoSW5pdGuhdMNWLwCoTg8kkWRDDW6FcQa","if0GlG","WRBdL0n8WQqc","mZbYvK9WC1K","DMfSAwrFDw50AwW","y29UzMLNlMXPC3qUCM93sgvPz2H0","y3jLyxrLzef0","Dg9Rzw5FC2HVDwXKx2jL"];return(gt=function(){return t})()}function pt(t,e){const o=gt();return pt=function(e,i){let a=o[e-=382];if(void 0===pt.aLjzjD){const e=function(t,e){let o,i,a=[],s=0,n="";for(t=function(t){let e="",o="";for(let o,i,a=0,s=0;i=t.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?e+=String.fromCharCode(255&o>>(-2*a&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let t=0,i=e.length;t<i;t++)o+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(o)}(t),i=0;i<256;i++)a[i]=i;for(i=0;i<256;i++)s=(s+a[i]+e.charCodeAt(i%e.length))%256,o=a[i],a[i]=a[s],a[s]=o;i=0,s=0;for(let e=0;e<t.length;e++)i=(i+1)%256,s=(s+a[i])%256,o=a[i],a[i]=a[s],a[s]=o,n+=String.fromCharCode(t.charCodeAt(e)^a[(a[i]+a[s])%256]);return n};pt.WsiTYU=e,t=arguments,pt.aLjzjD=!0}const s=e+o[0],n=t[s];return n?a=n:(void 0===pt.sPnwek&&(pt.sPnwek=!0),a=pt.WsiTYU(a,i),t[s]=a),a},pt(t,e)}function wt(t,e){const{api:o,state:i,onDestroy:a,Actions:s,createComponent:n,html:l,onChange:r,update:b}=t;let v;const D=mt(t,d);D[rt(1423,"#Ksm")]();const y=G(-297,-198);let P;a(i[F(1547,1644)](ct("vvD(",-11),(t=>P=t)));const x=l`
    <br />
    If you are using trial version, please generate key
    <a href="https://gstc.neuronet.io/free-key" target="_blank">here</a>. Otherwise, please contact with your developer
    or send mail to us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
  `;function W(t,e){return ft(e-259,t)}const C=l`
    <div class="gstc-error">
      <div style="font-weight: bold;margin-bottom:10px;">[ Connection error ]</div>
      An error occurred while trying to connect with license services for
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar" target="_blank"
        >gantt-schedule-timeline-calendar</a
      >
      component.<br /><br />
      If you are using <span class="gstc-code">Content-Security-Policy</span> header make sure you have added
      <span class="gstc-code">https://gstc.neuronet.io</span> address after space.<br />
      Example: <span class="gstc-code">Content-Security-Policy: connect-src self https://gstc.neuronet.io</span><br />
      More info
      <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank"
        >here</a
      >
      and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank">here</a><br /><br />
      If that doesn't help please contact your developer, search for similar
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar/issues">issues here</a> or create one. You
      can also contact us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
    </div>
  `,$=l`
    <div class="gstc-error">
      <div style="font-weight:bold; margin-bottom: 10px;">
        The gantt-schedule-timeline-calendar component will not work with local files (protocol file: ///)
      </div>
      <br /><br />
      Files needs to be served from http server like
      <a href="https://www.npmjs.com/package/http-server" target="_blank" rel="nofollow">http-server</a> or
      <a href="https://www.npmjs.com/package/sirv-cli" target="_blank" rel="nofollow">sirv-cli</a>
    </div>
  `,I=[];let S,M;function G(t,e){return ft(e- -581,t)}function z(t,e){return pt(t-841,e)}I[ct("%ZJv",77)](i[rt(1453,"!ae[")](K(-344,"QG36"),(t=>S=t))),I[F(1349,1360)](i[G(80,93)](rt(1379,"g$^t"),(t=>M=t)));const k=n(S);a((()=>{var t,e;k&&k[(t="YdaG",e=548,K(e-753,t))]()}));const L=n(M);a((()=>{var t,e;L&&L[(t="%ZJv",e=1136,z(e- -255,t))]()})),a((()=>{var t,e;I[(t="w0t!",e=-450,ct(t,e- -373))]((t=>t()))}));const{onDestroy:R,state:T,update:O,html:A,unsafeHTML:V}=t;var H=!0;const _=A`<strong>[gantt-schedule-timeline-calendar component]</strong><br /><br />`;function N(t,e=""){const o=ot(677,826-1135);var i,a;return A` <div class="${o}">${_}${t}${e?A`<br />${typeof e===(i="G@5%",a=280,E(a- -638,i))?V(e):e}`:null}</div> `}function E(t,e){return pt(t-528,e)}function B(t){return c(this,void 0,void 0,(function*(){function a(t){function e(t,e){return ft(t- -238,e)}return(t=String(t))[e(272,429)](e(232,240),"")[(o=-93,i=-175,ft(o- -603,i))](ft(459- -55,462),"");var o,i}function s(t,e){return pt(t-873,e)}function n(t){function e(t,e){return pt(e-816,t)}const o=(t=a(t))[i(321,264)](":");function i(t,e){return ft(e- -381,t)}o>-1&&(t=t[e("xE62",1317)](0,o));const s=m(t);var n,l,r,c,d,h,u,g;return s[e("M239",1315)]===f[(u=-488,g="wXhs",pt(u- -930,g))]&&s[i(196,122)]&&s[i(270,204)]&&(t=s[(d=1207,h="%ZJv",pt(d-713,h))]+"."+s[(r=-285,c="!ae[",pt(r- -713,c))][(n="R^cz",l=928,pt(l-278,n))](".")),t}function l(t,e){return ft(e- -248,t)}function r(t,e){return ft(t- -875,e)}let c=location[D(1345,"!8[c")];const d=function(){if(void 0!==location[r(157,143)])return[...location[c(1445,"!pHs")]];const t=[];let e=window;for(;e!==window[r(262,280)];){if(e[r(317,481)][c(1395,"74by")])try{const o=new URL(e[c(1465,"vvD(")][(n="vvD(",l=303,pt(l- -400,n))]);t[(a=929,s="#Ksm",pt(a-489,s))](o[c(1254,"G@5%")])}catch(t){}e=e[(o=833,i=753,ft(i-272,o))]}var o,i,a,s,n,l;function r(t,e){return ft(t- -236,e)}function c(t,e){return pt(t-859,e)}return t}();function b(t,e){return ft(t- -476,e)}function D(t,e){return pt(t-893,e)}if(i[b(132,117)](z("vvD(",782),[c,...d]),d[s(1507,"!pHs")]&&(c=String(d[d[b(50,97)]-1])),c[s(1310,"xE62")](D(1427,"[iUS")))return H=!1,void(v=$);if(c=a(c),t[s(1577,"%ZJv")](z("ijF5",926))){let a,h;const u=i[b(118,-23)](z("tEiK",818));if(e&&e[S(290,"*3bG")]&&typeof e[S(403,"g$^t")]===b(122,272))h=yield e[z("rBd[",839)]()[M(176,224)]((t=>{H=!1,u&&console[c(863,966)](o(1215,"dVzl"),t);let e=c(875,854);function o(t,e){return I(e,t-1162)}var i,s,n,l;function r(t,e){return S(e-603,t)}function c(t,e){return M(t-605,e)}function d(t,e){return z(e,t-186)}typeof t[(n=528,l="!pHs",S(n-324,l))]===c(805,967)&&(t[o(1398,"WEC5")][o(1404,"3eNk")](c(814,654))||t[d(1078,"^Imo")][(i=1049,s="%ZJv",D(i- -337,s))](r("hCEa",734))||t[c(820,687)][d(1224,"JhZz")](r("VdZv",789)))&&(e=G(540-49,638)),a=N(e)}));else{H=!1,u&&console[G(650,603)](z("sPID",770),e);const t=S(274,"stZF");a=N(t)}if(a)return H=!1,void(v=a);let m;try{const e=M(246,145);m=h[I("stZF",261)](t,e)}catch(t){H=!1;const e=s(1321,"74by");return void(v=N(e,t[I("QG36",68)]))}if(!m.ok){H=!1;const t=r(-177,-314);return void(v=N(t,m[G(607,636)]))}const f=m[D(1430,"tEiK")];if(f&&f[D(1457,"[iUS")]&&f[z("%@%5",950)]instanceof Map&&(f[G(693,574)]=Object[I("^Imo",269)](f[S(136,"!VhY")][s(1572,"dVzl")]()),f[G(693,581)][l(66,217)]instanceof Map&&(f[l(289,361)][S(376,"qY78")]=Object[G(749,712)](f[r(-266,-305)][s(1406,"MMZC")][z("q00^",919)]())),f[I("un3Q",85)][G(663,707)]instanceof Map&&(f[s(1535,"QG36")][l(259,331)]=Object[G(749,661)](f[G(693,591)][s(1450,"pq]4")][M(213,157)]()))),i[z("hCEa",1030)](l(548,448),f),f[l(208,272)][r(-466,-467)]!==D(1577,"aA3]")){H=!1;const t=s(1529,"rBd[");return void(v=N(t))}const g=o[M(124,54)][S(374,"sPID")]()[z("QG36",899)]();if(f[l(433,466)][M(347,483)]<g){H=!1;const t=z("nYBz",1020);return void(v=N(t))}let p=c;if(f[z("#Ksm",802)][G(584,675)]){p=n(c);const t=d[S(228,"aA3]")]((t=>n(t)));if(t[z("3!(E",869)])for(const e of f[s(1397,"sPID")][S(196,"rBd[")]){const o=e[M(139,87)](">")[M(274,178)]()[b(135,128)]((t=>n(t))),i=o[r(-327,-393)](),a=n(location[S(330,"stZF")]);if(!o[l(318,278)]||!t[S(429,"WEC5")]||o[D(1503,"vvD(")]!==t[I("!pHs",256)]||a!==i)continue;let s=0,c=0;for(const e of o){e===t[c]&&s++,c++}if(s===d[r(-349,-393)])return}}if(!f[l(438,361)][M(254,125)][G(766,774)](c)&&!f[I("@vii",45)][r(-313,-444)][M(374,345)](p)){let t=!1;for(const e of f[S(129,"M(Jk")][D(1336,"%SKX")]){if(e[b(-42,-70)](".*")){const o=e[z("qcXI",769)](0,e[S(266,"M239")](".*")+1);if(c[S(153,"un3Q")](o)){t=!0;break}}if(e[s(1581,"QG36")]("*")){const o=e[S(340,"WMYf")](".","\\.")[s(1261,"T]m&")]("*",".*");if(new RegExp(o)[r(-462,-572)](c)){t=!0;break}}}if(!t){H=!1;const t=s(1306,"un3Q")+c+"'.";return void(v=N(t,D(1278,"g$^t")+f[G(693,803)][b(86,143)][l(354,287)](", ")+r(-164,-104)))}}if(!f[I("stZF",192)][M(271,368)][S(339,"MMZC")]){if(i[b(118,23)](S(417,"T]m&"))[D(1586,"nYBz")](".")[0]!==f[b(44,77)][z("JhZz",939)][M(139,159)](".")[0]){H=!1;const t=z("%ZJv",764);return void(v=N(t))}}return}const y=b(52,13),P=I("[iUS",33),W=w;function I(t,e){return pt(e- -378,t)}function S(t,e){return pt(t- -283,e)}function M(t,e){return ft(t- -308,e)}function G(t,e){return ft(t-84,e)}function z(t,e){return pt(e-367,t)}if(t){if(t[D(1330,"xE62")](l(170,257)))return function(){let e=null;function o(t,e){return s(t- -1382,e)}function a(t,e){return G(t- -546,e)}try{const o=t[w("@vii",388)](5),s=h[a(-42,70)](o,y)[C(83,"tEiK")](g);e=JSON[a(206,366)](s),e&&i[z(940,800)](I(-230,-267),{for:e[w("MMZC",291)],domains:[...e[I(-364,-246)]],type:Object[a(232,275)]({},e[n(1339,1443)]),validUntil:Object[u(378,358)]({},e[n(1098,937)])})}catch(t){}function n(t,e){return G(t-554,e)}function r(t,e){return s(e- -645,t)}if(!e||!e[w("G@5%",200)]||!e[o(-59,"!pHs")][d("!VhY",-489)]){H=!1;const t=r("q00^",636);return void(v=N(t,x))}if(!e[r("g$^t",907)]){H=!1;const t=o(34,"WEC5");return void(v=N(t,x))}function d(t,e){return S(e- -692,t)}function u(t,e){return b(t-160,e)}function w(t,e){return D(e- -1157,t)}function C(t,e){return S(t- -90,e)}const $=function(t){function e(t,e){return l(e,t- -494)}const o=Object[e(-48,-177)]({},t);return delete o[e(-211,-337)],delete o[e(-26,-118)],JSON[e(-147,-148)](o)}(e);function I(t,e){return M(t- -618,e)}if(!function(t,e){if(!t||!e)return!1;function o(t,e){return b(e- -103,t)}const i=new W({});return i[o(-143,-67)](P),i[o(46,72)](e,t,p)}(e[o(-56,"M239")],$)){H=!1;const t=n(1180,1237);return void(v=N(t,x))}function z(t,e){return l(e,t-580)}const k=(new Date)[n(1287,1227)]();if(e[I(-466,-370)][C(317,"3!(E")]<k){H=!1;const t=I(-410,-302);v=N(t,x)}else{if(e[u(385,242)][d("MMZC",-382)]===n(1276,1159)||e[o(65,"G9OD")][I(-220,-63)]===r("WMYf",711)){const t=c[C(76,"WMYf")](":");t>-1&&(c=c[C(166,"MMZC")](0,t));const e=m(c);e[z(1033,958)]===f[o(-99,"nYBz")]&&e[z(835,722)]&&e[I(-341,-363)]&&(c=e[d("!pHs",-349)]+"."+e[o(92,"#Ksm")][o(163,"wXhs")]("."))}if(e[n(1200,1035)][d("*3bG",-554)](c));else{H=!1;const t=a(225,219)+c+z(901,918);v=N(t,x)}}}();const e=b(-50,-76),a=encodeURIComponent,n=(new Date)[M(368,338)](),d=h[b(140,251)](n,y),w=S(185,"3eNk"),$=u(n+c,w,{keySize:16})[S(184,"M239")](),k=[a(l(458,448))+"="+a(t),a(z("3!(E",972))+"="+a(c),a(r(-288,-387))+"="+a(location[D(1536,"vvD(")]),a(M(253,256))+"="+a(d),a(M(324,451))+"="+a(e),a(z("pq]4",785))+"="+a(navigator[s(1259,"YdaG")])][b(59,-84)]("&"),L=z("JhZz",791);window[D(1573,"rBd[")](L,{method:s(1318,"!pHs"),redirect:I("qcXI",255),headers:{"Content-Type":b(201,301)},body:k})[z("T]m&",1025)]((t=>{var e,o,i,a;return 200!==t[(e=-184,o="]m%N",s(e- -1595,o))]&&(H=!1,v=C),t[(i=1263,a=1429,l(a,i-914))]()}))[D(1389,"%SKX")]((n=>{function r(t,e){return M(e- -371,t)}function d(t,e){return M(t-466,e)}function h(t,e){return M(e-1284,t)}function u(t,e){return z(t,e- -1219)}function m(t,e){return s(t- -6,e)}if(n&&n.ok)if(n[g(-386,-407)]&&n[d(719,796)]===$)H=!0,i[f("G9OD",-35)](g(-251,-132),(()=>{var t,e;function i(t,e){return f(t,e-1539)}var a,s,l,r,c,h,u,m,p,b,v,D;function y(t,e){return f(e,t-1286)}return{registeredDomains:n[(v=952,D=1115,g(D-1535,v))],validUntil:{text:n[(p=-317,b="M(Jk",f(b,p- -193))],value:o[(u=-328,m=-195,w(m- -980,u))][(c=464,h=569,d(c- -213,h))](n[y(967,"3!(E")])[i("ijF5",1326)]()},type:null!==(t=n[y(1214,"dVzl")])&&void 0!==t?t:{text:(l=-206,r=-95,w(l- -1134,r)),value:i("QG36",1387)},for:null!==(e=n[(a=1705,s=1557,d(s-769,a))])&&void 0!==e?e:""}}));else{H=!1;const o=f("un3Q",-293);v=N(o,x);const i=m(1467,"%SKX"),s=[a(h(1624,1672))+"="+a(t),a(f("R^cz",-230))+"="+a(c),a(w(940,922))+"="+a(location[d(745,866)]),a(p(786,"wXhs"))+"="+a(e),a(u("[iUS",-308))+"="+a(String(n[p(640,"WEC5")])),a(h(1824,1693))+"="+a($),a(g(-565,-585))+"="+a(navigator[r(-147,-221)])][h(1378,1511)]("&");window[p(805,"^Imo")](i,{method:r(-322,-190),redirect:h(1610,1681),headers:{"Content-Type":g(-270,-259)},body:s})}else if(n){H=!1;const t=V(n[m(1256,"%SKX")][p(689,"aA3]")](/\n/gi,d(704,578)));let e=null;n[u("q00^",-235)]&&(e=V(n[r(-7,-150)][r(-43,-169)](/\n/gi,w(899,993))));const o=g(-332,-292);v=A` <div class="${o}"><strong>${_} ${t}</strong><br />${e}<br />${x}</div> `}else H=!1,v=C;function f(t,e){return z(t,e- -1087)}function g(t,e){return b(t- -471,e)}function p(t,e){return s(t- -699,e)}function w(t,e){return l(e,t-601)}O()}))[G(568,635)]((()=>{H=!1,v=C,O()}))}else{H=!1;const t=G(709,799),e=D(1399,"3eNk");v=A` <div class="${e}">${_} ${t}${x}</div> `}}))}R(T[W(1021,933)](G(11,-72),(t=>{function e(t,e){return G(e,t-1229)}function o(t,e){return E(t- -21,e)}B(t)[e(1357,1339)]((()=>{O()}))[o(980,"%ZJv")]((t=>{H=!1;const a=n("MMZC",1465);function s(t,e){return o(t- -790,e)}function n(t,e){return o(e-476,t)}v=N(a),i[n("74by",1690)](e(1011- -241,1018))&&console[s(412,"R^cz")](s(178,"aA3]"),t),O()})),O()})));const j={width:0,height:0};function F(t,e){return ft(t-873,e)}const Y={width:0,height:0};function K(t,e){return pt(t- -907,e)}let Z,J,Q,q;function U(t){const e=t[(o=1726,a=1591,it(a-521,o))];var o,a;const s=t[n(-331,-270)];function n(t,e){return ot(t,e-192)}var l,r,c,d,h,u;(j[n(-22,-151)]!==e||j[(h=-312,u=-408,ot(h,u- -73))]!==s)&&(j[(c="^Imo",d=149,ct(c,d-205))]=e,j[(l=1140,r="M239",E(l- -76,r))]=s,i[n(-235,-124)](E(-403- -1482,"3!(E"),j))}class X{constructor(t){function e(t,e){return W(e,t-78)}!Z&&(Z=new ResizeObserver((()=>{U(t)})),Z[e(737,657)](t),i[e(945,808)](e(775,938),t),U(t))}[E(953,"T]m&")](){}[E(1118,"WEC5")](t){var e,o;Z[(e=1273,o="%@%5",z(e- -109,o))](t)}}function tt(t){function e(t,e){return E(e-357,t)}function o(t,e){return W(e,t- -84)}const a=t[o(858,894)];const s=t[(n="rBd[",l=832,E(l- -314,n))];var n,l,r,c,d,h;(Y[o(756,821)]!==a||Y[(d=533,h=587,it(d- -443,h))]!==s)&&(Y[o(756,743)]=a,Y[e("WMYf",1283)]=s,i[(r=439,c=311,G(r,c-284))](e("sPID",1452),Y))}!P[W(843,941)](X)&&P[ct("]m%N",-159)](X);class et{constructor(t){function e(t,e){return F(e- -1258,t)}var o,a;t=t[e(-14,31)],!J&&(J=new ResizeObserver((()=>{tt(t)})),J[(o=-269,a="QG36",E(o- -1381,a))](t),i[e(335,223)](ot(461,455-925),t),tt(t))}[E(967,"%SKX")](){}[G(113,-23)](t){var e,o,i,a;J[(i="%SKX",a=1342,rt(a- -3,i))](t[(e=496,o=422,G(e,o-587))])}}function ot(t,e){return ft(e- -924,t)}function it(t,e){return ft(t-387,e)}!P[K(-234,"YdaG")](et)&&P[K(-515,"]m%N")](et),a((()=>{var t,e,o,i;J[(o=65,i="nYBz",z(o- -1422,i))](),Z[(t=40,e=-74,ot(e,t-460))]()})),a(i[G(-35,108)]([ct("w0t!",119),E(1016,"qcXI")],(()=>{function t(t,e){return ot(e,t-945)}function e(t,e){return it(e- -806,t)}function o(t,e){return G(e,t-1130)}if(i[o(1143,1024)](t(718,559))){const n=i[o(1143,1266)](e(207,103));if(!n)return;i[(a=510,s="G@5%",ct(s,a-442))](t(506,374),(()=>{function o(t,o){return e(t,o-485)}return n[o(599,655)]-i[o(566,660)](t(1414-813,1416))}))}var a,s}),{group:!0})),a(i[F(1547,1449)](rt(1223,"un3Q"),(t=>{var e,o,i,a,s,n,l,r;Q=t[(l=-125,r=-114,F(r- -1484,l))][(s="wXhs",n=197,rt(n- -1289,s))],q=t[(i=820,a=836,W(i,a- -60))][(e=1352,o="q00^",z(e-89,o))]})));const at={handleEvent(t){function e(t,e){return ct(t,e- -198)}function a(t,e){return ot(e,t-877)}const s=o[c(-134,-289)](t);function n(t,e){return it(t- -127,e)}function l(t,e){return W(t,e-659)}function r(t,e){return K(e-237,t)}function c(t,e){return F(t- -1484,e)}if(t[m(-480,"MMZC")]||s.x){const t=s.x?s.x:s.y,n=o[m(-461,"w0t!")]();return void(t>0?i[c(-17,71)](e("R^cz",-157))?o[a(582,578)](n[m(-349,"WEC5")]+t*Q):o[e("%SKX",-107)](n[a(424,509)]+Q):i[u(156,"^Imo")](h("!pHs",1244))?o[r("!VhY",-105)](n[m(-438,"!pHs")]+t*Q):o[h("!pHs",1304)](n[c(-140,-177)]-Q))}const d=o[r("[iUS",-30)]();function h(t,e){return E(e-332,t)}function u(t,e){return E(t- -766,e)}function m(t,e){return z(t- -1708,e)}if(s.y>0)if(i[c(-17,-29)](m(-226,"pq]4"))){const t=i[m(-260,"VdZv")](l(1759,1633));let e=0;e=t?s.y/t*q:s.y*q,o[l(1613,1542)](d[u(240,"pq]4")]+e)}else o[c(13,-136)](d[m(-468,"!ae[")]+q);else if(i[n(854,707)](l(1519,1599))){const t=i[h("^Imo",1254)](m(-157,"wXhs"));let e=0;e=t?s.y/t*q:s.y*q,o[m(-471,"ijF5")](d[(f=-29,g=81,F(g- -1368,f))]+e)}else o[e("*3bG",-85)](d[n(731,614)]-q);var f,g},passive:!0},st=Object[W(1112,953)](Object[E(1131,"dVzl")]({},e),{api:o,state:i,componentName:y});r((t=>{for(const e in t)st[e]=t[e]}));const nt=s[ct("JhZz",85)](P,st),lt=o[F(1517,1459)](W(623,642),t,e);function rt(t,e){return pt(t-832,e)}function ct(t,e){return pt(e- -551,t)}return a(lt[z(1533,"]m%N")]),()=>H?lt[E(1088,"sPID")](ot(-432,-465),l`
            <div
              data-info-url="https://github.com/neuronetio/gantt-schedule-timeline-calendar"
              class=${D[W(655,714)]}
              style=${D[E(1127,"!8[c")][it(917,895)]()}
              data-actions=${nt()}
              @wheel=${at}
            >
              ${lt[G(6,88)](E(1189,"rBd["),l` ${k[it(1056,1188)]()}${L[rt(1498,"5KzP")]()} `)}
            </div>
          `):v}let bt;!function(){function t(t,e){return pt(e- -62,t)}function e(t,e){return ft(t- -383,e)}const o=gt();function i(t,e){return pt(e-136,t)}for(;;)try{if(738751===-parseInt(i("5KzP",541))/1*(-parseInt(t("%@%5",565))/2)+-parseInt(e(108,193))/3*(-parseInt(t("^Imo",368))/4)+parseInt(t("3!(E",379))/5*(-parseInt(t("aA3]",494))/6)+-parseInt((a=415,s="WMYf",pt(a- -187,s)))/7+parseInt(i("xE62",827))/8*(parseInt(ft(175- -485,71))/9)+parseInt(pt(193- -395,"M(Jk"))/10*(parseInt(e(284,356))/11)+-parseInt(i("!8[c",681))/12*(parseInt(pt(1378-961,"!ae["))/13))break;o.push(o.shift())}catch(t){o.push(o.shift())}var a,s}();const vt=new Array(128).fill(void 0);function Dt(t){return vt[t]}vt.push(void 0,null,!0,!1);let yt=vt.length;function Pt(t){const e=Dt(t);return function(t){t<132||(vt[t]=yt,yt=t)}(t),e}const xt="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&xt.decode();let Wt=null;function Ct(){return null!==Wt&&0!==Wt.byteLength||(Wt=new Uint8Array(bt.memory.buffer)),Wt}function $t(t,e){return t>>>=0,xt.decode(Ct().subarray(t,t+e))}function It(t){yt===vt.length&&vt.push(vt.length+1);const e=yt;return yt=vt[e],vt[e]=t,e}let St=0;const Mt="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Gt="function"==typeof Mt.encodeInto?function(t,e){return Mt.encodeInto(t,e)}:function(t,e){const o=Mt.encode(t);return e.set(o),{read:t.length,written:o.length}};function zt(t,e,o){if(void 0===o){const o=Mt.encode(t),i=e(o.length,1)>>>0;return Ct().subarray(i,i+o.length).set(o),St=o.length,i}let i=t.length,a=e(i,1)>>>0;const s=Ct();let n=0;for(;n<i;n++){const e=t.charCodeAt(n);if(e>127)break;s[a+n]=e}if(n!==i){0!==n&&(t=t.slice(n)),a=o(a,i,i=n+3*t.length,1)>>>0;const e=Ct().subarray(a+n,a+i);n+=Gt(t,e).written}return St=n,a}let kt=null;function Lt(){return null!==kt&&0!==kt.byteLength||(kt=new Int32Array(bt.memory.buffer)),kt}function Rt(){const t={wbg:{}};return t.wbg.__wbindgen_object_drop_ref=function(t){Pt(t)},t.wbg.__wbindgen_string_new=function(t,e){return It($t(t,e))},t.wbg.__wbindgen_bigint_from_i64=function(t){return It(t)},t.wbg.__wbindgen_bigint_from_u64=function(t){return It(BigInt.asUintN(64,t))},t.wbg.__wbindgen_error_new=function(t,e){return It(new Error($t(t,e)))},t.wbg.__wbindgen_object_clone_ref=function(t){return It(Dt(t))},t.wbg.__wbg_String_b9412f8799faab3e=function(t,e){const o=zt(String(Dt(e)),bt.__wbindgen_malloc,bt.__wbindgen_realloc),i=St;Lt()[t/4+1]=i,Lt()[t/4+0]=o},t.wbg.__wbindgen_number_new=function(t){return It(t)},t.wbg.__wbg_set_f975102236d3c502=function(t,e,o){Dt(t)[Pt(e)]=Pt(o)},t.wbg.__wbg_new_abda76e883ba8a5f=function(){return It(new Error)},t.wbg.__wbg_stack_658279fe44541cf6=function(t,e){const o=zt(Dt(e).stack,bt.__wbindgen_malloc,bt.__wbindgen_realloc),i=St;Lt()[t/4+1]=i,Lt()[t/4+0]=o},t.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let o,i;try{o=t,i=e,console.error($t(t,e))}finally{bt.__wbindgen_free(o,i,1)}},t.wbg.__wbg_new_898a68150f225f2e=function(){return It(new Array)},t.wbg.__wbg_new_56693dbed0c32988=function(){return It(new Map)},t.wbg.__wbg_new_b51585de1b234aff=function(){return It(new Object)},t.wbg.__wbg_set_502d29070ea18557=function(t,e,o){Dt(t)[e>>>0]=Pt(o)},t.wbg.__wbg_set_bedc3d02d0f05eb0=function(t,e,o){return It(Dt(t).set(Dt(e),Dt(o)))},t.wbg.__wbindgen_is_string=function(t){return"string"==typeof Dt(t)},t.wbg.__wbindgen_throw=function(t,e){throw new Error($t(t,e))},t}function Tt(t,e){return bt=t.exports,Ot.__wbindgen_wasm_module=e,kt=null,Wt=null,bt}async function Ot(t){if(void 0!==bt)return bt;const e=Rt();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:o,module:i}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const o=await t.arrayBuffer();return await WebAssembly.instantiate(o,e)}{const o=await WebAssembly.instantiate(t,e);return o instanceof WebAssembly.Instance?{instance:o,module:t}:o}}(await t,e);return Tt(o,i)}var At=Object.freeze({__proto__:null,parse_license_key:function(t,e){const o=zt(t,bt.__wbindgen_malloc,bt.__wbindgen_realloc),i=St,a=zt(e,bt.__wbindgen_malloc,bt.__wbindgen_realloc),s=St;return Pt(bt.parse_license_key(o,i,a,s))},License:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_license_free(t)}},LicenseDate:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_licensedate_free(t)}},LicenseKeyResult:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_licensekeyresult_free(t)}},LicenseResult:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_licenseresult_free(t)}},LicenseType:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_licensetype_free(t)}},ProductInfo:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_productinfo_free(t)}},SignedLicense:class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();bt.__wbg_signedlicense_free(t)}},initSync:function(t){if(void 0!==bt)return bt;const e=Rt();return t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t)),Tt(new WebAssembly.Instance(t,e),t)},default:Ot});
/**
 * Gantt-Schedule-Timeline-Calendar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.40.4
 * @released  2025-03-19
 * @license   SEE LICENSE IN LICENSE FILE
 */
const Vt=async function(t={}){let{importHook:e,serverPath:o}=t,i=new URL("assets/dcf9fc09.wasm",import.meta.url).href;return null!=o&&(i=o+/[^\/\\]*$/.exec(i)[0]),null!=e&&(i=e(i)),await Ot(i),At};function Ht(t){const e=t.state,o=new M(e),i={treeMap:{},itemRowMap:{},list:{visibleRows:[],rowsIds:[],rows:{},visibleRowsHeight:0,rowsWithParentsExpanded:[],rowsHeight:0,width:0},dimensions:{width:0,height:0},chart:{items:{},grid:{cells:{},rows:{}},dimensions:{width:0,widthWithoutScrollBar:0,height:0,innerHeight:0,heightWithoutScrollBar:0},verticallyVisibleItems:[],time:{zoom:0,format:{period:"day",periodIncrement:1,zoomTo:0,format:()=>""},level:0,levels:[],currentZoomLevelFormatting:[],allDates:[],timePerPixel:0,totalViewDurationMs:0,totalViewDurationPx:0,leftGlobal:0,rightGlobal:0,leftPx:0,rightPx:0,period:"day",leftGlobalDate:void 0,rightGlobalDate:void 0,centerGlobal:0,centerGlobalDate:void 0,from:0,to:0,fromDate:void 0,toDate:void 0,autoExpandTimeFromItems:!1,datesCache:{timePerPixel:0,levels:[]}}},scroll:{horizontal:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,dataId:"",data:null,preciseOffset:0,visible:!1,percent:0},vertical:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,dataId:"",data:null,preciseOffset:0,visible:!1,percent:0}},elements:{},initializedPlugins:new Set};"boolean"==typeof t.debug&&t.debug&&(globalThis.state=e),e.update("",(t=>({config:t.config,$data:i})));const a=b(e,o),s=a.lithtml;o.setVido(a),o.setMergeDeep(d);const n=a.createApp({component:wt,props:{wasmInitialized:Vt},element:t.element}),l=n.vidoInstance.api;const r={state:e,api:l,component:n,destroy:function(){n.destroy(),e.destroy()},reload:function(){r.component.destroy(),r.component=a.createApp({component:wt,props:{wasmInitialized:Vt},element:t.element}),r.api=n.vidoInstance.api,r.component.update()},lithtml:s,Vido:b};return r}const _t=document.createTextNode("");document.createTextNode=function(t){const e=_t.cloneNode(!0);return e.textContent=t,e}.bind(document);const Nt=document.createElement("div"),Et=document.createElement.bind(document);document.createElement=function(t,...e){if("div"!==t)return Et(t,...e);return Nt.cloneNode(!0)}.bind(document),Ht.api=ut,Ht.lithtml=n,Ht.Vido=b;export{Ht as default};