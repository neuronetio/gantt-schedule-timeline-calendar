/**
 * Gantt-Schedule-Timeline-Calendar helpers
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.8
 * @released  2022-08-04
 * @license   SEE LICENSE IN LICENSE FILE
 */
function t(t,i=""){let s=`gstc__${t}`;return"gstc"===t&&(s="gstc"),i?`${s} ${s}--${i.replace(":","-")}`:s}
/**
 * ProgressBar plugin
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.8
 * @released  2022-08-04
 * @license   SEE LICENSE IN LICENSE FILE
 */const i="config.plugin.ProgressBar";class s{constructor(i,s){this.options=function(i){return Object.assign({enabled:!0,className:t("chart-timeline-items-row-item-progress-bar")},i)}(i),this.vido=s,this.state=s.state,this.className=this.options.className,this.PluginProgressBarSlot=this.PluginProgressBarSlot.bind(this),this.destroy=this.destroy.bind(this),this.state.update("config.slots.chart-timeline-items-row-item.inner",(t=>(t.includes(this.PluginProgressBarSlot)||t.push(this.PluginProgressBarSlot),t)))}destroy(){this.state.update("config.slots.chart-timeline-items-row-item.inner",(t=>t.filter((t=>t!==this.PluginProgressBarSlot)))),this.vido.api.pluginDestroyed("ProgressBar")}PluginProgressBarSlot(t,i){let s;const e=new t.StyleMap({width:"0px"});return t.onChange((r=>{if(!(i=r)||!i.item)return void(e.style.width="0px");const o=t.api.getItemData(i.item.id);if(!o||void 0===i.item.progress)return void(e.style.width="0px");if(!i.item)return;const n=i.item,a=void 0===n.progress?100:n.progress;s=o.width-o.width/100*a,s-=o.position.right-o.position.actualRight,s<0&&(s=0),e.style.width=s+"px"})),t=>i&&i.item&&void 0!==i.item.progress?this.vido.html`
        <div class="${this.className}" style=${e.directive()}></div>${t}
      `:null}}function e(t={}){return function(i){const e=i.state.get("config.plugin.ProgressBar");e&&(t=i.api.mergeDeep({},t,e));const r=new s(t,i);return i.api.pluginInitialized("ProgressBar"),r.destroy}}export{e as Plugin,i as pluginPath};