!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).DependencyLines={})}(this,(function(t){"use strict";
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */const e=t=>null!=t&&"boolean"==typeof t.isDirective,i="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(t,e,i=null,n=null)=>{for(;e!==i;){const i=e.nextSibling;t.insertBefore(e,n),e=i}},s=(t,e,i=null)=>{for(;e!==i;){const i=e.nextSibling;t.removeChild(e),e=i}},r={},o={},a=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${a}--\x3e`,l=new RegExp(`${a}|${u}`);
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */class h{constructor(t,e){this.parts=[],this.element=e;const i=[],n=[],s=document.createTreeWalker(e.content,133,null,!1);let r=0,o=-1,u=0;const{strings:h,values:{length:p}}=t;for(;u<p;){const t=s.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:i}=e;let n=0;for(let t=0;t<i;t++)c(e[t].name,"$lit$")&&n++;for(;n-- >0;){const e=h[u],i=v.exec(e)[2],n=i.toLowerCase()+"$lit$",s=t.getAttribute(n);t.removeAttribute(n);const r=s.split(l);this.parts.push({type:"attribute",index:o,name:i,strings:r}),u+=r.length-1}}"TEMPLATE"===t.tagName&&(n.push(t),s.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(a)>=0){const n=t.parentNode,s=e.split(l),r=s.length-1;for(let e=0;e<r;e++){let i,r=s[e];if(""===r)i=d();else{const t=v.exec(r);null!==t&&c(t[2],"$lit$")&&(r=r.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),i=document.createTextNode(r)}n.insertBefore(i,t),this.parts.push({type:"node",index:++o})}""===s[r]?(n.insertBefore(d(),t),i.push(t)):t.data=s[r],u+=r}}else if(8===t.nodeType)if(t.data===a){const e=t.parentNode;null!==t.previousSibling&&o!==r||(o++,e.insertBefore(d(),t)),r=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(i.push(t),o--),u++}else{let e=-1;for(;-1!==(e=t.data.indexOf(a,e+1));)this.parts.push({type:"node",index:-1}),u++}}else s.currentNode=n.pop()}for(const t of i)t.parentNode.removeChild(t)}}const c=(t,e)=>{const i=t.length-e.length;return i>=0&&t.slice(i)===e},p=t=>-1!==t.index,f=document.createComment(""),d=()=>f.cloneNode(),v=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */class y{constructor(t,e,i){this.__parts=[],this.template=t,this.processor=e,this.options=i}update(t){let e=0;for(const i of this.__parts)void 0!==i&&i.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=i?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,s=document.createTreeWalker(t,133,null,!1);let r,o=0,a=0,u=s.nextNode();for(;o<n.length;)if(r=n[o],p(r)){for(;a<r.index;)a++,"TEMPLATE"===u.nodeName&&(e.push(u),s.currentNode=u.content),null===(u=s.nextNode())&&(s.currentNode=e.pop(),u=s.nextNode());if("node"===r.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(u.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,r.name,r.strings,this.options));o++}else this.__parts.push(void 0),o++;return i&&(document.adoptNode(t),customElements.upgrade(t)),t
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */}}const g=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),m=` ${a} `,w=document.createElement("template");class b{constructor(t,e,i,n){this.strings=t,this.values=e,this.type=i,this.processor=n}getHTML(){const t=this.strings.length-1;let e="",i=!1;for(let n=0;n<t;n++){const t=this.strings[n],s=t.lastIndexOf("\x3c!--");i=(s>-1||i)&&-1===t.indexOf("--\x3e",s+1);const r=v.exec(t);e+=null===r?t+(i?m:u):t.substr(0,r.index)+r[1]+r[2]+"$lit$"+r[3]+a}return e+=this.strings[t],e}getTemplateElement(){const t=w.cloneNode();let e=this.getHTML();return void 0!==g&&(e=g.createHTML(e)),t.innerHTML=e,t}}class _ extends b{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,i=e.firstChild;return e.removeChild(i),n(e,i.firstChild),t
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */}}const x=t=>null===t||!("object"==typeof t||"function"==typeof t),$=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]),S=document.createTextNode("");class P{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new T(this)}_getValue(){const t=this.strings,e=t.length-1,i=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=i[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!$(t))return t}let n="";for(let s=0;s<e;s++){n+=t[s];const e=i[s];if(void 0!==e){const t=e.value;if(x(t)||!$(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class T{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===r||x(t)&&t===this.value||(this.value=t,e(t)||(this.committer.dirty=!0))}commit(){for(;e(this.value);){const t=this.value;this.value=r,t.isClass?t.body(this):t(this)}this.value!==r&&this.committer.commit()}}class M{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(d()),this.endNode=t.appendChild(d())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=d()),t.__insert(this.endNode=d())}insertAfterPart(t){t.__insert(this.startNode=d()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;e(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=r,t.isClass?t.body(this):t(this)}const t=this.__pendingValue;t!==r&&(x(t)?t!==this.value&&this.__commitText(t):t instanceof b?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):$(t)?this.__commitIterable(t):t===o?(this.value=o,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);if(e===this.endNode.previousSibling&&3===e.nodeType)e.data=i;else{const t=S.cloneNode();t.textContent=i,this.__commitNode(t)}this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof y&&this.value.template===e)this.value.update(t.values);else{const i=new y(e,t.processor,this.options),n=i._clone();i.update(t.values),this.__commitNode(n),this.value=i}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let i,n=0;for(const s of t)i=e[n],void 0===i&&(i=new M(this.options),e.push(i),0===n?i.appendIntoPart(this):i.insertAfterPart(e[n-1])),i.setValue(s),i.commit(),n++;n<e.length&&(e.length=n,this.clear(i&&i.endNode))}clear(t=this.startNode){s(this.startNode.parentNode,t.nextSibling,this.endNode)}}class D{constructor(t,e,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this.__pendingValue=t}commit(){for(;e(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=r,t.isClass?t.body(this):t(this)}if(this.__pendingValue===r)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=r}}class L extends P{constructor(t,e,i){super(t,e,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new C(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class C extends T{}let N=!1;(()=>{try{const t={get capture(){return N=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class O{constructor(t,e,i){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;e(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=r,t.isClass?t.body(this):t(this)}if(this.__pendingValue===r)return;const t=this.__pendingValue,i=this.value,n=null==t||null!=i&&(t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive),s=null!=t&&(null==i||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=k(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=r}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const k=t=>t&&(N?{capture:t.capture,passive:t.passive,once:t.once}:t.capture
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */);class R{handleAttributeExpressions(t,e,i,n){const s=e[0];return"."===s?new L(t,e.slice(1),i).parts:"@"===s?[new O(t,e.slice(1),n.eventContext)]:"?"===s?[new D(t,e.slice(1),i)]:new P(t,e,i).parts}handleTextExpression(t){return new M(t)}}const I=new R;
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */function A(t){let e=B.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},B.set(t.type,e));let i=e.stringsArray.get(t.strings);if(void 0!==i)return i;const n=t.strings.join(a);return i=e.keyString.get(n),void 0===i&&(i=new h(t,t.getTemplateElement()),e.keyString.set(n,i)),e.stringsArray.set(t.strings,i),i}const B=new Map,E=new WeakMap;
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");Object.freeze({__proto__:null,html:(t,...e)=>new b(t,e,"html",I),svg:(t,...e)=>new _(t,e,"svg",I),DefaultTemplateProcessor:R,defaultTemplateProcessor:I,directive:t=>(...e)=>{const i=t(...e);return i.isDirective=!0,i},Directive:class{constructor(){this.isDirective=!0,this.isClass=!0}body(t){}},isDirective:e,removeNodes:s,reparentNodes:n,noChange:r,nothing:o,AttributeCommitter:P,AttributePart:T,BooleanAttributePart:D,EventPart:O,isIterable:$,isPrimitive:x,NodePart:M,PropertyCommitter:L,PropertyPart:C,parts:E,render:(t,e,i)=>{let n=E.get(e);void 0===n&&(s(e,e.firstChild),E.set(e,n=new M(Object.assign({templateFactory:A},i))),n.appendInto(e)),n.setValue(t),n.commit()},templateCaches:B,templateFactory:A,TemplateInstance:y,SVGTemplateResult:_,TemplateResult:b,createMarker:d,isTemplatePartActive:p,Template:h});document.createElement("template"),document.createTextNode("");var j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function H(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&i.path)}},i.exports),i.exports}function z(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})})),e}var V=H((function(t,e){var i;t.exports=(i=i||function(t,e){var i=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),n={},s=n.lib={},r=s.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=s.WordArray=r.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,s=t.sigBytes;if(this.clamp(),n%4)for(var r=0;r<s;r++){var o=i[r>>>2]>>>24-r%4*8&255;e[n+r>>>2]|=o<<24-(n+r)%4*8}else for(r=0;r<s;r+=4)e[n+r>>>2]=i[r>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,n=[],s=function(e){e=e;var i=987654321,n=4294967295;return function(){var s=((i=36969*(65535&i)+(i>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return s/=4294967296,(s+=.5)*(t.random()>.5?1:-1)}},r=0;r<e;r+=4){var a=s(4294967296*(i||t.random()));i=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,e)}}),a=n.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],s=0;s<i;s++){var r=e[s>>>2]>>>24-s%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new o.init(i,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],s=0;s<i;s++){var r=e[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(r))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new o.init(i,e)}},h=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=s.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,s=i.sigBytes,r=this.blockSize,a=s/(4*r),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*r,l=t.min(4*u,s);if(u){for(var h=0;h<u;h+=r)this._doProcessBlock(n,h);var c=n.splice(0,u);i.sigBytes-=l}return new o.init(c,l)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(s.Hasher=c.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new p.HMAC.init(t,i).finalize(e)}}}),n.algo={});return n}(Math),i)})),W=(H((function(t,e){var i;t.exports=(i=V,function(){var t=i,e=t.lib,n=e.WordArray,s=e.Hasher,r=t.algo,o=[],a=r.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],s=i[1],r=i[2],a=i[3],u=i[4],l=0;l<80;l++){if(l<16)o[l]=0|t[e+l];else{var h=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=h<<1|h>>>31}var c=(n<<5|n>>>27)+u+o[l];c+=l<20?1518500249+(s&r|~s&a):l<40?1859775393+(s^r^a):l<60?(s&r|s&a|r&a)-1894007588:(s^r^a)-899497514,u=a,a=r,r=s<<30|s>>>2,s=n,n=c}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+r|0,i[3]=i[3]+a|0,i[4]=i[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=s._createHelper(a),t.HmacSHA1=s._createHmacHelper(a)}(),i.SHA1)})),H((function(t,e){var i;t.exports=(i=V,void function(){var t=i,e=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=n.parse(e));var i=t.blockSize,s=4*i;e.sigBytes>s&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),o=this._iKey=e.clone(),a=r.words,u=o.words,l=0;l<i;l++)a[l]^=1549556828,u[l]^=909522486;r.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})}())})),H((function(t,e){var i;t.exports=(i=V,function(){var t=i,e=t.lib,n=e.Base,s=e.WordArray,r=t.algo,o=r.SHA1,a=r.HMAC,u=r.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=a.create(i.hasher,t),r=s.create(),o=s.create([1]),u=r.words,l=o.words,h=i.keySize,c=i.iterations;u.length<h;){var p=n.update(e).finalize(o);n.reset();for(var f=p.words,d=f.length,v=p,y=1;y<c;y++){v=n.finalize(v),n.reset();for(var g=v.words,m=0;m<d;m++)f[m]^=g[m]}r.concat(p),l[0]++}return r.sigBytes=4*h,r}});t.PBKDF2=function(t,e,i){return u.create(i).compute(t,e)}}(),i.PBKDF2)})),H((function(t,e){var i;t.exports=(i=V,function(){var t=i,e=t.lib.WordArray;function n(t,i,n){for(var s=[],r=0,o=0;o<i;o++)if(o%4){var a=n[t.charCodeAt(o-1)]<<o%4*2,u=n[t.charCodeAt(o)]>>>6-o%4*2;s[r>>>2]|=(a|u)<<24-r%4*8,r++}return e.create(s,r)}t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var s=[],r=0;r<i;r+=3)for(var o=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;a<4&&r+.75*a<i;a++)s.push(n.charAt(o>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;s.length%4;)s.push(u);return s.join("")},parse:function(t){var e=t.length,i=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var r=0;r<i.length;r++)s[i.charCodeAt(r)]=r}var o=i.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return n(t,e,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)})),H((function(t,e){var i;t.exports=(i=V,function(t){var e=i,n=e.lib,s=n.WordArray,r=n.Hasher,o=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=o.MD5=r.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,s=t[n];t[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var r=this._hash.words,o=t[e+0],u=t[e+1],f=t[e+2],d=t[e+3],v=t[e+4],y=t[e+5],g=t[e+6],m=t[e+7],w=t[e+8],b=t[e+9],_=t[e+10],x=t[e+11],$=t[e+12],S=t[e+13],P=t[e+14],T=t[e+15],M=r[0],D=r[1],L=r[2],C=r[3];M=l(M,D,L,C,o,7,a[0]),C=l(C,M,D,L,u,12,a[1]),L=l(L,C,M,D,f,17,a[2]),D=l(D,L,C,M,d,22,a[3]),M=l(M,D,L,C,v,7,a[4]),C=l(C,M,D,L,y,12,a[5]),L=l(L,C,M,D,g,17,a[6]),D=l(D,L,C,M,m,22,a[7]),M=l(M,D,L,C,w,7,a[8]),C=l(C,M,D,L,b,12,a[9]),L=l(L,C,M,D,_,17,a[10]),D=l(D,L,C,M,x,22,a[11]),M=l(M,D,L,C,$,7,a[12]),C=l(C,M,D,L,S,12,a[13]),L=l(L,C,M,D,P,17,a[14]),M=h(M,D=l(D,L,C,M,T,22,a[15]),L,C,u,5,a[16]),C=h(C,M,D,L,g,9,a[17]),L=h(L,C,M,D,x,14,a[18]),D=h(D,L,C,M,o,20,a[19]),M=h(M,D,L,C,y,5,a[20]),C=h(C,M,D,L,_,9,a[21]),L=h(L,C,M,D,T,14,a[22]),D=h(D,L,C,M,v,20,a[23]),M=h(M,D,L,C,b,5,a[24]),C=h(C,M,D,L,P,9,a[25]),L=h(L,C,M,D,d,14,a[26]),D=h(D,L,C,M,w,20,a[27]),M=h(M,D,L,C,S,5,a[28]),C=h(C,M,D,L,f,9,a[29]),L=h(L,C,M,D,m,14,a[30]),M=c(M,D=h(D,L,C,M,$,20,a[31]),L,C,y,4,a[32]),C=c(C,M,D,L,w,11,a[33]),L=c(L,C,M,D,x,16,a[34]),D=c(D,L,C,M,P,23,a[35]),M=c(M,D,L,C,u,4,a[36]),C=c(C,M,D,L,v,11,a[37]),L=c(L,C,M,D,m,16,a[38]),D=c(D,L,C,M,_,23,a[39]),M=c(M,D,L,C,S,4,a[40]),C=c(C,M,D,L,o,11,a[41]),L=c(L,C,M,D,d,16,a[42]),D=c(D,L,C,M,g,23,a[43]),M=c(M,D,L,C,b,4,a[44]),C=c(C,M,D,L,$,11,a[45]),L=c(L,C,M,D,T,16,a[46]),M=p(M,D=c(D,L,C,M,f,23,a[47]),L,C,o,6,a[48]),C=p(C,M,D,L,m,10,a[49]),L=p(L,C,M,D,P,15,a[50]),D=p(D,L,C,M,y,21,a[51]),M=p(M,D,L,C,$,6,a[52]),C=p(C,M,D,L,d,10,a[53]),L=p(L,C,M,D,_,15,a[54]),D=p(D,L,C,M,u,21,a[55]),M=p(M,D,L,C,w,6,a[56]),C=p(C,M,D,L,T,10,a[57]),L=p(L,C,M,D,g,15,a[58]),D=p(D,L,C,M,S,21,a[59]),M=p(M,D,L,C,v,6,a[60]),C=p(C,M,D,L,x,10,a[61]),L=p(L,C,M,D,f,15,a[62]),D=p(D,L,C,M,b,21,a[63]),r[0]=r[0]+M|0,r[1]=r[1]+D|0,r[2]=r[2]+L|0,r[3]=r[3]+C|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;i[s>>>5]|=128<<24-s%32;var r=t.floor(n/4294967296),o=n;i[15+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,u=a.words,l=0;l<4;l++){var h=u[l];u[l]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,i,n,s,r,o){var a=t+(e&i|~e&n)+s+o;return(a<<r|a>>>32-r)+e}function h(t,e,i,n,s,r,o){var a=t+(e&n|i&~n)+s+o;return(a<<r|a>>>32-r)+e}function c(t,e,i,n,s,r,o){var a=t+(e^i^n)+s+o;return(a<<r|a>>>32-r)+e}function p(t,e,i,n,s,r,o){var a=t+(i^(e|~n))+s+o;return(a<<r|a>>>32-r)+e}e.MD5=r._createHelper(u),e.HmacMD5=r._createHmacHelper(u)}(Math),i.MD5)})),H((function(t,e){var i;t.exports=(i=V,function(){var t=i,e=t.lib,n=e.Base,s=e.WordArray,r=t.algo,o=r.MD5,a=r.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=i.hasher.create(),r=s.create(),o=r.words,a=i.keySize,u=i.iterations;o.length<a;){l&&n.update(l);var l=n.update(t).finalize(e);n.reset();for(var h=1;h<u;h++)l=n.finalize(l),n.reset();r.concat(l)}return r.sigBytes=4*a,r}});t.EvpKDF=function(t,e,i){return a.create(i).compute(t,e)}}(),i.EvpKDF)})),H((function(t,e){var i;t.exports=void((i=V).lib.Cipher||function(t){var e=i,n=e.lib,s=n.Base,r=n.WordArray,o=n.BufferedBlockAlgorithm,a=e.enc,u=(a.Utf8,a.Base64),l=e.algo.EvpKDF,h=n.Cipher=o.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?w:g}return function(e){return{encrypt:function(i,n,s){return t(n).encrypt(e,i,n,s)},decrypt:function(i,n,s){return t(n).decrypt(e,i,n,s)}}}}()}),c=(n.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),p=n.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),f=c.CBC=function(){var e=p.extend();function i(e,i,n){var s=this._iv;if(s){var r=s;this._iv=t}else r=this._prevBlock;for(var o=0;o<n;o++)e[i+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize;i.call(this,t,e,s),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+s)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize,r=t.slice(e,e+s);n.decryptBlock(t,e),i.call(this,t,e,s),this._prevBlock=r}}),e}(),d=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,s=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(s);var u=r.create(o,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:f,padding:d}),reset:function(){h.reset.call(this);var t=this.cfg,e=t.iv,i=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=i.createEncryptor;else n=i.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,e&&e.words):(this._mode=n.call(i,this,e&&e.words),this._mode.__creator=n)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),n.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),y=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;if(i)var n=r.create([1398893684,1701076831]).concat(i).concat(e);else n=e;return n.toString(u)},parse:function(t){var e=u.parse(t),i=e.words;if(1398893684==i[0]&&1701076831==i[1]){var n=r.create(i.slice(2,4));i.splice(0,4),e.sigBytes-=16}return v.create({ciphertext:e,salt:n})}},g=n.SerializableCipher=s.extend({cfg:s.extend({format:y}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var s=t.createEncryptor(i,n),r=s.finalize(e),o=s.cfg;return v.create({ciphertext:r,key:i,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),m=(e.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=r.random(8));var s=l.create({keySize:e+i}).compute(t,n),o=r.create(s.words.slice(e),4*i);return s.sigBytes=4*e,v.create({key:s,iv:o,salt:n})}},w=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:m}),encrypt:function(t,e,i,n){var s=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=s.iv;var r=g.encrypt.call(this,t,e,s.key,n);return r.mixIn(s),r},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var s=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=s.iv,g.decrypt.call(this,t,e,s.key,n)}})}())})),H((function(t,e){var i;t.exports=(i=V,function(){var t=i,e=t.lib.BlockCipher,n=t.algo,s=[],r=[],o=[],a=[],u=[],l=[],h=[],c=[],p=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,n=0;for(e=0;e<256;e++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,s[i]=d,r[d]=i;var v=t[i],y=t[v],g=t[y],m=257*t[d]^16843008*d;o[i]=m<<24|m>>>8,a[i]=m<<16|m>>>16,u[i]=m<<8|m>>>24,l[i]=m,m=16843009*g^65537*y^257*v^16843008*i,h[d]=m<<24|m>>>8,c[d]=m<<16|m>>>16,p[d]=m<<8|m>>>24,f[d]=m,i?(i=v^t[t[t[g^v]]],n^=t[t[n]]):i=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,n=4*((this._nRounds=i+6)+1),r=this._keySchedule=[],o=0;o<n;o++)if(o<i)r[o]=e[o];else{var a=r[o-1];o%i?i>6&&o%i==4&&(a=s[a>>>24]<<24|s[a>>>16&255]<<16|s[a>>>8&255]<<8|s[255&a]):(a=s[(a=a<<8|a>>>24)>>>24]<<24|s[a>>>16&255]<<16|s[a>>>8&255]<<8|s[255&a],a^=d[o/i|0]<<24),r[o]=r[o-i]^a}for(var u=this._invKeySchedule=[],l=0;l<n;l++)o=n-l,a=l%4?r[o]:r[o-4],u[l]=l<4||o<=4?a:h[s[a>>>24]]^c[s[a>>>16&255]]^p[s[a>>>8&255]]^f[s[255&a]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,a,u,l,s)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,h,c,p,f,r),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,s,r,o,a){for(var u=this._nRounds,l=t[e]^i[0],h=t[e+1]^i[1],c=t[e+2]^i[2],p=t[e+3]^i[3],f=4,d=1;d<u;d++){var v=n[l>>>24]^s[h>>>16&255]^r[c>>>8&255]^o[255&p]^i[f++],y=n[h>>>24]^s[c>>>16&255]^r[p>>>8&255]^o[255&l]^i[f++],g=n[c>>>24]^s[p>>>16&255]^r[l>>>8&255]^o[255&h]^i[f++],m=n[p>>>24]^s[l>>>16&255]^r[h>>>8&255]^o[255&c]^i[f++];l=v,h=y,c=g,p=m}v=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&p])^i[f++],y=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[p>>>8&255]<<8|a[255&l])^i[f++],g=(a[c>>>24]<<24|a[p>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^i[f++],m=(a[p>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^i[f++],t[e]=v,t[e+1]=y,t[e+2]=g,t[e+3]=m},keySize:8});t.AES=e._createHelper(v)}(),i.AES)})),H((function(t,e){t.exports=function(){var t="millisecond",e="second",i="minute",n="hour",s="day",r="week",o="month",a="quarter",u="year",l="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(t,e,i){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(i)+t},d={s:f,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),n=Math.floor(i/60),s=i%60;return(e<=0?"+":"-")+f(n,2,"0")+":"+f(s,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var n=12*(i.year()-e.year())+(i.month()-e.month()),s=e.clone().add(n,o),r=i-s<0,a=e.clone().add(n+(r?-1:1),o);return+(-(n+(i-s)/(r?s-a:a-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:o,y:u,w:r,d:s,D:l,h:n,m:i,s:e,ms:t,Q:a}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",y={};y[v]=p;var g=function(t){return t instanceof _},m=function(t,e,i){var n;if(!t)return v;if("string"==typeof t)y[t]&&(n=t),e&&(y[t]=e,n=t);else{var s=t.name;y[s]=t,n=s}return!i&&n&&(v=n),n||!i&&v},w=function(t,e){if(g(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new _(i)},b=d;b.l=m,b.i=g,b.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function p(t){this.$L=this.$L||m(t.locale,null,!0),this.parse(t)}var f=p.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(h);if(n){var s=n[2]-1||0,r=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var i=w(t);return this.startOf(e)<=i&&i<=this.endOf(e)},f.isAfter=function(t,e){return w(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<w(t)},f.$g=function(t,e,i){return b.u(t)?this[e]:this.set(i,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,a){var h=this,c=!!b.u(a)||a,p=b.p(t),f=function(t,e){var i=b.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?i:i.endOf(s)},d=function(t,e){return b.w(h.toDate()[t].apply(h.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},v=this.$W,y=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(p){case u:return c?f(1,0):f(31,11);case o:return c?f(1,y):f(0,y+1);case r:var w=this.$locale().weekStart||0,_=(v<w?v+7:v)-w;return f(c?g-_:g+(6-_),y);case s:case l:return d(m+"Hours",0);case n:return d(m+"Minutes",1);case i:return d(m+"Seconds",2);case e:return d(m+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(r,a){var h,c=b.p(r),p="set"+(this.$u?"UTC":""),f=(h={},h[s]=p+"Date",h[l]=p+"Date",h[o]=p+"Month",h[u]=p+"FullYear",h[n]=p+"Hours",h[i]=p+"Minutes",h[e]=p+"Seconds",h[t]=p+"Milliseconds",h)[c],d=c===s?this.$D+(a-this.$W):a;if(c===o||c===u){var v=this.clone().set(l,1);v.$d[f](d),v.init(),this.$d=v.set(l,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](d);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[b.p(t)]()},f.add=function(t,a){var l,h=this;t=Number(t);var c=b.p(a),p=function(e){var i=w(h);return b.w(i.date(i.date()+Math.round(e*t)),h)};if(c===o)return this.set(o,this.$M+t);if(c===u)return this.set(u,this.$y+t);if(c===s)return p(1);if(c===r)return p(7);var f=(l={},l[i]=6e4,l[n]=36e5,l[e]=1e3,l)[c]||1,d=this.$d.getTime()+t*f;return b.w(d,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),s=this.$locale(),r=this.$H,o=this.$m,a=this.$M,u=s.weekdays,l=s.months,h=function(t,n,s,r){return t&&(t[n]||t(e,i))||s[n].substr(0,r)},p=function(t){return b.s(r%12||12,t,"0")},f=s.meridiem||function(t,e,i){var n=t<12?"AM":"PM";return i?n.toLowerCase():n},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:b.s(a+1,2,"0"),MMM:h(s.monthsShort,a,l,3),MMMM:h(l,a),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:h(s.weekdaysMin,this.$W,u,2),ddd:h(s.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(r),HH:b.s(r,2,"0"),h:p(1),hh:p(2),a:f(r,o,!0),A:f(r,o,!1),m:String(o),mm:b.s(o,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return i.replace(c,(function(t,e){return e||d[t]||n.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,l,h){var c,p=b.p(l),f=w(t),d=6e4*(f.utcOffset()-this.utcOffset()),v=this-f,y=b.m(this,f);return y=(c={},c[u]=y/12,c[o]=y,c[a]=y/3,c[r]=(v-d)/6048e5,c[s]=(v-d)/864e5,c[n]=v/36e5,c[i]=v/6e4,c[e]=v/1e3,c)[p]||v,h?y:b.a(y)},f.daysInMonth=function(){return this.endOf(o).$D},f.$locale=function(){return y[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),n=m(t,e,!0);return n&&(i.$L=n),i},f.clone=function(){return b.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},p}(),x=_.prototype;return w.prototype=x,[["$ms",t],["$s",e],["$m",i],["$H",n],["$W",s],["$M",o],["$y",u],["$D",l]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t(e,_,w),w},w.locale=m,w.isDayjs=g,w.unix=function(t){return w(1e3*t)},w.en=y[v],w.Ls=y,w}()})),H((function(t,e){t.exports=function(t,e,i){var n=e.prototype;i.utc=function(t){return new e({date:t,utc:!0,args:arguments})},n.utc=function(t){var e=i(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},n.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var s=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var r=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var o=n.utcOffset;n.utcOffset=function(t,e){var i=this.$utils().u;if(i(t))return this.$u?0:i(this.$offset)?o.call(this):this.$offset;var n=Math.abs(t)<=16?60*t:t,s=this;if(e)return s.$offset=n,s.$u=0===t,s;if(0!==t){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(n+r,"minute")).$offset=n,s.$x.$localOffset=r}else s=this.utc();return s};var a=n.format;n.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return a.call(this,e)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var u=n.toDate;n.toDate=function(t){return"s"===t&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var l=n.diff;n.diff=function(t,e,n){var s=this.local(),r=i(t).local();return l.call(s,r,e,n)}}})),H((function(t,e){function i(t,e){void 0===e&&(e="*"),this.wchar=e,this.pattern=t,this.segments=[],this.starCount=0,this.minLength=0,this.maxLength=0,this.segStartIndex=0;for(var i=0,n=t.length;i<n;i+=1){var s=t[i];s===e&&(this.starCount+=1,i>this.segStartIndex&&this.segments.push(t.substring(this.segStartIndex,i)),this.segments.push(s),this.segStartIndex=i+1)}this.segStartIndex<t.length&&this.segments.push(t.substring(this.segStartIndex)),this.starCount?(this.minLength=t.length-this.starCount,this.maxLength=1/0):this.maxLength=this.minLength=t.length}e.__esModule=!0,i.prototype.match=function(t){if(this.pattern===this.wchar)return!0;if(0===this.segments.length)return this.pattern===t;var e=t.length;if(e<this.minLength||e>this.maxLength)return!1;for(var i=this.segments.length-1,n=t.length-1,s=!1;;){var r=this.segments[i];if(i-=1,r===this.wchar)s=!0;else{var o=n+1-r.length,a=t.lastIndexOf(r,o);if(-1===a||a>o)return!1;if(s)n=a-1,s=!1;else{if(a!==o)return!1;n-=r.length}}if(0>i)break}return!0},e.default=i}))),F=H((function(t,e){var i=j&&j.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}};function n(t,e,i,n){void 0===n&&(n=void 0),this.obj=t,this.delimeter=e,this.wildcard=i,this.is_match=n}e.__esModule=!0,n.prototype.simpleMatch=function(t,e){if(t===e)return!0;if(t===this.wildcard)return!0;if(this.is_match)return this.is_match(t,e);var i=t.indexOf(this.wildcard);if(i>-1){var n=t.substr(i+1);if(0===i||e.substring(0,i)===t.substring(0,i)){var s=n.length;return!(s>0)||e.substr(-s)===n}}return!1},n.prototype.match=function(t,e){return this.is_match?this.is_match(t,e):t===e||t===this.wildcard||e===this.wildcard||this.simpleMatch(t,e)||new W.default(t).match(e)},n.prototype.handleArray=function(t,e,n,s,r){var o,a;void 0===r&&(r={});var u=t.indexOf(this.delimeter,n),l=!1;-1===u&&(l=!0,u=t.length);var h=t.substring(n,u),c=0;try{for(var p=i(e),f=p.next();!f.done;f=p.next()){var d=f.value,v=c.toString(),y=""===s?v:s+this.delimeter+c;(h===this.wildcard||h===v||this.simpleMatch(h,v))&&(l?r[y]=d:this.goFurther(t,d,u+1,y,r)),c++}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return r},n.prototype.handleObject=function(t,e,i,n,s){void 0===s&&(s={});var r=t.indexOf(this.delimeter,i),o=!1;-1===r&&(o=!0,r=t.length);var a=t.substring(i,r);for(var u in e){u=u.toString();var l=""===n?u:n+this.delimeter+u;(a===this.wildcard||a===u||this.simpleMatch(a,u))&&(o?s[l]=e[u]:this.goFurther(t,e[u],r+1,l,s))}return s},n.prototype.goFurther=function(t,e,i,n,s){return void 0===s&&(s={}),Array.isArray(e)?this.handleArray(t,e,i,n,s):this.handleObject(t,e,i,n,s)},n.prototype.get=function(t){return this.goFurther(t,this.obj,0,"")},e.default=n})),U=H((function(t,e){var i=j&&j.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}};e.__esModule=!0;var n=function(){function t(){}return t.get=function(t,e,n){var s,r;if(void 0===n&&(n=!1),e){var o=e;try{for(var a=i(t),u=a.next();!u.done;u=a.next()){var l=u.value;if(o.hasOwnProperty(l))o=o[l];else{if(!n)return;o[l]={},o=o[l]}}}catch(t){s={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}return o}},t.set=function(e,i,n){if(n){if(0!==e.length){var s=e.slice(),r=s.pop(),o=t.get(s,n,!0);return"object"==typeof o&&(o[r]=i),i}for(var a in i)n[a]=i[a]}},t}();e.default=n}));let Q,q=0,Y=null;function G(){return null!==Y&&Y.buffer===Q.memory.buffer||(Y=new Uint8Array(Q.memory.buffer)),Y}let K=new TextEncoder("utf-8");const J="function"==typeof K.encodeInto?function(t,e){return K.encodeInto(t,e)}:function(t,e){const i=K.encode(t);return e.set(i),{read:t.length,written:i.length}};function X(t,e,i){if(void 0===i){const i=K.encode(t),n=e(i.length);return G().subarray(n,n+i.length).set(i),q=i.length,n}let n=t.length,s=e(n);const r=G();let o=0;for(;o<n;o++){const e=t.charCodeAt(o);if(e>127)break;r[s+o]=e}if(o!==n){0!==o&&(t=t.slice(o)),s=i(s,n,n=o+3*t.length);const e=G().subarray(s+o,s+n);o+=J(t,e).written}return q=o,s}var Z=z(Object.freeze({__proto__:null,is_match:function(t,e){var i=X(t,Q.__wbindgen_malloc,Q.__wbindgen_realloc),n=q,s=X(e,Q.__wbindgen_malloc,Q.__wbindgen_realloc),r=q;return 0!==Q.is_match(i,n,s,r)},default:async function t(e){("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:i,module:n}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const i=await t.arrayBuffer();return await WebAssembly.instantiate(i,e)}{const i=await WebAssembly.instantiate(t,e);return i instanceof WebAssembly.Instance?{instance:i,module:t}:i}}(await e,{});return Q=i.exports,t.__wbindgen_wasm_module=n,Q}}));H((function(t,e){var i=j&&j.__assign||function(){return(i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},n=j&&j.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){t.done?s(t.value):new i((function(e){e(t.value)})).then(o,a)}u((n=n.apply(t,e||[])).next())}))},s=j&&j.__generator||function(t,e){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=j&&j.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}},o=j&&j.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,s,r=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o},a=j&&j.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};function u(t,e){console.debug(t,e)}e.__esModule=!0;var l={bulk:!1,debug:!1,source:"",data:void 0,queue:!1},h={only:[],source:"",debug:!1,data:void 0,queue:!1,force:!1},c=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.jobsRunning=0,this.updateQueue=[],this.subscribeQueue=[],this.listenersIgnoreCache=new WeakMap,this.destroyed=!1,this.queueRuns=0,this.lastExecs=new WeakMap,this.listeners=new Map,this.waitingListeners=new Map,this.data=t,this.options=i({},{delimiter:".",debug:!1,extraDebug:!1,useMute:!0,notRecursive:";",param:":",wildcard:"*",experimentalMatch:!1,queue:!1,maxSimultaneousJobs:1e3,maxQueueRuns:1e3,log:u,Promise:Promise},e),this.id=0,this.pathGet=U.default.get,this.pathSet=U.default.set,e.Promise?this.resolved=e.Promise.resolve():this.resolved=Promise.resolve(),this.muted=new Set,this.mutedListeners=new Set,this.scan=new F.default(this.data,this.options.delimiter,this.options.wildcard),this.destroyed=!1}return t.prototype.loadWasmMatcher=function(t){return n(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,Z.default(t)];case 1:return e.sent(),this.is_match=Z.is_match,this.scan=new F.default(this.data,this.options.delimiter,this.options.wildcard,this.is_match),[2]}}))}))},t.prototype.same=function(t,e){return(["number","string","undefined","boolean"].includes(typeof t)||null===t)&&e===t},t.prototype.getListeners=function(){return this.listeners},t.prototype.destroy=function(){this.destroyed=!0,this.data=void 0,this.listeners=new Map,this.updateQueue=[],this.jobsRunning=0},t.prototype.match=function(t,e,i){return void 0===i&&(i=!0),this.is_match?this.is_match(t,e):t===e||(t===this.options.wildcard||e===this.options.wildcard||!(!i&&this.getIndicesCount(this.options.delimiter,t)<this.getIndicesCount(this.options.delimiter,e))&&this.scan.match(t,e))},t.prototype.getIndicesOf=function(t,e){var i=t.length;if(0==i)return[];for(var n,s=0,r=[];(n=e.indexOf(t,s))>-1;)r.push(n),s=n+i;return r},t.prototype.getIndicesCount=function(t,e){var i=t.length;if(0==i)return 0;for(var n,s=0,r=0;(n=e.indexOf(t,s))>-1;)r++,s=n+i;return r},t.prototype.cutPath=function(t,e){if((t=this.cleanNotRecursivePath(t))===(e=this.cleanNotRecursivePath(e)))return t;var i=this.getIndicesCount(this.options.delimiter,e),n=this.getIndicesOf(this.options.delimiter,t);return t.substr(0,n[i])},t.prototype.trimPath=function(t){return(t=this.cleanNotRecursivePath(t)).charAt(0)===this.options.delimiter?t.substr(1):t},t.prototype.split=function(t){return""===t?[]:t.split(this.options.delimiter)},t.prototype.isWildcard=function(t){return t.includes(this.options.wildcard)||this.hasParams(t)},t.prototype.isNotRecursive=function(t){return t.endsWith(this.options.notRecursive)},t.prototype.cleanNotRecursivePath=function(t){return this.isNotRecursive(t)?t.substring(0,t.length-1):t},t.prototype.hasParams=function(t){return t.includes(this.options.param)},t.prototype.getParamsInfo=function(t){var e,i,n={replaced:"",original:t,params:{}},s=0,o=[];try{for(var a=r(this.split(t)),u=a.next();!u.done;u=a.next()){var l=u.value;n.params[s]={original:l,replaced:"",name:""};var h=new RegExp("\\"+this.options.param+"([^\\"+this.options.delimiter+"\\"+this.options.param+"]+)","g"),c=h.exec(l);c?(n.params[s].name=c[1],h.lastIndex=0,n.params[s].replaced=l.replace(h,this.options.wildcard),o.push(n.params[s].replaced),s++):(delete n.params[s],o.push(l),s++)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return n.replaced=o.join(this.options.delimiter),n},t.prototype.getParams=function(t,e){if(t){var i=this.split(e),n={};for(var s in t.params){n[t.params[s].name]=i[s]}return n}},t.prototype.waitForAll=function(t,e){var i,n,s={};try{for(var o=r(t),a=o.next();!a.done;a=o.next()){var u=a.value;s[u]={dirty:!1},this.hasParams(u)&&(s[u].paramsInfo=this.getParamsInfo(u)),s[u].isWildcard=this.isWildcard(u),s[u].isRecursive=!this.isNotRecursive(u)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return this.waitingListeners.set(t,{fn:e,paths:s}),e(s),function(){this.waitingListeners.delete(t)}},t.prototype.executeWaitingListeners=function(t){var e,i;if(!this.destroyed)try{for(var n=r(this.waitingListeners.values()),s=n.next();!s.done;s=n.next()){var o=s.value,a=o.fn,u=o.paths,l=0,h=0;for(var c in u){var p=u[c],f=!1;p.isRecursive&&(t=this.cutPath(t,c)),p.isWildcard&&this.match(c,t)&&(f=!0),t===c&&(f=!0),f&&(p.dirty=!0),p.dirty&&l++,h++}l===h&&a(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}},t.prototype.subscribeAll=function(t,e,i){var n,s;if(void 0===i&&(i=l),this.destroyed)return function(){};var o=[];try{for(var a=r(t),u=a.next();!u.done;u=a.next()){var h=u.value;o.push(this.subscribe(h,e,i))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(n)throw n.error}}return function(){var t,e;try{for(var i=r(o),n=i.next();!n.done;n=i.next()){(0,n.value)()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}},t.prototype.getCleanListenersCollection=function(t){return void 0===t&&(t={}),i({listeners:new Map,isRecursive:!1,isWildcard:!1,hasParams:!1,match:void 0,paramsInfo:void 0,path:void 0,originalPath:void 0,count:0},t)},t.prototype.getCleanListener=function(t,e){return void 0===e&&(e=l),{fn:t,options:i({},l,e)}},t.prototype.getListenerCollectionMatch=function(t,e,i){t=this.cleanNotRecursivePath(t);var n=this;return function(s,r){void 0===r&&(r=!1);var o=t;return e?s=n.cutPath(s,t):o=n.cutPath(n.cleanNotRecursivePath(t),s),r&&console.log("[getListenerCollectionMatch]",{listenerPath:t,scopedListenerPath:o,path:s,isRecursive:e,isWildcard:i}),!(!i||!n.match(o,s,e))||o===s}},t.prototype.getListenersCollection=function(t,e){if(this.listeners.has(t)){var n=this.listeners.get(t);return n.listeners.set(++this.id,e),e.id=this.id,n}var s,r=this.hasParams(t);r&&(s=this.getParamsInfo(t));var o={isRecursive:!this.isNotRecursive(t),isWildcard:this.isWildcard(t),hasParams:r,paramsInfo:s,originalPath:t,path:r?s.replaced:t};o.isRecursive||(o.path=this.cleanNotRecursivePath(o.path));var a=this.getCleanListenersCollection(i({},o,{match:this.getListenerCollectionMatch(o.path,o.isRecursive,o.isWildcard)}));return this.id++,a.listeners.set(this.id,e),e.id=this.id,this.listeners.set(o.originalPath,a),a},t.prototype.subscribe=function(t,e,i,n){if(void 0===i&&(i=l),void 0===n&&(n="subscribe"),this.destroyed)return function(){};this.jobsRunning++;var s=this.getCleanListener(e,i);this.listenersIgnoreCache.set(s,{truthy:[],falsy:[]});var r=this.getListenersCollection(t,s);i.debug&&console.log(),r.count++;var o=this.cleanNotRecursivePath(r.path);if(r.isWildcard){var a=this.scan.get(o);if(i.bulk){var u=[];for(var h in a)this.isMuted(h)||u.push({path:h,params:this.getParams(r.paramsInfo,h),value:a[h]});this.isMuted(e)||e(u,{type:n,listener:s,listenersCollection:r,path:{listener:t,update:void 0,resolved:void 0},options:i,params:void 0})}else for(var h in a)this.isMuted(h)||this.isMuted(e)||e(a[h],{type:n,listener:s,listenersCollection:r,path:{listener:t,update:void 0,resolved:this.cleanNotRecursivePath(h)},params:this.getParams(r.paramsInfo,h),options:i})}else this.isMuted(o)||this.isMuted(e)||e(this.pathGet(this.split(o),this.data),{type:n,listener:s,listenersCollection:r,path:{listener:t,update:void 0,resolved:this.cleanNotRecursivePath(t)},params:this.getParams(r.paramsInfo,o),options:i});return this.debugSubscribe(s,r,t),this.jobsRunning--,this.unsubscribe(t,this.id)},t.prototype.unsubscribe=function(t,e){var i=this.listeners,n=i.get(t);return function(){n.listeners.delete(e),n.count--,0===n.count&&i.delete(t)}},t.prototype.runQueuedListeners=function(){var t=this;if(!this.destroyed&&0!==this.subscribeQueue.length)if(0===this.jobsRunning){this.queueRuns=0;for(var e=a(this.subscribeQueue),i=0,n=e.length;i<n;i++)e[i]();this.subscribeQueue.length=0}else{if(this.queueRuns++,this.queueRuns>=this.options.maxQueueRuns)throw this.queueRuns=0,new Error("Maximal number of queue runs exhausted.");Promise.resolve().then((function(){return t.runQueuedListeners()})).catch((function(t){throw t}))}},t.prototype.getQueueNotifyListeners=function(t,e){var n,s,o,a,u=this;for(var l in void 0===e&&(e=[]),t)if(!this.isMuted(l)){var h=t[l],c=h.single,p=h.bulk,f=function(t){var i,n,s=!1;try{for(var o=(i=void 0,r(e)),a=o.next();!a.done;a=o.next()){if(a.value.id===t.listener.id){s=!0;break}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}if(s)return"continue";var u=d.debugTime(t);d.isMuted(t.listener.fn)||(t.listener.options.queue&&d.jobsRunning?d.subscribeQueue.push((function(){t.listener.fn(t.value(),t.eventInfo)})):e.push({id:t.listener.id,originalFn:t.listener.fn,fn:function(){t.listener.fn(t.value(),t.eventInfo)}})),d.debugListener(u,t)},d=this;try{for(var v=(n=void 0,r(c)),y=v.next();!y.done;y=v.next()){f(y.value)}}catch(t){n={error:t}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(n)throw n.error}}var g=function(t){var n,s,o,a,l=!1;try{for(var h=(n=void 0,r(e)),c=h.next();!c.done;c=h.next()){if(c.value.id===t.listener.id){l=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}if(l)return"continue";var p=m.debugTime(t),f=[];try{for(var d=(o=void 0,r(t.value)),v=d.next();!v.done;v=d.next()){var y=v.value;f.push(i({},y,{value:y.value()}))}}catch(t){o={error:t}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}m.isMuted(t.listener.fn)||(t.listener.options.queue&&m.jobsRunning?m.subscribeQueue.push((function(){return!u.jobsRunning&&(t.listener.fn(f,t.eventInfo),!0)})):e.push({id:t.listener.id,originalFn:t.listener.fn,fn:function(){t.listener.fn(f,t.eventInfo)}})),m.debugListener(p,t)},m=this;try{for(var w=(o=void 0,r(p)),b=w.next();!b.done;b=w.next()){g(b.value)}}catch(t){o={error:t}}finally{try{b&&!b.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}return Promise.resolve().then((function(){return u.runQueuedListeners()})),e},t.prototype.shouldIgnore=function(t,e){var i,n;if(!t.options.ignore)return!1;try{for(var s=r(t.options.ignore),o=s.next();!o.done;o=s.next()){var a=o.value;if(e.startsWith(a))return!0;if(this.is_match&&this.is_match(a,e))return!0;var u=this.cutPath(e,a);if(this.match(a,u))return!0}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return!1},t.prototype.getSubscribedListeners=function(t,e,n,s,a){var u,l,c=this;void 0===s&&(s="update"),void 0===a&&(a=null),n=i({},h,n);var p={},f=function(i,o){var u,l,h,f;if(p[i]={single:[],bulk:[],bulkData:[]},o.match(t)){var v=o.paramsInfo?d.getParams(o.paramsInfo,t):void 0,y=d.cutPath(t,i),g=o.isRecursive||o.isWildcard?function(){return c.get(y)}:function(){return e},m=[{value:g,path:t,params:v}];try{for(var w=(u=void 0,r(o.listeners.values())),b=w.next();!b.done;b=w.next()){var _=b.value;d.shouldIgnore(_,t)?_.options.debug&&console.log("[getSubscribedListeners] Listener was not fired because it was ignored.",{listener:_,listenersCollection:o}):_.options.bulk?p[i].bulk.push({listener:_,listenersCollection:o,eventInfo:{type:s,listener:_,path:{listener:i,update:a||t,resolved:void 0},params:v,options:n},value:m}):p[i].single.push({listener:_,listenersCollection:o,eventInfo:{type:s,listener:_,path:{listener:i,update:a||t,resolved:d.cleanNotRecursivePath(t)},params:v,options:n},value:g})}}catch(t){u={error:t}}finally{try{b&&!b.done&&(l=w.return)&&l.call(w)}finally{if(u)throw u.error}}}else if(d.options.extraDebug){var x=!1;try{for(var $=(h=void 0,r(o.listeners.values())),S=$.next();!S.done;S=$.next()){(_=S.value).options.debug&&(x=!0,console.log("[getSubscribedListeners] Listener was not fired because there was no match.",{listener:_,listenersCollection:o,updatePath:t}))}}catch(t){h={error:t}}finally{try{S&&!S.done&&(f=$.return)&&f.call($)}finally{if(h)throw h.error}}x&&o.match(t,!0)}},d=this;try{for(var v=r(this.listeners),y=v.next();!y.done;y=v.next()){var g=o(y.value,2);f(g[0],g[1])}}catch(t){u={error:t}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(u)throw u.error}}return p},t.prototype.notifySubscribedListeners=function(t,e,i,n,s){return void 0===n&&(n="update"),void 0===s&&(s=null),this.getQueueNotifyListeners(this.getSubscribedListeners(t,e,i,n,s))},t.prototype.getNestedListeners=function(t,e,i,n,s){var a,u;void 0===n&&(n="update"),void 0===s&&(s=null);var l={},h=function(a,u){var h,p;if(!u.isRecursive)return"continue";l[a]={single:[],bulk:[]};var f=c.cutPath(a,t);if(c.match(f,t)){var d=c.trimPath(a.substr(f.length)),v=new F.default(e,c.options.delimiter,c.options.wildcard).get(d),y=u.paramsInfo?c.getParams(u.paramsInfo,t):void 0,g=[],m={},w=function(e){var h,p,f=function(){return v[e]},d=[t,e].join(c.options.delimiter);try{for(var w=(h=void 0,r(u.listeners)),b=w.next();!b.done;b=w.next()){var _=o(b.value,2),x=_[0],$=_[1],S={type:n,listener:$,listenersCollection:u,path:{listener:a,update:s||t,resolved:c.cleanNotRecursivePath(d)},params:y,options:i};c.shouldIgnore($,t)||($.options.bulk?(g.push({value:f,path:d,params:y}),m[x]=$):l[a].single.push({listener:$,listenersCollection:u,eventInfo:S,value:f}))}}catch(t){h={error:t}}finally{try{b&&!b.done&&(p=w.return)&&p.call(w)}finally{if(h)throw h.error}}};for(var b in v)w(b);for(var _ in m){var x=m[_],$={type:n,listener:x,listenersCollection:u,path:{listener:a,update:t,resolved:void 0},options:i,params:y};l[a].bulk.push({listener:x,listenersCollection:u,eventInfo:$,value:g})}}else if(c.options.extraDebug)try{for(var S=(h=void 0,r(u.listeners.values())),P=S.next();!P.done;P=S.next()){(x=P.value).options.debug&&console.log("[getNestedListeners] Listener was not fired because there was no match.",{listener:x,listenersCollection:u,currentCutPath:f,updatePath:t})}}catch(t){h={error:t}}finally{try{P&&!P.done&&(p=S.return)&&p.call(S)}finally{if(h)throw h.error}}},c=this;try{for(var p=r(this.listeners),f=p.next();!f.done;f=p.next()){var d=o(f.value,2);h(d[0],d[1])}}catch(t){a={error:t}}finally{try{f&&!f.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return l},t.prototype.notifyNestedListeners=function(t,e,i,n,s,r){return void 0===n&&(n="update"),void 0===r&&(r=null),this.getQueueNotifyListeners(this.getNestedListeners(t,e,i,n,r),s)},t.prototype.getNotifyOnlyListeners=function(t,e,i,n,s){var a,u;void 0===n&&(n="update"),void 0===s&&(s=null);var l={};if("object"!=typeof i.only||!Array.isArray(i.only)||void 0===i.only[0]||!this.canBeNested(e))return l;var h=function(a){var u=new F.default(e,c.options.delimiter,c.options.wildcard).get(a);l[a]={bulk:[],single:[]};var h=function(e){var h,p,f,d,v=t+c.options.delimiter+e;try{for(var y=(h=void 0,r(c.listeners)),g=y.next();!g.done;g=y.next()){var m=o(g.value,2),w=m[0],b=m[1],_=b.paramsInfo?c.getParams(b.paramsInfo,v):void 0;if(c.match(w,v)){var x=function(){return u[e]},$=[{value:x,path:v,params:_}],S=function(e){var r={type:n,listener:e,listenersCollection:b,path:{listener:w,update:s||t,resolved:c.cleanNotRecursivePath(v)},params:_,options:i};if(c.shouldIgnore(e,t))return"continue";e.options.bulk?l[a].bulk.some((function(t){return t.listener===e}))||l[a].bulk.push({listener:e,listenersCollection:b,eventInfo:r,value:$}):l[a].single.push({listener:e,listenersCollection:b,eventInfo:r,value:x})};try{for(var P=(f=void 0,r(b.listeners.values())),T=P.next();!T.done;T=P.next()){S(T.value)}}catch(t){f={error:t}}finally{try{T&&!T.done&&(d=P.return)&&d.call(P)}finally{if(f)throw f.error}}}}}catch(t){h={error:t}}finally{try{g&&!g.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}};for(var p in u)h(p)},c=this;try{for(var p=r(i.only),f=p.next();!f.done;f=p.next()){h(f.value)}}catch(t){a={error:t}}finally{try{f&&!f.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return l},t.prototype.sortAndRunQueue=function(t,e){var i,n;t.sort((function(t,e){return t.id-e.id})),this.options.debug&&console.log("[deep-state-observer] queue for "+e,t);try{for(var s=r(t),o=s.next();!o.done;o=s.next()){o.value.fn()}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}},t.prototype.notifyOnly=function(t,e,i,n,s){void 0===n&&(n="update"),void 0===s&&(s="");var r=this.getQueueNotifyListeners(this.getNotifyOnlyListeners(t,e,i,n,s));this.sortAndRunQueue(r,t)},t.prototype.canBeNested=function(t){return"object"==typeof t&&null!==t},t.prototype.getUpdateValues=function(t,e,i){var n=i;return"function"==typeof i&&(n=i(this.pathGet(e,this.data))),{newValue:n,oldValue:t}},t.prototype.wildcardNotify=function(t,e){var i,n,s,o,a=[];try{for(var u=r(t),l=u.next();!l.done;l=u.next()){var h=l.value;this.getQueueNotifyListeners(h,a)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}try{for(var c=r(e),p=c.next();!p.done;p=c.next()){var f=p.value;this.executeWaitingListeners(f)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}return this.jobsRunning--,a},t.prototype.wildcardUpdate=function(t,e,n,s){void 0===n&&(n=h),void 0===s&&(s=!1),++this.jobsRunning,n=i({},h,n);var r=this.scan.get(t),o={};for(var a in r){var u=this.split(a),l=this.getUpdateValues(r[a],u,e),c=l.oldValue,p=l.newValue;this.same(p,c)&&!n.force||(this.pathSet(u,p,this.data),o[a]=p)}var f=[],d=[];for(var a in o){p=o[a];n.only.length?f.push(this.getNotifyOnlyListeners(a,p,n,"update",t)):(f.push(this.getSubscribedListeners(a,p,n,"update",t)),this.canBeNested(p)&&f.push(this.getNestedListeners(a,p,n,"update",t))),n.debug&&this.options.log("Wildcard update",{path:a,newValue:p}),d.push(a)}if(s){var v=this;return function(){var e=v.wildcardNotify(f,d);v.sortAndRunQueue(e,t)}}var y=this.wildcardNotify(f,d);this.sortAndRunQueue(y,t)},t.prototype.runUpdateQueue=function(){if(!this.destroyed)for(;this.updateQueue.length&&this.updateQueue.length<this.options.maxSimultaneousJobs;){var t=this.updateQueue.shift();t.options.queue=!1,this.update(t.updatePath,t.fnOrValue,t.options,t.multi)}},t.prototype.updateNotify=function(t,e,i){var n=this.notifySubscribedListeners(t,e,i);this.canBeNested(e)&&this.notifyNestedListeners(t,e,i,"update",n),this.sortAndRunQueue(n,t),this.executeWaitingListeners(t)},t.prototype.updateNotifyOnly=function(t,e,i){this.notifyOnly(t,e,i),this.executeWaitingListeners(t)},t.prototype.update=function(t,e,n,s){var r=this;if(void 0===n&&(n=i({},h)),void 0===s&&(s=!1),!this.destroyed){var o=this.jobsRunning;if((this.options.queue||n.queue)&&o){if(o>this.options.maxSimultaneousJobs)throw new Error("Maximal simultaneous jobs limit reached.");this.updateQueue.push({updatePath:t,fnOrValue:e,options:n,multi:s});var a=Promise.resolve().then((function(){r.runUpdateQueue()}));return s?function(){return a}:a}if(this.isWildcard(t))return this.wildcardUpdate(t,e,n,s);++this.jobsRunning;var u=this.split(t),l=this.getUpdateValues(this.pathGet(u,this.data),u,e),c=l.oldValue,p=l.newValue;if(n.debug&&this.options.log("Updating "+t+" "+(n.source?"from "+n.source:""),{oldValue:c,newValue:p}),this.same(p,c)&&!n.force)return--this.jobsRunning,s?function(){return p}:p;if(this.pathSet(u,p,this.data),null===(n=i({},h,n)).only)return--this.jobsRunning,s?function(){}:p;if(n.only.length){if(--this.jobsRunning,s){var f=this;return function(){return f.updateNotifyOnly(t,p,n)}}return this.updateNotifyOnly(t,p,n),p}if(s){--this.jobsRunning;var d=this;return function(){return d.updateNotify(t,p,n)}}return this.updateNotify(t,p,n),--this.jobsRunning,p}},t.prototype.multi=function(){if(this.destroyed)return{update:function(){},done:function(){}};var t=this,e=[];return{update:function(i,n,s){return void 0===s&&(s=h),e.push(t.update(i,n,s,!0)),this},done:function(){for(var t=0,i=e.length;t<i;t++)e[t]();e.length=0}}},t.prototype.get=function(t){if(void 0===t&&(t=void 0),!this.destroyed)return void 0===t||""===t?this.data:this.pathGet(this.split(t),this.data)},t.prototype.last=function(t){var e=this,i=this.lastExecs.get(t);i||(i={calls:0},this.lastExecs.set(t,i));var n=++i.calls;this.resolved.then((function(){n===i.calls&&(e.lastExecs.set(t,{calls:0}),t())}))},t.prototype.isMuted=function(t){var e,i;if(!this.options.useMute)return!1;if("function"==typeof t)return this.isMutedListener(t);try{for(var n=r(this.muted),s=n.next();!s.done;s=n.next()){var o=s.value,a=!this.isNotRecursive(o),u=this.trimPath(o);if(this.match(t,u))return!0;if(this.match(u,t))return!0;if(a){var l=this.cutPath(u,t);if(this.match(l,o))return!0;if(this.match(o,l))return!0}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return!1},t.prototype.isMutedListener=function(t){return this.mutedListeners.has(t)},t.prototype.mute=function(t){if("function"==typeof t)return this.mutedListeners.add(t);this.muted.add(t)},t.prototype.unmute=function(t){if("function"==typeof t)return this.mutedListeners.delete(t);this.muted.delete(t)},t.prototype.debugSubscribe=function(t,e,i){t.options.debug&&this.options.log("listener subscribed",{listenerPath:i,listener:t,listenersCollection:e})},t.prototype.debugListener=function(t,e){(e.eventInfo.options.debug||e.listener.options.debug)&&this.options.log("Listener fired",{time:Date.now()-t,info:e})},t.prototype.debugTime=function(t){return t.listener.options.debug||t.eventInfo.options.debug?Date.now():0},t}();e.default=c}));const tt="gstc";function et(t,e=""){let i="gstc__"+t;return t===tt&&(i=tt),e?`${i} ${i}--${e.replace(":","-")}`:i}const it="DependencyLines",nt="config.plugin.DependencyLines",st="config.slots.chart-timeline-items.outer",rt=et("chart-timeline-dependency-lines-lines"),ot=et("chart-timeline-dependency-lines-lines-line"),at=et("chart-timeline-dependency-lines-points"),ut=et("chart-timeline-dependency-lines-points-point");class lt{constructor(t,e){this.onDestroy=[],this.vido=t,this.api=this.vido.api,this.state=this.vido.state;const i=this.vido.html`<div class=${ut+"--left"}></div>`,n=this.vido.html`<div class=${ut+"--right"}></div>`;this.data=function(t){return Object.assign(Object.assign({},t),{lines:[]})}(function(t,e,i){const n=Object.assign(Object.assign({},function(t,e){return{type:"smooth",onLines:[],onLine:[],leftPoint:{content:t,width:10,height:10},rightPoint:{content:e,width:10,height:10}}}(e,i)),t);return t.leftPoint&&(n.leftPoint=Object.assign(Object.assign({},n.leftPoint),t.leftPoint)),t.rightPoint&&(n.rightPoint=Object.assign(Object.assign({},n.rightPoint),t.rightPoint)),n}(e,i,n)),this.slot=this.slot.bind(this),this.generateLines=this.generateLines.bind(this),this.updateData(),this.onDestroy.push(this.state.subscribe(nt,t=>{this.data=t})),this.state.update(st,t=>(t.includes(this.slot)||t.push(this.slot),t)),this.onDestroy.push(this.state.subscribe("$data.chart.items",this.generateLines))}destroy(){this.state.update(st,t=>t.filter(t=>t!==this.slot)),this.onDestroy.forEach(t=>t()),this.api.pluginDestroyed(it)}updateData(){this.state.update(nt,Object.assign({},this.data)),this.vido.update()}setStraightPoints(t){const{topOffset:e,leftOffset:i,fromItemData:n,toItemData:s,fromRowData:r,toRowData:o}=t;r.visible&&o.visible&&(t.points.push({x:n.position.right+i,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"M",content:this.data.leftPoint.content}),t.points.push({x:s.position.left-i,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"L",content:this.data.rightPoint.content}))}setSquareAltPoints(t){const{topOffset:e,leftOffset:i,fromItemData:n,toItemData:s,fromRowData:r,toRowData:o}=t;if(!r.visible&&!o.visible)return;const a=(s.position.left-n.position.right)/2,u=n.position.right+a,l=(s.position.viewTop-n.position.viewTop)/2,h=n.position.viewTop+l;t.points.push({x:n.position.right+i,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"M",content:this.data.leftPoint.content}),s.position.left<n.position.right?(t.points.push({x:n.position.right+i+10,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"L",content:null}),t.points.push({x:n.position.right+i+10,y:r.visible?h+e:r.position.viewTop,type:"L",content:null})):t.points.push({x:u,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"L",content:null}),t.points.push({x:u,y:r.visible?h+e:r.position.viewTop,type:"L",content:null}),o.visible?(s.position.left<n.position.right?(t.points.push({x:s.position.left-i-10,y:r.visible?h+e:r.position.viewTop,type:"L",content:null}),t.points.push({x:s.position.left-i-10,y:o.visible?s.position.viewTop+e:r.position.viewTop,type:"L",content:null})):t.points.push({x:u,y:o.visible?s.position.viewTop+e:r.position.viewTop,type:"L",content:null}),t.points.push({x:s.position.left-i,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"L",content:this.data.rightPoint.content})):t.points.push({x:u,y:o.position.viewTop,type:"L",content:this.data.rightPoint.content})}setSquarePoints(t){const{topOffset:e,leftOffset:i,fromItemData:n,toItemData:s,fromRowData:r,toRowData:o}=t;(r.visible||o.visible)&&(t.points.push({x:n.position.right+i,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"M",content:this.data.leftPoint.content}),n.position.viewTop!==s.position.viewTop?s.position.left<n.position.right?(t.points.push({x:n.position.right+i+10,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"L",content:null}),s.position.viewTop>n.position.viewTop?(t.points.push({x:n.position.right+i+10,y:r.visible?r.position.viewTop+r.outerHeight:r.position.viewTop,type:"L",content:null}),t.points.push({x:s.position.left+i+10,y:r.visible?r.position.viewTop+r.outerHeight:r.position.viewTop,type:"L",content:null}),t.points.push({x:s.position.left+i+10,y:o.visible?s.position.viewTop:o.position.viewTop,type:"L",content:this.data.rightPoint.content})):(t.points.push({x:n.position.right+i+10,y:r.position.viewTop,type:"L",content:null}),t.points.push({x:s.position.left+i+10,y:r.position.viewTop,type:"L",content:null}),t.points.push({x:s.position.left+i+10,y:o.visible?s.position.viewTop+s.actualHeight:o.position.viewTop,type:"L",content:this.data.rightPoint.content}))):(t.points.push({x:s.position.left+10,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"L",content:null}),s.position.viewTop>n.position.viewTop?t.points.push({x:s.position.left+10,y:o.visible?s.position.viewTop:o.position.viewTop,type:"L",content:this.data.rightPoint.content}):t.points.push({x:s.position.left+10,y:o.visible?s.position.viewTop+s.actualHeight:o.position.viewTop,type:"L",content:this.data.rightPoint.content})):t.points.push({x:s.position.left-i,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"L",content:this.data.rightPoint.content}))}setSmoothPoints(t){const{topOffset:e,leftOffset:i,fromItemData:n,toItemData:s,fromRowData:r,toRowData:o}=t;if(!r.visible&&!o.visible)return;if(t.points.push({x:n.position.right+i,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"M",content:this.data.leftPoint.content}),n.position.viewTop===s.position.viewTop)return void t.points.push({x:s.position.left-i,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"L",content:this.data.rightPoint.content});const a=(s.position.left-n.position.right)/2,u=n.position.right+a;if(n.position.right<=s.position.left)t.points.push({x:u,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"C",content:null}),t.points.push({x:u,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"",content:null}),t.points.push({x:s.position.left-i,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"",content:this.data.rightPoint.content});else{const a=(s.position.viewTop-n.position.viewTop)/2,l=n.position.viewTop+a+e;t.points.push({x:n.position.right+20,y:r.visible?n.position.viewTop+e:r.position.viewTop,type:"C",content:null}),t.points.push({x:n.position.right+40,y:l,type:"",content:null}),t.points.push({x:u,y:l,type:"",content:null}),t.points.push({x:s.position.left+i-20,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"S",content:null}),t.points.push({x:s.position.left+i,y:o.visible?s.position.viewTop+e:o.position.viewTop,type:"",content:this.data.rightPoint.content})}}setPoints(t){switch(t.type){case"straight":this.setStraightPoints(t);break;case"square":this.setSquarePoints(t);break;case"smooth":this.setSmoothPoints(t);break;case"square-alt":this.setSquareAltPoints(t)}}generateLines(){const t=[],e=this.api.getAllItems(),i=this.api.getRowsData(),n=this.api.getItemsData(),s=this.state.get("$data.chart.time"),r=this.data.type;for(const o in e){const a=e[o];if(!a.dependant)continue;if(!a.dependant.length)continue;const u=i[a.rowId],l=n[o],h=a;if(l&&u)for(const o of a.dependant){const a=e[o],c=a,p=i[a.rowId],f=n[o];if(!f||!p)continue;if(s.calculatedZoomMode){if(h.time.end<s.leftGlobal&&c.time.start>s.rightGlobal)continue;if(c.time.end<s.leftGlobal&&h.time.start>s.rightGlobal)continue;if(h.time.start>s.rightGlobal&&c.time.start>s.rightGlobal)continue;if(h.time.end<s.leftGlobal&&c.time.end<s.leftGlobal)continue}const d=l.actualHeight/2,v=0,y=this.state.get("$data.chart.dimensions");let g={x:0,y:0,width:y.width,height:y.height,topOffset:d,leftOffset:v,points:[],type:r,fromItemData:l,toItemData:f,fromItem:h,toItem:c,fromRowData:u,toRowData:p,className:ot};for(const t of this.data.onLine)g=t(g);this.setPoints(g),t.push(g)}}this.data.lines=t;for(const t of this.data.onLines)this.data.lines=t(this.data.lines);this.updateData()}slot(t){const{html:e,svg:i}=t,n=t=>{if(!t.points.length)return"";const e=t.points.slice(),i=e.shift();return[`${i.type} ${i.x} ${i.y}`,[...e.map(t=>`${t.type} ${t.x} ${t.y}`)]].join(" ")},s=(t,i)=>{const n=`left:${t.x-(0===i?this.data.leftPoint.width/2:this.data.rightPoint.width/2)}px;top:${t.y-(0===i?this.data.leftPoint.height/2:this.data.rightPoint.height/2)}px;width:${0===i?this.data.leftPoint.width:this.data.rightPoint.width}px;height:${0===i?this.data.leftPoint.width:this.data.rightPoint.width}px`;return t.content?e`<div class=${ut+" "+ut+"--"+this.data.type} style=${n}>
            ${t.content}
          </div>`:null},r=t=>i`<svg width=${t.width} height=${t.height} xmlns="http://www.w3.org/2000/svg">
        <path d=${(t=>{switch(t.type){case"straight":return(t=>{const e=t.points;return[`${e[0].type} ${e[0].x} ${e[0].y}`,`${e[1].type} ${e[1].x} ${e[1].y}`].join(" ")})(t);case"square":case"square-alt":return n(t);case"smooth":return(t=>{if(!t.points.length)return"";const e=t.points.slice(),i=e.shift();return[`${i.type} ${i.x} ${i.y}`,[...e.map(t=>`${t.type} ${t.x} ${t.y}`)]].join(" ")})(t)}})(t)} />
      </svg>`;return t=>e`<div class="${rt}">${this.data.lines.map(t=>(t=>e`<div
      class=${t.className}
      style="left: ${t.x}px; top: ${t.y}px; width: ${t.width}px; height: ${t.height}px;"
    >
      ${r(t)}
    </div>`)(t))}</div>
        ${t}
        <div class="${at}">${this.data.lines.map(t=>(t=>t.points.map((t,e)=>s(t,e)))(t))}</div>`}}t.Plugin=function(t={}){return function(e){const i=e.api,n=e.state.get(nt);n&&(t=e.api.mergeDeep({},t,n));const s=new lt(e,t);return i.pluginInitialized(it),s.destroy}},Object.defineProperty(t,"__esModule",{value:!0})}));
